require=function t(e,n,i){function a(r,s){if(!n[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return a(n?n:t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({ApiClient:[function(t,e,n){(function(n){"use strict";cc._RFpush(e,"a84f4U58C5CF679wdUpQvWw","ApiClient"),function(n,i){"function"==typeof define&&define.amd?define(["superagent"],i):"object"==typeof e&&e.exports?e.exports=i(t("superagent")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.ApiClient=i(n.superagent))}(this,function(e){var i=function(){this.basePath="http://api.plyph.me/jackpot/".replace(/\/+$/,""),this.authentications={api_key:{type:"apiKey","in":"header",name:"SECRET"}},this.defaultHeaders={},this.timeout=6e4,this.cache=!0};return i.prototype.paramToString=function(t){return void 0==t||null==t?"":t instanceof Date?t.toJSON():t.toString()},i.prototype.buildUrl=function(t,e){t.match(/^\//)||(t="/"+t);var n=this.basePath+t,i=this;return n=n.replace(/\{([\w-]+)\}/g,function(t,n){var a;return a=e.hasOwnProperty(n)?i.paramToString(e[n]):t,encodeURIComponent(a)})},i.prototype.isJsonMime=function(t){return Boolean(null!=t&&t.match(/^application\/json(;.*)?$/i))},i.prototype.jsonPreferredMime=function(t){for(var e=0;e<t.length;e++)if(this.isJsonMime(t[e]))return t[e];return t[0]},i.prototype.isFileParam=function(e){return!!("undefined"==typeof window&&"function"==typeof t&&t("fs")&&e instanceof t("fs").ReadStream)||("function"==typeof n&&e instanceof n||("function"==typeof Blob&&e instanceof Blob||"function"==typeof File&&e instanceof File))},i.prototype.normalizeParams=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&void 0!=t[n]&&null!=t[n]){var i=t[n];this.isFileParam(i)||Array.isArray(i)?e[n]=i:e[n]=this.paramToString(i)}return e},i.CollectionFormatEnum={CSV:",",SSV:" ",TSV:"\t",PIPES:"|",MULTI:"multi"},i.prototype.buildCollectionParam=function(t,e){if(null==t)return null;switch(e){case"csv":return t.map(this.paramToString).join(",");case"ssv":return t.map(this.paramToString).join(" ");case"tsv":return t.map(this.paramToString).join("\t");case"pipes":return t.map(this.paramToString).join("|");case"multi":return t.map(this.paramToString);default:throw new Error("Unknown collection format: "+e)}},i.prototype.applyAuthToRequest=function(t,e){var n=this;e.forEach(function(e){var i=n.authentications[e];switch(i.type){case"basic":(i.username||i.password)&&t.auth(i.username||"",i.password||"");break;case"apiKey":if(i.apiKey){var a={};i.apiKeyPrefix?a[i.name]=i.apiKeyPrefix+" "+i.apiKey:a[i.name]=i.apiKey,"header"===i["in"]?t.set(a):t.query(a)}break;case"oauth2":i.accessToken&&t.set({Authorization:"Bearer "+i.accessToken});break;default:throw new Error("Unknown authentication type: "+i.type)}})},i.prototype.deserialize=function(t,e){if(null==t||null==e)return null;var n=t.body;return null!=n&&Object.keys(n).length||(n=t.text),i.convertToType(n,e)},i.prototype.callApi=function(t,n,i,a,o,r,s,l,c,u,h,d){var p=this,f=this.buildUrl(t,i),m=e(n,f);this.applyAuthToRequest(m,l),"GET"===n.toUpperCase()&&this.cache===!1&&(a._=(new Date).getTime()),m.query(this.normalizeParams(a)),m.set(this.defaultHeaders).set(this.normalizeParams(o)),m.timeout(this.timeout);var g=this.jsonPreferredMime(c);if(g?"multipart/form-data"!=g&&m.type(g):m.header["Content-Type"]||m.type("application/json"),"application/x-www-form-urlencoded"===g)m.send(this.normalizeParams(r));else if("multipart/form-data"==g){var _=this.normalizeParams(r);for(var v in _)_.hasOwnProperty(v)&&(this.isFileParam(_[v])?m.attach(v,_[v]):m.field(v,_[v]))}else s&&m.send(s);var C=this.jsonPreferredMime(u);return C&&m.accept(C),m.end(function(t,e){if(d){var n=null;n=t?e.body:p.deserialize(e,h),e.IsPassed=function(){return this.statusCode>=200&&this.statusCode<=300}.bind(e),d(t,n,e)}}),m},i.parseDate=function(t){return new Date(t.replace(/T/i," "))},i.convertToType=function(t,e){switch(e){case"Boolean":return Boolean(t);case"Integer":return parseInt(t,10);case"Number":return parseFloat(t);case"String":return String(t);case"Date":return this.parseDate(String(t));default:if(e===Object)return t;if("function"==typeof e)return e.constructFromObject(t);if(Array.isArray(e)){var n=e[0];return"string"==typeof t?[]:t.map(function(t){return i.convertToType(t,n)})}if("object"==typeof e){var a,o;for(var r in e)if(e.hasOwnProperty(r)){a=r,o=e[r];break}var s={};for(var r in t)if(t.hasOwnProperty(r)){var l=i.convertToType(r,a),c=i.convertToType(t[r],o);s[l]=c}return s}return t}},i.constructFromObject=function(t,e,n){if(Array.isArray(t))for(var a=0;a<t.length;a++)t.hasOwnProperty(a)&&(e[a]=i.convertToType(t[a],n));else for(var o in t)t.hasOwnProperty(o)&&(e[o]=i.convertToType(t[o],n))},i.instance=new i,i}),cc._RFpop()}).call(this,t("buffer").Buffer)},{buffer:2,fs:void 0,superagent:"superagent"}],Api:[function(t,e,n){"use strict";cc._RFpush(e,"ef66dLs87pF+oAfIlkrWwJf","Api"),function(n){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/GameJackpot","model/GameSimulation","model/GameTournament","model/GameTransaction","model/GameUser","model/GameUserInventory","api/DebugApi","api/InventoryApi","api/JackpotApi","api/SimulationApi","api/TransactionApi","api/UserApi"],n):"object"==typeof e&&e.exports&&(e.exports=n(t("./ApiClient"),t("./model/Error"),t("./model/GameJackpot"),t("./model/GameSimulation"),t("./model/GameTournament"),t("./model/GameTransaction"),t("./model/GameUser"),t("./model/GameUserInventory"),t("./api/DebugApi"),t("./api/InventoryApi"),t("./api/JackpotApi"),t("./api/SimulationApi"),t("./api/TransactionApi"),t("./api/UserApi")))}(function(t,e,n,i,a,o,r,s,l,c,u,h,d,p){var f={ApiClient:t,Error:e,GameJackpot:n,GameSimulation:i,GameTournament:a,GameTransaction:o,GameUser:r,GameUserInventory:s,DebugApi:l,InventoryApi:c,JackpotApi:u,SimulationApi:h,TransactionApi:d,UserApi:p};return f}),cc._RFpop()},{"./ApiClient":"ApiClient","./api/DebugApi":"DebugApi","./api/InventoryApi":"InventoryApi","./api/JackpotApi":"JackpotApi","./api/SimulationApi":"SimulationApi","./api/TransactionApi":"TransactionApi","./api/UserApi":"UserApi","./model/Error":"Error","./model/GameJackpot":"GameJackpot","./model/GameSimulation":"GameSimulation","./model/GameTournament":"GameTournament","./model/GameTransaction":"GameTransaction","./model/GameUser":"GameUser","./model/GameUserInventory":"GameUserInventory"}],AtlasResources:[function(t,e,n){"use strict";cc._RFpush(e,"04402UGKYJD7oCCPJmNwUun","AtlasResources"),cc.Class({"extends":cc.Component,properties:{AtlasList:[cc.SpriteAtlas]},onLoad:function(){e.exports.instance=this},getSprite:function(t,e){for(var n=0;n<this.AtlasList.length;n++)if(this.AtlasList[n].name.indexOf(t)!==-1&&null!=this.AtlasList[n]._spriteFrames[e])return this.AtlasList[n]._spriteFrames[e];return cc.log("%cnot found["+e+"] in ["+t+"]","color:red;"),null},findSprite:function(t){for(var e=0;e<this.AtlasList.length;e++)if(null!=this.AtlasList[e]&&null!=this.AtlasList[e]._spriteFrames[t])return this.AtlasList[e]._spriteFrames[t];return cc.log("%cnot found["+t+"] in atlas","color:red;"),null}}),cc._RFpop()},{}],AudioSourceManager:[function(t,e,n){"use strict";cc._RFpush(e,"147behHYQ9M84pUh/M+rDtQ","AudioSourceManager"),cc.Class({"extends":cc.Component,properties:{m_vAudioSourceList:{"default":[],url:[cc.AudioClip],tooltip:"Audio list"},m_dAudioSources:{"default":null,visible:0}},start:function(){this._SoundFade=new Array,this.setupSounds()},update:function(){this.processAudioFade()},setupSounds:function(){var t={},e=(this.m_vAudioSourceList,new cc.Node("AudioSourceHolder"));this.node.addChild(e);for(var n=0;n<this.m_vAudioSourceList.length;n++){var i=this.m_vAudioSourceList[n],a=this.getAudioName(i);null!=t[a]&&console.warn('Audio name "'+a+'" is already defined, Please remove this duplicated ref at index "'+n+'" of audio to not conflict!');var o=this.attachAudioSource(e,i);t[a]=o}this.m_dAudioSources=t},getAudioSource:function(t){return null!=this.m_dAudioSources?this.m_dAudioSources[t]:null},playAudioSource:function(t,e){var n=this.getAudioSource(t);null!=n?(n.loop=e,n.stop(),n.play()):console.warn('Audio name "'+t+'" not found..')},stopAudioSource:function(t){var e=this.getAudioSource(t);null!=e?e.stop():console.warn('Audio name "'+t+'" not found..')},setVolumeAudioSource:function(t,e){var n=this.getAudioSource(t);null!=n?n.volume=e:console.warn('Audio name "'+t+'" not found..')},setVolumeFadeAudioSource:function(t,e,n){var i=this.getAudioSource(t);null!=i?this._SoundFade.push({fFrom:i.volume,fTo:e,pAudio:i,fStartTime:(new Date).getTime(),bStop:n}):console.warn('Audio name "'+t+'" not found..')},processAudioFade:function(){if(null!=this._SoundFade&&0!=this._SoundFade.length)for(var t=this._SoundFade.length;t>=0;t--){var e=this._SoundFade[t];if(null!=e){var n=(new Date).getTime(),i=(n-e.fStartTime)/1e3,a=this.lerp(e.fFrom,e.fTo,i);if(i>=1)return e.pAudio.volume=e.fTo,e.bStop&&e.pAudio.stop(),void this._SoundFade.splice(t,1);a<0?e.pAudio.volume=0:a>1?e.pAudio.volume=1:e.pAudio.volume=a}}},attachAudioSource:function(t,e){var n=t.addComponent(cc.AudioSource);return n.clip=e,n.mute=!1,n.loop=!1,n.playOnLoad=!1,n.preload=!0,n},getAudioName:function(t){var e,n=t.lastIndexOf("/")+1,i=t.lastIndexOf(".");return e=i>0?t.substring(n,i):t.substring(n)},lerp:function(t,e,n){return t+n*(e-t)}}),cc._RFpop()},{}],AudioTriggers:[function(t,e,n){"use strict";cc._RFpush(e,"585b4dE2FFBf59mEvDY1uc2","AudioTriggers");var i=t("AudioSourceManager"),a=t("GameTriggers"),o=a.GAME_EVENTS,r=a.UI_EVENTS,s=t("TransactionManager"),l=t("CardUtility");cc.Class({"extends":i,properties:{m_vAudioList:{"default":[],url:[cc.AudioClip],tooltip:"Audio list"},m_dAudios:{"default":null,visible:0},m_dAudiosSettings:{"default":null,visible:0},m_dAudiosPlayedTime:{"default":null,visible:0},_CurrentBGM:"",_GameLoopBGMid:null,_GameLoopBGMidName:null,_LastPlayVoice:0,_LastPlayVoiceIndex:-1},editor:!1,start:function(){this._super(),e.exports.instance=this,this.InitList(),this.InitSettings(),this.scheduleOnce(function(){this.StartupAudioCache()}.bind(this),.5),a.AddEvent(o.OnBallCollide,this.OnBallCollide.bind(this)),a.AddEvent(o.OnArrowCollide,this.OnArrowCollide.bind(this)),a.AddEvent(o.OnActiveComponent,this.OnActiveComponent.bind(this)),a.AddEvent(o.OnAlmostStoppingRoulette,this.OnAlmostStoppingRoulette.bind(this)),a.AddEvent(o.OnAlmostStoppingRoulette5,this.OnAlmostStoppingRoulette5.bind(this)),a.AddEvent(o.OnGameChangeSate,this.OnGameChangeSate.bind(this)),a.AddEvent(o.OnGameStartSimulation,this.OnGameStartSimulation.bind(this)),a.AddEvent(o.OnChangeGameState,this.OnChangeGameState.bind(this)),a.AddEvent(r.OnClickButton,this.OnClickButton.bind(this)),a.AddEvent(r.UIBase_Show,this.OnShowUI.bind(this)),a.AddEvent(r.UIBase_Close,this.OnShowUI.bind(this)),a.AddEvent(o.OnClickCard,this.OnClickCard.bind(this)),a.AddEvent(o.OnShowCardOnInventory,this.OnDrawCardAnimation.bind(this)),a.AddEvent(o.OnGameSimulationRequest,this.OnGameSimulationRequest.bind(this)),a.AddEvent(o.OnGameSimulationResponse,this.OnGameSimulationResponse.bind(this)),a.AddEvent(o.OnDrawCardAnimation,this.OnDrawCardAnimation.bind(this)),a.AddEvent(o.OnSetSlotOnCardAnimation,this.OnSetSlotOnCardAnimation.bind(this)),a.AddEvent(o.Tutorial_ShowShift,this.OnTutorial_ShowShift.bind(this)),a.AddEvent(o.OnClickTapToPlay,this.OnClickTapToPlay.bind(this)),a.AddEvent(o.OnClickContinueResults,this.OnClickContinueResults.bind(this)),cc.audioEngine.setEffectsVolume(1),cc.audioEngine.setMusicVolume(1),this.SetBGM("bgm_intro",1)},onDestroy:function(){a.RemoveEventOwner(this)},InitList:function(){if(null==this.m_dAudios){for(var t={},e=this.m_vAudioList,n=0;n<e.length;n++){var i=e[n];if("string"==typeof i){var a,o=i.lastIndexOf("/")+1,r=i.lastIndexOf(".");a=r>0?i.substring(o,r):i.substring(o),null!=t[a]&&console.warn('Audio name "'+a+'" is already defined, Please remove this duplicated ref at index "'+n+'" of audio to not conflict!'),t[a]=i}}this.m_dAudios=t}},InitSettings:function(){this.m_dAudiosPlayedTime={},this.m_dAudiosSettings={},this.SetCooldown("open_menu",.2)},SetCooldown:function(t,e){null==this.m_dAudiosSettings[t]&&(this.m_dAudiosSettings[t]={}),this.m_dAudiosSettings[t].m_iCooldown=1e3*e},PlayAudio:function(t,e){if(!this.IsAudioInCooldown(t)){var n=null,i=this.m_dAudios,a=i[t];return null!=a?(n=cc.audioEngine.playEffect(a,e),this.m_dAudiosPlayedTime[t]=this.GetTimeNow()):console.warn("Audio not found: "+t),n}},StopAudio:function(t){cc.audioEngine.stopEffect(t)},SetBGM:function(t,e){null==e&&(e=1),this._CurrentBGM==t?this.setVolumeFadeAudioSource(t,e,!1):(this._CurrentBGM=t,this.playAudioSource(t,!0))},StopBGM:function(){this.stopAudioSource(this._CurrentBGM)},OnBallCollide:function(t){this.PlayAudio("peg_impact"),this.playPirateVoice()},OnActiveComponent:function(t){this.PlayAudio("bumper_impact"),this.playPirateVoice()},OnArrowCollide:function(t){this.PlayAudio("spin_arrow_selector")},OnAlmostStoppingRoulette:function(t){this.PlayAudio("audience_claps")},OnAlmostStoppingRoulette5:function(t){this.PlayAudio("wheels_slowing_down")},OnStartSpin:function(t){s.instance.isMiniSpin()?this.SetBGM("bgm_intro",.4):this.SetBGM("bgm_intro",0),this.scheduleOnce(function(){null!=this._GameLoopBGMid&&this.stopAudioSource(this._GameLoopBGMid),this._GameLoopBGMid=this.playAudioSource(t,!0),this._GameLoopBGMidName=t}.bind(this),.5)},OnChangeGameState:function(t){var e=t.GetParam(0);"SetupGame"==e&&this.node.destroy()},OnGameChangeSate:function(t){var e=t.GetParam(0),n=e.GetGameState();if("PlayStarted"==n)s.instance.isMiniSpin()?(this.PlayAudio("button_spin_drop"),this.OnStartSpin("bgm_spining")):(this.OnStartSpin("bgm_spining"),this.PlayAudio("sfx_wheel_start_spin"));else if("PlayFinished"==n){var i=!0;if(s.instance.isMiniSpin())this.PlayAudio("sfx_card_win");else{var a=s.instance.getWinSlotId();null!=a&&0!=a&&(i=l.isWinnerCard(a))}this.scheduleOnce(function(){this.SetBGM("bgm_intro",1)}.bind(this),2),this.setVolumeFadeAudioSource(this._GameLoopBGMidName,0,!0)}},OnGameStartSimulation:function(t){var e=t.GetParam(0),n=e.m_sName;"Physics"==n?this.scheduleOnce(function(){s.instance.isMiniSpin()||this.PlayAudio("spin_finish_cheers")}.bind(this),e.m_pData.GetTotalTime()-1):"Intro"==n&&this.PlayAudio("start_drop_ball_roullete")},OnClickButton:function(t){this.PlayAudio("Click_Positive")},OnClickCard:function(t){this.PlayAudio("card_select_drop")},OnShowUI:function(t){var e=t.GetParam(0);null!=e&&e.m_bAutoTriggerSound&&this.PlayAudio("open_menu")},OnDrawCardAnimation:function(t){this.PlayAudio("card_select_drop")},OnGameSimulationRequest:function(t){s.instance.isMiniSpin()&&(this.OnStartSpin("bgm_spining"),this.PlayAudio("button_spin_drop"))},OnGameSimulationResponse:function(t){},OnSetSlotOnCardAnimation:function(t){this.PlayAudio("sfx_card_select_drop2"),this.playPirateVoice(700)},OnTutorial_ShowShift:function(t){this.PlayAudio("popup_warning")},OnClickTapToPlay:function(t){this.PlayAudio("popup_warning")},OnClickContinueResults:function(t){this.setVolumeFadeAudioSource(this._CurrentBGM,0,!0)},GetTimeNow:function(){return(new Date).getTime()},IsAudioInCooldown:function(t){var e=!1;if(null!=this.m_dAudiosPlayedTime){var n=this.m_dAudiosSettings[t];if(null!=n&&null!=n.m_iCooldown){var i=this.m_dAudiosPlayedTime[t]||0;if(i>0){var a=this.GetTimeNow(),o=a-i;o<n.m_iCooldown&&(e=!0)}}}return e},StartupAudioCache:function(){for(var t=(new Array,0);t<this.m_vAudioList.length;t++)null!=this.m_vAudioList[t]&&this.m_vAudioList[t].indexOf("bgm_")===-1&&cc.audioEngine.preload(this.m_vAudioList[t],this.OnPreloadSound.bind(this))},OnPreloadSound:function(){},playPirateVoice:function(t){if(!s.instance.isMiniSpin()){t=null==t?5e3:t;var e=(new Date).getTime();e-this._LastPlayVoice>t&&(this._LastPlayVoice=e,this.PlayAudio("pirate_voice"+this.getRandom()))}},getRandom:function(){for(var t=Math.floor(6*Math.random()+1),e=0;t==this._LastPlayVoiceIndex||e++<10;)t=Math.floor(6*Math.random()+1);return this._LastPlayVoiceIndex=t,this._LastPlayVoiceIndex}});cc._RFpop()},{AudioSourceManager:"AudioSourceManager",CardUtility:"CardUtility",GameTriggers:"GameTriggers",TransactionManager:"TransactionManager"}],BGChangerComp:[function(t,e,n){"use strict";cc._RFpush(e,"cec99mhZDdNbYeFuMswMhzh","BGChangerComp");var i=t("TransactionManager");cc.Class({"extends":cc.Component,properties:{m_spriteBGNode:cc.Sprite,m_spriteMiniSpin:cc.SpriteFrame,m_spriteMiniJackpot:cc.SpriteFrame,m_spriteBigJackpot:cc.SpriteFrame},onLoad:function(){this.buildBG()},buildBG:function(){if(null!==i.instance&&null!==i.instance.getTransaction()){var t=i.instance.getTransactionMode();"MiniSpin"===t?null!=this.m_spriteMiniSpin&&(this.m_spriteBGNode.spriteFrame=this.m_spriteMiniSpin):"MiniJackpot"===t?null!=this.m_spriteMiniJackpot&&(this.m_spriteBGNode.spriteFrame=this.m_spriteMiniJackpot):"BigJackpot"===t&&null!=this.m_spriteBigJackpot&&(this.m_spriteBGNode.spriteFrame=this.m_spriteBigJackpot)}}}),cc._RFpop()},{TransactionManager:"TransactionManager"}],BallSimulationScene:[function(t,e,n){"use strict";cc._RFpush(e,"b6182bu1+BLUZ6g1ZOCe/Gr","BallSimulationScene");var i={},a=t("Profiller"),o=t("Mathf"),r=t("JackpotSceneBase"),s=t("mJackpotUtils"),l=(t("Roulette"),t("BaseInteraction")),c=t("GameTriggers"),u=c.GAME_EVENTS,h=r.GAME_STATE,d=t("TransactionManager").instance,p=(t("Lokaki"),cc.Class({"extends":r,properties:{m_fDelayFinish:{tooltip:"(seconds) amount to wait before proceed the game to ending (after ball enters a slot).","default":0,type:cc.Float},m_pSimulationPlayerIntro:{"default":null,visible:0},m_pSimulationPlayerPhysics:{"default":null,visible:0},m_pRoulette:{"default":null,visible:0},m_dComponents:{"default":null,visible:0},m_pLightArrayAnimation:{"default":null,visible:0},m_pLoadedSceneData:{"default":null,visible:0},m_iState:{"default":0,visible:0},m_iStage:{"default":0,visible:0},m_spriteBall:cc.Node,m_spriteBumper:cc.Node,m_spriteToggledPin:cc.Node,m_spriteRoulette:cc.Node,m_lblSpinButton:cc.Label,m_buttonSpinButton:cc.Button,m_pLatestOffset:{"default":null,visible:0},m_bLockBallRotation:{"default":null,visible:0}},editor:!1,update:function(t){this.Update(t)},Init:function(){this._super(),p.m_pInstance=this,s.Init();var t=0;d.isLoaded()&&(t=d.getCurrentSimulation().round-1),this.LoadStage(t),this.SetState(0),this.node.m_pBallSimulation=this},Update:function(t){if(null!=this.m_pSimulationPlayerPhysics&&this.m_pSimulationPlayerPhysics.IsSimulating()&&this.m_pSimulationPlayerPhysics.Update(t),null!=this.m_pSimulationPlayerIntro&&this.m_pSimulationPlayerIntro.IsSimulating()&&this.m_pSimulationPlayerIntro.Update(t),this.m_bLockBallRotation){var e=this.m_pBall;cc.isValid(e)&&(e.rotation=-e.parent.rotation)}},OnClickButton:function(t){this._super(t);var e=t.GetParam(0);if(null!=e){var n=e.node.name;"BtnSpin"==n&&this.OnTapScreen()}},OnTapScreen:function(){0==this.m_iState?(this.RequestResults(),this.SetState(1)):2==this.m_iState?this.PlaySimulationData():4==this.m_iState&&okt.log("Load Next Round?"),c.TriggerEvent(u.OnGameSimulationStateChange,this.m_iState)},OnRequestResultsSuccess:function(t){if(this._super(t),null!=this.m_pLatestOffset){var e=this.m_pRoulette.GetSlotCount();t+=this.m_pLatestOffset.iOffset,t%=e}this.SetIndexToStop(t),this.StartRoulette()},StartRoulette:function(){this.SetGameState(h.PlayStarted),this.m_pRoulette.SetSpeedIndex(1);var t=this.FindBlockCombination(),e=this.GetRandomSimulation(t.value);okt.log("sRandom",e),this.PrepareSimulationData(e)},GetMaxStages:function(){var t=2;return null!=this.m_pLoadedSceneData&&this.m_pLoadedSceneData.m_iMaxStages&&(t=this.m_pLoadedSceneData.m_iMaxStages),t},GetMinStopDuration:function(){var t=0;return null!=this.m_pLoadedSceneData&&this.m_pLoadedSceneData.m_fMinStopDuration&&(t=this.m_pLoadedSceneData.m_fMinStopDuration),t},SetState:function(t){var e="";if(0==t)e="Place the cards and tap Spin!",null!=this.m_pBall&&(this.m_pBall.setParent(this.GetSpriteParent().parent),this.m_pBall.setPosition(2e3,2e3)),this.m_bLockBallRotation=!1;else if(1==t)e="Waiting for server response...";else if(2==t)e="Tap to Drop the Ball",this.SetLightType("Sequential",null,4),null!=this.m_pBallShadow&&(this.m_pBallShadow.active=!0);else if(3==t)e="Please wait the ball stop in a slot",this.m_pBall.SetParent(this.GetSpriteParent()),this.SetLightType("Default",.5);else if(4==t){e="Tap to next round",null!=this.m_pBallShadow&&(this.m_pBallShadow.active=!1);var n=this.m_pBall,i=n.parent.convertToWorldSpaceAR(n.getPosition());n.setParent(this.m_pRoulette.node);var a=n.parent.convertToNodeSpaceAR(i);n.setPosition(a),this.m_bLockBallRotation=!0,e="Waiting for server response...",this.SetLightType("Sequential")}this.m_iState=t},LoadScene:function(t){this._super(t),null==this.m_pBall&&this.CreateBall(),this.SetGameState(h.WaitingPlay)},CreateBall:function(){var t=this.m_pLoadedSceneData.m_pBallSetting,e=this.GetSpriteParent().parent,n={m_sType:"Ball",m_vPosition:{x:100,y:100},m_fRadiusSize:t.m_fRadiusSize,m_iDepth:t.m_fRadiusSize},i=this.CreateSprite(n,e);this.m_pBall=i;var a=cc.clone(n);a.m_sType="m_spriteBallShadow",a.m_iDepth=-1,a.m_fRadiusSize*=1.4;var o=this.CreateSprite(a,this.GetSpriteParent());this.m_pBallShadow=o,this.m_pBall.m_pShadow=o,i.SetParent=function(t){var e=null;null==t?null!=i.m_tInitialParent&&(e=i.m_tInitialParent):(null==i.m_tInitialParent&&(i.m_tInitialParent=i.parent),e=t),null!=e&&i.parent!=e&&(i.parent=e)}},CreateSprite:function(t,e){var n=this._super(t,e);if(null!=n){var i=n.getComponent(l);null!=i&&(i.m_sType=t.m_sType,n.m_pBaseInteraction=i)}return n},OnCreateRoulette:function(){this._super()},PrepareSimulationData:function(t){this.m_bWaitingRequest||(this.m_bWaitingRequest=!0,cc.loader.loadRes(t,null,function(t,e){if(delete this.m_bWaitingRequest,t)t.message.indexOf("does not exist")!=-1?(console.error('Simulation for block indices "'+JSON.stringify(this.m_pRoulette.GetBlockedSlots())+'" is still not implemented. Loading a default random simulation...'),this.PrepareSimulationData(this.GetRandomSimulation([-1]))):console.log(t);else{var n=s.DecompressStringEncoded(e),i=new f;i.FromJson(n),this.m_pSimulationData=i,a.BeginSample("Init Physics Data"),null==this.m_pSimulationPlayerPhysics&&(this.m_pSimulationPlayerPhysics=new m,this.m_pSimulationPlayerPhysics.m_sName="Physics"),this.m_pSimulationPlayerPhysics.SetData(i),a.BeginSample("Init Intro Data"),null==this.m_pSimulationPlayerIntro&&(this.m_pSimulationPlayerIntro=new m,this.m_pSimulationPlayerIntro.m_sName="Intro");var o=new f;o.data=this.m_pLoadedSceneData.m_pStartingRail,this.m_pSimulationPlayerIntro.SetData(o),a.EndSample(),this.SetState(2)}}.bind(this)))},PlaySimulationData:function(){if(this.m_pSimulationPlayerIntro.HasStarted()||this.m_pSimulationPlayerIntro.StartSimulation(this.m_pBall,function(){this.PlaySimulationData()}.bind(this)),!this.m_pSimulationPlayerIntro.IsSimulating()){var t=!1;if(this.m_pSimulationPlayerPhysics.IsSimulating()||(t=!0),t){var e=this.m_pSimulationData;this.m_pBall.SetParent(this.GetSpriteParent()),this.m_pSimulationPlayerPhysics.StartSimulation(this.m_pBall,function(){this.OnFinishPhysicsSimulation()}.bind(this));var n=e.GetEnvironmentDataById("BasePlatformBehaviour.0");null!=n&&null!=n.m_pRigidbodyData||(cc.log("------ null data"),cc.log(n),cc.log(e));var i=n.m_pRigidbodyData;s.ConvertCompressedSimulationData(i);var a=i.m_fRotation;a=s.ConvertUnityRotation(a);var o=this.GetIndexToStop();okt.log("stop at: "+o);var r=this.m_pRoulette.GetSlotAngle(o),l=this.m_pRoulette.GetSlotAngle(e.GetFinalIndex()),c=a-(l-r),u=this.GetMinStopDuration();this.m_pRoulette.StopAtRotationMinDuration(c,u),this.SetState(3)}}},OnFinishPhysicsSimulation:function(){this.SetState(4),this.m_fDelayFinish>0?this.scheduleOnce(function(){this.SetGameState(h.PlayFinished)}.bind(this),this.m_fDelayFinish):this.SetGameState(h.PlayFinished)},AddOffset:function(t,e,n){var i=[];if(0==e)i=cc.clone(t);else{for(var a=-1,o=9999,r=0;r<t.length;r++){var s=(t[r]+e)%n;i[r]=s,s<o&&(o=s,a=r)}var l=[];l=cc.clone(i);for(var r=0;r<i.length;r++){var c=(a+r)%i.length;i[r]=l[c]}}return i},FindBlockCombination:function(t){null==t&&(t=this.m_pRoulette.GetBlockedSlots());var e={iOffset:0,value:t};if(null==this.m_pLoadedSceneData)return e;var n=this.m_pLoadedSceneData.m_vBlockPossibility;if(null==n||n.length<=0)return e;e.value=n[0].v;for(var i=this.m_pRoulette.GetSlotCount(),a=t.length,o=0;o<i;o++)for(var r=this.AddOffset(t,o,i),l=0;l<n.length;l++){var c=n[l].v;if(c.length==a){if(s.ArraysEqual(c,r))return e.iOffset=o,e.value=r,e}else if(c.length>a)continue}return e}})),f=cc.Class({data:null,FromJson:function(t){this.data=JSON.parse(t)},GetSimulatedDelta:function(){return this.data.m_fSimulatedDelta},GetTotalTime:function(){return this.data.m_fTotalTime},GetFinalIndex:function(){return this.data.m_iFinalIndex},GetFrameData:function(){return this.data.m_vFrameData},GetComponentKeys:function(){return this.data.m_vComponentKeys},GetComponentValues:function(){return this.data.m_vComponentValues},GetEnvironmentData:function(){return this.data.m_vEnvironmentData},GetCollisionData:function(){return this.data.m_vCollisionData},GetEnvironmentDataById:function(t){var e=null,n=this.GetEnvironmentData();if(null!=n)for(var i=0;i<n.length;i++)if(n[i].m_sId==t){e=n[i];break}return e}}),m=cc.Class({properties:{m_pData:null,m_pBall:null,m_fTimePast:0,m_iLatestEvent:-1,m_fDeltaTolerance:0,m_vCollisionData:[]},SetData:function(t){this.m_pData=t,null!=t.GetCollisionData&&(this.m_vCollisionData=t.GetCollisionData()),this.InitComponentDictionary(),this.m_bStarted=!1},StartSimulation:function(t,e){this.m_pBall=t,this.m_fTimePast=0,this.m_iLatestEvent=-1,this.m_fDeltaTolerance=0,this.m_bSimulating=!0,this.m_bStarted=!0,this.m_delOnFinish=e,c.TriggerEvent(u.OnGameStartSimulation,this)},InitComponentDictionary:function(){if(this.m_vComponentFrameDatas=null,null!=this.m_pData.GetComponentKeys&&null!=this.m_pData.GetComponentKeys()){var t=this.m_pData.GetComponentKeys();if(t.length>0){var e=p.m_pInstance.m_dComponents;this.m_dComponents={};var n=this.m_pData.GetComponentValues(),i=this.m_pData.GetFrameData().length;this.m_vComponentFrameDatas={};for(var a=0;a<t.length;a++){var o=t[a];null!=e[o]&&(this.m_dComponents[o]=e[o],this.m_vComponentFrameDatas[o]=s.GetSubArray(n,a*i,i))}}}},HasStarted:function(){return this.m_bStarted},IsSimulating:function(){return this.m_bSimulating},Update:function(t){var e=this.m_pData.GetSimulatedDelta(),n=this.m_fTimePast,i=this.m_pData.GetFrameData();if(n<this.m_pData.GetTotalTime()){var a=this.m_pBall;if(a){this.Simulate(a,i,n,e);var o=a.m_pShadow;null!=o&&o.setPosition(a.getPosition())}if(null!=this.m_vComponentFrameDatas)for(var r in this.m_dComponents){var s=this.m_dComponents[r];this.Simulate(s,this.m_vComponentFrameDatas[r],n,e)}if(null!=this.m_vCollisionData)for(var l=this.m_vCollisionData,c=this.m_iLatestEvent+1,u=c;u<l.length;u++){var h=Math.abs(n-l[u].m_fTime);if(!(h<this.m_fDeltaTolerance))break;this.SimulateCollision(l[u]),this.m_iLatestEvent=u}this.m_fDeltaTolerance=1.5*t,this.m_fTimePast+=t}else this.m_bSimulating=!1,null!=this.m_delOnFinish&&(this.m_delOnFinish(),delete this.m_delOnFinish)},Simulate:function(t,e,n,i){var a=Math.floor(n/i),r=e[a],l=null;l=a+1<e.length?e[a+1]:r,s.ConvertCompressedSimulationData(l),s.ConvertCompressedSimulationData(r);var c=(n-a*i)/i,u=cc.pLerp(r.m_vPosition,l.m_vPosition,c),h=o.LerpAngle(r.m_fRotation,l.m_fRotation,c);u=s.ConvertUnityPosition(u),h=s.ConvertUnityRotation(h);var d=r;c>.5&&(d=l),t.setPosition(u),t.setRotation(h),t.active=d.m_bEnabled;var p=t.m_pBaseInteraction;null!=p&&null!=p.SetColliderEnabled&&p.SetColliderEnabled(d.m_bCollider)},SimulateCollision:function(t){var e=t.m_sType,n=null;if(e.indexOf("OnActiveComponent")!=-1){n=t.m_vParams[0];var i=parseInt(t.m_vParams[1]);c.TriggerEvent(u.OnActiveComponent,n,i)}else c.TriggerEvent(u.OnBallCollide);var a=this.m_dComponents[n];null!=a&&a.m_pBaseInteraction.AnimateCollide()}});p.m_pInstance,p.GetInstance=function(){return p.m_pInstance},p.GetRoulette=function(){return p.GetInstance().m_pRoulette},p.SetPositionOffset=function(t,e){p.GetInstance().GetSpriteParent().setPosition(t,e)},i=p,e.exports=i,cc._RFpop()},{BaseInteraction:"BaseInteraction",GameTriggers:"GameTriggers",JackpotSceneBase:"JackpotSceneBase",Lokaki:"Lokaki",Mathf:"Mathf",Profiller:"Profiller",Roulette:"Roulette",TransactionManager:"TransactionManager",mJackpotUtils:"mJackpotUtils"}],BaseInteraction:[function(t,e,n){"use strict";cc._RFpush(e,"a87268oITdMjrbI6NegYP+t","BaseInteraction");var i={};i.BaseInteraction=cc.Class({"extends":cc.Sprite,properties:{m_pEnabled:cc.SpriteFrame,m_pDisabled:cc.SpriteFrame,m_vSprites:{"default":[],type:[cc.SpriteFrame],tooltip:"List of Sprites in atlas that is allowed to use. Needed since atlas explodes in run time."},m_dSprites:{"default":null,visible:0},m_vPositionOnStart:null,m_sType:{"default":"",visible:0},m_sSpriteName:{"default":"",visible:0}},editor:!1,start:function(){var t=this.m_vSprites;if(t.length>0){for(var e={},n=0;n<t.length;n++){var i=t[n];null!=i&&(e[i.name]=i)}this.m_dSprites=e}},HasMultipleState:function(){return this.m_dSprites},SetColliderEnabled:function(t){var e;if(this.HasMultipleState()){var n=this.m_sSpriteName;t||(n=n.replace("on","off")),e=this.m_dSprites[n]}else e=t?this.m_pEnabled:this.m_pDisabled;null!=e&&(this.spriteFrame=e)},SetParent:function(t){var e=null;null==t?null!=this.m_tInitialParent&&(e=this.m_tInitialParent):(null==this.m_tInitialParent&&(this.m_tInitialParent=this.parent),e=t),null!=e&&this.parent!=e&&(this.active=e==this.m_tInitialParent)},AnimateCollide:function(){if("Bumper"==this.m_sType){var t,e=this.node,n=1.2,i=1;null!=this.m_fOriginalScale?t=this.m_fOriginalScale:(t=e.getScale(),this.m_fOriginalScale=t);var a=t*n;e.stopAllActions();var o=cc.scaleTo(i,t,t);o.easing(cc.easeElasticOut(i)),e.setScale(a),e.runAction(o)}}}),cc._RFpop()},{}],BlinkComp:[function(t,e,n){"use strict";cc._RFpush(e,"b6bf7b5V+tMebBmnbscg7s5","BlinkComp"),cc.Class({"extends":cc.Component,editor:!1,properties:{Root:{"default":null,type:cc.Node},Sprite:{"default":null,type:cc.Node},RandMin:{"default":1,type:cc.Float},RandMax:{"default":3,type:cc.Float},UseFade:!1,FadeTime:.2,_Active:!1,_Wait:0,_Counter:0},onLoad:function(){this.rand()},update:function(t){this._Counter+=t,this._Counter>this._Wait&&(this._Counter=0,this._Active=!this._Active,this.setActive(this._Active),this.rand())},setActive:function(t){this.UseFade?t?this.node.runAction(cc.fadeOut(this.FadeTime)):this.node.runAction(cc.fadeIn(this.FadeTime)):this.Sprite.active=t},rand:function(){this._Counter=0,this._Wait=Math.floor(Math.random()*this.RandMax+this.RandMin)}}),cc._RFpop()},{}],ButtonHelp:[function(t,e,n){"use strict";cc._RFpush(e,"99cf3gUeDVH57OHinDMo1ww","ButtonHelp");var i=t("TransactionManager"),a=t("UIManager");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onClickHelp:function(){var t="UITutorialSlideShow_"+i.instance.getGameMode();a.instance.Show(t)}}),cc._RFpop()},{TransactionManager:"TransactionManager",UIManager:"UIManager"}],CachedResource:[function(t,e,n){"use strict";cc._RFpush(e,"58026a262VKSJYgCe8tvwfU","CachedResource"),cc.Class({"extends":cc.Component,properties:{DisableOnLoad:!0,CacheNodeList:{"default":[],type:cc.Node},_Cached:{"default":null}},onLoad:function(){null!=e.exports.instance&&null!=e.exports.instance._Cached||(this._Cached={},e.exports.instance=this),this.addResources(e.exports.instance._Cached)},addResources:function(t){for(var e=0;e<this.CacheNodeList.length;e++){var n=this.CacheNodeList[e];if(null!=n){if(null!=t[n.name])return void cc.log("%cAlready contains a node with key["+n.name+"], preserving the first one. Revise your resource..","color:red");t[n.name]=n,this.DisableOnLoad&&(n.active=!1)}}},loadResource:function(t,e){
var n=this._Cached[t];return null!=n?void e(null,n):void cc.loader.loadRes(t,function(t,n){e(t,n)}.bind(this))}}),e.exports.loadRes=function(t,n){null!=e.exports.instance?e.exports.instance.loadResource(t,n):cc.loader.loadRes(t,n)},cc._RFpop()},{}],CardComponent:[function(t,e,n){"use strict";cc._RFpush(e,"a7319vryaxNorGBlfP4pCSt","CardComponent");var i=t("CardDefs"),a=(t("DebugUtil"),t("Lokaki")),o=t("GameTriggers");t("TransactionManager");cc.Class({"extends":cc.Component,properties:{btnRoot:{"default":null,type:cc.Button},sprRoot:{"default":null,type:cc.Sprite},LblTitle:{"default":null,type:cc.Label},LblSubTitle:{"default":null,type:cc.Label},LblName:{"default":null,type:cc.Label},ImgIcon:{"default":null,type:cc.Sprite},LblValue:{"default":null,type:cc.Label},LblAmount:{"default":null,type:cc.Label},ImgLogo:{"default":null,type:cc.Sprite},m_pOnClickCardDelegate:{"default":null,serializable:!1},m_pContextDelegate:{"default":null,serializable:!1},m_pData:null},onLoad:function(){this.registerClickEvents()},registerClickEvents:function(){var t=new cc.Component.EventHandler;t.component="CardComponent",t.handler="onClickRootButton",t.target=this.node,this.btnRoot.clickEvents.push(t)},onClickRootButton:function(){null!=this.m_sDelegateFunctionName&&null!=this.m_pContextDelegate&&(this.m_pContextDelegate[this.m_sDelegateFunctionName](this),o.TriggerEvent(o.GAME_EVENTS.OnClickCard,this))},setButtonDelegates:function(t,e){this.m_pContextDelegate=t,this.m_sDelegateFunctionName=e},getData:function(){return this.m_pData},getGroup:function(){return this.m_pData.group},getType:function(){return this.m_pData.type},getEffect:function(){return this.m_pData.effect},getValue:function(){return this.m_pData.value},getId:function(){return this.m_pData.id},getAmount:function(){return this.m_pData.amount},getCharge:function(){return this.m_pData.charge},getLevel:function(){return this.m_pData.level},setData:function(t){this.m_pData=t},setAmount:function(t){null!==this.LblAmount&&(t>1?(this.LblAmount.string=t,this.LblAmount.node.parent.active=!0):this.LblAmount.node.parent.active=!1)},setCardValue:function(t){if(null!==this.LblValue)if(null!==t&&0!=t&&void 0!=t)switch(this.LblValue.node.active=!0,this.getEffect()){case i.effect.Bonus:this.LblValue.string=t+"%";break;case i.effect.Block:this.LblValue.string=t+"x",this.getData().charge=parseInt(t);break;case i.effect.Multiply:this.LblValue.string=t+"x!";break;case i.effect.Cash:case i.effect.DigitalCash:this.LblValue.string="$ "+(parseFloat(t)/100).toFixed(2);break;case i.effect.MoneySpin:this.LblValue.node.active=!1;break;default:this.LblValue.string=t}else this.LblValue.node.active=!1},bakeCard:function(){this._setSubTitle(),this._setTitle(),this._setName(),this.setAmount(this.getAmount()),this.getGroup()===i.group.Special||this.getEffect()==i.effect.RetrySpecial?this.setCardValue(a.GetText(20).toUpperCase()):this.getEffect()==i.effect.Block?(this.getData().value=this.getCharge(),this.LblValue.string=this.getCharge()+"x"):this.setCardValue(this.getValue())},_setTitle:function(){var t=-1;switch(this.getType()){case i.type.BigJackpot:t=10;break;case i.type.MiniJackpot:t=11}t>0&&null!=this.LblTitle&&(this.LblTitle.string=a.GetText(t).toUpperCase())},_setSubTitle:function(){var t=-1;switch(this.getType()){case i.type.BigJackpot:t=12;break;case i.type.MiniJackpot:t=12}t>0&&null!=this.LblSubTitle&&(this.LblSubTitle.string=a.GetText(t).toUpperCase())},_setName:function(){var t=this.getCardName(this.getEffect(),this.getValue());t>0&&null!=this.LblName?this.LblName.string=a.GetText(t).toUpperCase():this.LblName.node.active=!1},getCardName:function(t,e){var n=-1;switch(null==t&&(t=this.getEffect()),null==e&&(e=this.getValue()),t){case i.effect.Retry:n=16;break;case i.effect.RetrySpecial:n=126;break;case i.effect.Bonus:n=21;break;case i.effect.Challenge:n=19;break;case i.effect.Block:n=17;break;case i.effect.Cash:n=18;break;case i.effect.MoneySpin:n=25;break;case i.effect.Wild1:n=13;break;case i.effect.Wild2:n=13;break;case i.effect.Wild3:n=13;break;case i.effect.DigitalCash:n=37;break;case i.effect.Win:n=35;break;case i.effect.Lose:n=67;break;case i.effect.Multiply:n=2==e?28:1==e?30:3==e?29:15}return n},getCardDescription:function(){var t=-1;switch(this.getEffect()){case i.effect.Retry:t=56;break;case i.effect.RetrySpecial:t=61;break;case i.effect.Bonus:t=58;break;case i.effect.Challenge:t=59;break;case i.effect.Block:t=55;break;case i.effect.Cash:t=65;break;case i.effect.MoneySpin:t=57;break;case i.effect.Wild1:t=62;break;case i.effect.Wild2:t=63;break;case i.effect.Wild3:t=64;break;case i.effect.DigitalCash:t=0;break;case i.effect.Win:t=0;break;case i.effect.Multiply:t=66}if(t>0&&null!=this.LblName){var e=null!=this.LblValue?this.LblValue.string:"",n=e,o=this.getType();return a.GetText(t,{value:e,mode:o,charge:n})}return""}}),cc._RFpop()},{CardDefs:"CardDefs",DebugUtil:"DebugUtil",GameTriggers:"GameTriggers",Lokaki:"Lokaki",TransactionManager:"TransactionManager"}],CardDefs:[function(t,e,n){"use strict";cc._RFpush(e,"36056xROQtPbJxUDEPBNWGd","CardDefs"),e.exports.group={None:"None",Basic:"Basic",Medium:"Medium",High:"High",VeryHigh:"VeryHigh",Special:"Special"},e.exports.type={None:"None",BigJackpot:"BigJackpot",MiniJackpot:"MiniJackpot",Wild:"Wild"},e.exports.effect={None:"None",Retry:"Retry",Bonus:"Bonus",Challenge:"Challenge",Block:"Block",Multiply:"Multiply",Cash:"Cash",MoneySpin:"MoneySpin",DigitalCash:"DigitalCash",Wild1:"Wild1",Wild2:"Wild2",Wild3:"Wild3",Locked:"Locked",Win:"Win",RetrySpecial:"RetrySpecial",Lose:"Lose"},e.exports.winTable={None:{effect:"None",winnerCard:!1,playerInventory:!1,allowed3rdRound:!0},Retry:{effect:"Retry",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},RetrySpecial:{effect:"RetrySpecial",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},Bonus:{effect:"Bonus",winnerCard:!0,playerInventory:!0,allowed3rdRound:!1},Challenge:{effect:"Challenge",winnerCard:!1,playerInventory:!1,allowed3rdRound:!0},Block:{effect:"Block",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},Multiply:{effect:"Multiply",winnerCard:!0,playerInventory:!0,allowed3rdRound:!0},Cash:{effect:"Cash",winnerCard:!0,playerInventory:!1,allowed3rdRound:!0},MoneySpin:{effect:"MoneySpin",winnerCard:!0,playerInventory:!1,allowed3rdRound:!0},DigitalCash:{effect:"DigitalCash",winnerCard:!0,playerInventory:!1,allowed3rdRound:!0},Wild1:{effect:"Wild1",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},Wild2:{effect:"Wild2",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},Wild3:{effect:"Wild3",winnerCard:!1,playerInventory:!0,allowed3rdRound:!0},Locked:{effect:"Locked",winnerCard:!1,playerInventory:!1,allowed3rdRound:!0},Win:{effect:"Win",winnerCard:!0,playerInventory:!1,allowed3rdRound:!0},isWinCard:function(t){return null!=this[t]?this[t].winnerCard:(this.traceError(t),!1)},isInventoryCard:function(t){return null!=this[t]?this[t].playerInventory:(this.traceError(t),!1)},isAllowed3rdRoundCard:function(t){return null!=this[t]?this[t].allowed3rdRound:(this.traceError(t),!1)},traceError:function(t){cc.log("%cCard effect["+t+"] not found","color:red")}},cc._RFpop()},{}],CardSlotModel:[function(t,e,n){"use strict";cc._RFpush(e,"8706doFoUtJC7XUEluYrViG","CardSlotModel");var i=cc.Class({properties:{m_uiCardReference:null,m_dictSlotsReference:[],m_iCurrentCard:0,m_iLastRemovedIndex:-1},bakeCard:function(t){this.m_uiCardReference=t;for(var e=0;e<this.m_uiCardReference.getAmount();e++)this.m_dictSlotsReference[e]={m_pSlotsList:[],isUsed:function(){return this.m_pSlotsList.length>0}}},addSlot:function(t){this.getCurrentCard().m_pSlotsList.push(t)},getAmount:function(){return this.m_dictSlotsReference.length},getRemainingAmount:function(){for(var t=0,e=0;e<this.getAmount();e++)this.m_dictSlotsReference[e].isUsed()||t++;return t},getCurrentCard:function(){return this.m_dictSlotsReference[this.m_iCurrentCard]},getCurrentCardIndex:function(){return this.m_iCurrentCard},getRemainingCharge:function(){return this.m_uiCardReference.getCharge()-this.getUsedCharges()},getUsedCharges:function(){return this.getCurrentCard().m_pSlotsList.length},getCardDataOfSlot:function(t){for(var e=0;e<getAmount();e++)for(var n=0;n<getAmount();n++)if(this.m_dictSlotsReference[e][n]===t)return this.m_dictSlotsReference[e];return null},canAddToSelectUI:function(){for(var t=0;t<this.m_dictSlotsReference.length;t++)if(!this.m_dictSlotsReference[t].isUsed())return!0;return!1},getUserCardList:function(){for(var t=new Array,e=0,n=0;n<this.m_dictSlotsReference.length;n++)this.m_dictSlotsReference[n].isUsed()&&e++;if(null==this.m_uiCardReference.getData().dataList)return null;for(var n=0;n<e;n++)t.push(this.m_uiCardReference.getData().dataList[n]);return t},updateModel:function(){for(var t=0;t<this.m_dictSlotsReference.length;t++)if(0==this.m_dictSlotsReference[t].m_pSlotsList.length){this.m_iCurrentCard=t;break}},removeSlotFromArray:function(t){cc.log("removeSlotFromArray not implemented")},removeSlot:function(t){for(var e=0;e<this.m_dictSlotsReference.length;e++)for(var n=0;n<this.m_dictSlotsReference[e].m_pSlotsList.length;n++)if(this.m_dictSlotsReference[e].m_pSlotsList[n]==t)return this.m_uiCardReference.m_uiChooseCard.onRemoveSlotId(this.m_dictSlotsReference[e].m_pSlotsList[n].getSlotId()),this.m_dictSlotsReference[e].m_pSlotsList[n].node.destroy(),this.m_dictSlotsReference[e].m_pSlotsList.splice(n,1),void(this.m_iLastRemovedIndex=e);t.node.destroy()},removeSlots:function(){var t=this.m_iLastRemovedIndex;if(t>=0&&null!=this.m_dictSlotsReference[t]){for(var e=0;e<this.m_dictSlotsReference[t].m_pSlotsList.length;e++)this.m_uiCardReference.m_uiChooseCard.onRemoveSlotId(this.m_dictSlotsReference[t].m_pSlotsList[e].getSlotId()),this.m_dictSlotsReference[t].m_pSlotsList[e].node.destroy();this.m_dictSlotsReference[t].m_pSlotsList=[]}this.m_iLastRemovedIndex=-1}});e.exports=i,cc._RFpop()},{}],CardUtility:[function(t,e,n){"use strict";cc._RFpush(e,"21602jDW65Mn6gbSSJjgUCe","CardUtility");var i=t("Lokaki"),a=t("CardDefs"),o={},r="s",s={1:"None",2:"BigJackpot",3:"MiniJackpot",4:"Wild",5:"None",6:"Retry",7:"Bonus",8:"Challenge",9:"Block",10:"Multiply",11:"Cash",12:"MoneySpin",13:"Cash",14:"Wild1",15:"Wild2",16:"Wild3",17:"Locked",18:"Win",19:"RetrySpecial"},l={None:5,BigJackpot:2,MiniJackpot:3,Wild:4,Retry:6,Bonus:7,Challenge:8,Block:9,Multiply:10,Cash:11,MoneySpin:12,Cash:13,Wild1:14,Wild2:15,Wild3:16,Locked:17,Win:18,RetrySpecial:19};o.createCard=function(t,e,n,i,a){return(null==a||a<=0)&&(a=1),{id:0,amount:a,charge:i,type:t,effect:e,group:"Basic",value:n,level:0}},o.generateCardId=function(t,e,n,i){void 0==n&&(n=0),void 0==i&&(i=1);var a=l[t];return a=a+r+l[e],a=a+r+i,a=a+r+n},o.generateCardIdFromCard=function(t){return this.generateCardId(t.type,t.effect,t.value,t.charge)},o.parseCardId=function(t,e){var n=t.split(r),i="None",a="None",o=1,l=0;return 4==n.length&&(i=s[n[0]],a=s[n[1]],o=n[2],l=n[3]),void 0==e?e=this.createCard(i,a,l,o):(e.type=i,e.effect=a,e.value=l,e.charge=o),e.id=t,e},o.parseCardIdList=function(t){for(var e=[],n=0;n<t.length;++n){var i=this.parseCardId(t[n]);e.push(i)}return e},o.isWinnerCard=function(t){var e=o.parseCardId(t),n=a.winTable.isWinCard(e.effect);return n},o.getCardName=function(t,e){var n=-1;switch(t){case a.effect.Retry:n=16;break;case a.effect.RetrySpecial:n=126;break;case a.effect.Bonus:n=21;break;case a.effect.Challenge:n=19;break;case a.effect.Block:n=17;break;case a.effect.Cash:n=18;break;case a.effect.MoneySpin:n=25;break;case a.effect.Wild1:n=13;break;case a.effect.Wild2:n=13;break;case a.effect.Wild3:n=13;break;case a.effect.DigitalCash:n=37;break;case a.effect.Win:n=35;break;case a.effect.Lose:n=67;break;case a.effect.Multiply:n=2==e?28:1==e?30:3==e?29:15}return n},o.getCardDescription=function(t){var e=-1;switch(t.effect){case a.effect.Retry:e=56;break;case a.effect.RetrySpecial:e=61;break;case a.effect.Bonus:e=58;break;case a.effect.Challenge:e=59;break;case a.effect.Block:t.value=t.charge,e=55;break;case a.effect.Cash:e=65;break;case a.effect.MoneySpin:e=57;break;case a.effect.Wild1:e=62;break;case a.effect.Wild2:e=63;break;case a.effect.Wild3:e=64;break;case a.effect.DigitalCash:e=0;break;case a.effect.Win:e=0;break;case a.effect.Multiply:e=66}if(e>0){var n=null!=t.value?t.value:"",o=n,r=t.type;return i.GetText(e,{value:n,mode:r,type:r,charge:o})}return""},e.exports=o,cc._RFpop()},{CardDefs:"CardDefs",Lokaki:"Lokaki"}],CardsFactory:[function(t,e,n){"use strict";cc._RFpush(e,"9f8f0GwiDxNCbhQgzWy8FyX","CardsFactory");var i=t("CardDefs"),a=t("TransactionManager"),o=(t("Profiller"),t("AtlasResources")),r=t("Lokaki"),s=t("PrefabInstantiator"),l=!1,c={Retry:{color:"purple",icon:"sprite_icon_retry"},RetrySpecial:{color:"pink",icon:"sprite_icon_retry"},Bonus:{color:"green",icon:"sprite_icon_bonus"},Challenge:{color:"red",icon:"sprite_icon_challenge_mega"},Block:{color:"yellow",icon:"sprite_icon_block"},Multiply:{color:"blue",icon:null},Cash:{color:"green",icon:"sprite_icon_cash"},MoneySpin:{color:"green",icon:"sprite_icon_spin"},DigitalCash:{color:"green",icon:"sprite_icon_cash"},Wild1:{color:"pink",icon:"sprite_icon_wildcard"},Wild2:{color:"blue",icon:"sprite_icon_wildcard"},Wild3:{color:"red",icon:"sprite_icon_wildcard"},Locked:{color:"green",icon:"sprite_icon_cash"},Win:{color:"red_win",icon:"sprite_logo_megajackpot_cards"},Lose:{color:"blackloose",icon:"sprite_sea_star_mega"}},u=["yellow","purple","red","green","blue","pink"],h=0,d=[{color:"drop",icon:"sprite_sea_catfish_mega"},{color:"drop",icon:"sprite_sea_greenfish_mega"},{color:"drop",icon:"sprite_sea_redfish_mega"},{color:"drop",icon:"sprite_sea_shell1_mega"},{color:"drop",icon:"sprite_sea_shell2_mega"},{color:"drop",icon:"sprite_sea_squid_mega"}],p=[{color:"drop",icon:"sprite_sea_nemo_mini"},{color:"drop",icon:"sprite_sea_nemofriend_mini"},{color:"drop",icon:"sprite_sea_purplefish_mini"},{color:"drop",icon:"sprite_sea_squid_mini"},{color:"drop",icon:"sprite_sea_yellowfish_mini"}],f={pink:"E75CF3",green:"F1FB22",red:"F96500",yellow:"FFDB00",blue:"79DADB",purple:"D56AE0",red_win:"FFDB00",blackloose:"6B6B6A"},m={pink:"FF4AF8",green:"42AF05",red:"FE3000",yellow:"FFC400",blue:"00E0FF",purple:"B720DD",red_win:"FA4701",blackloose:"6B6B6A",blocked:"444444",drop:"FFDDA0"},g={InstantiatorList:[],CurrentInstantiator:null,RandomNoneCounter:0,CardDirectory:"",SlotDirectory:"Slot_",SpinDirectory:"Spin_",InstantiateCard:function(t,e){this.Instantiate(t,e,this.CardDirectory,t.amount)},InstantiateSlotByTemplate:function(t,e,n){t.slotSize=e;var i=this.SlotDirectory+e+"_Template";(null!=a.instance&&a.instance.isMiniSpin()||8==e)&&(i=this.SpinDirectory+e+"_Template");var o={sPrefabName:this.GetPrefabName(t),sPrefabPathName:i,pCardData:t,pOnInstantiate:n,bIsSlot:!0};this.PushInstantiation(o)},GetPrefabName:function(t){var e=t.type+"_"+t.effect;return t.group==i.group.Special&&(e+="Special"),e},Instantiate:function(t,e,n){var i={sPrefabName:this.GetPrefabName(t),sPrefabPathName:n+this.GetPrefabName(t),pCardData:t,pOnInstantiate:e};this.PushInstantiation(i)},PushInstantiation:function(t){s.Instantiate(t.sPrefabPathName,!0,t,function(e,n){if(null!=e)if(null!==e){var i=e.getComponent("CardComponent"),a=t.pCardData;i.bIsSlot=t.bIsSlot,i.setData(a),i.bakeCard(),i.bIsSlot&&this.BuildCardAssets(i),null!==t.pOnInstantiate&&null!==e&&t.pOnInstantiate(e)}else cc.log("%c prefab not found: "+t.sPrefabPathName+" id["+t.pCardData.id+"]","color:red;"),null!==t.pOnInstantiate&&null!==e&&t.pOnInstantiate(null)}.bind(this))},ChangeSlotBG:function(t){if(t.getData().effect==i.effect.Block){var e=u[t.getData().value-1],n="sprite_bg_card_"+e+"_mini";t.bIsSlot||(t.sprRoot.spriteFrame=this.getSprite(n))}},BuildCardAssets:function(t){var t=t.getComponent("CardComponent"),e=c[t.getData().effect];if(t.getData().effect==i.effect.Locked&&(e=this.setupLocked(t)),t.getData().effect==i.effect.None&&(e=this.setupNone(t)),null==e)return void cc.log("%c NOOOO no template found for:"+t,"color:red;");var n=t.getData().slotSize,o=t.node.name.indexOf("Spin")!==-1,s=o?"_spin":"",d=e.color,p=e.icon,f="sprite_bg_slot"+n+"_"+d+s,m=null!=a.instance&&a.instance.hasCustomCardColors();if(t.getEffect()==i.effect.Win&&(p=t.getType()==i.type.BigJackpot?"sprite_logo_megajackpot_cards":"sprite_logo_minijackpot_cards"),m&&o&&t.getData().effect==i.effect.Block){var g=u[h++],f="sprite_bg_slot"+n+"_"+g+s;h>=u.length&&(h=0)}l?null!=f?t.sprRoot.spriteFrame=this.getSprite(f):t.sprRoot.node.active=!1:null!=g?t.sprRoot.node.setColor(this.StringColorToHexSpin(g)):t.sprRoot.node.setColor(this.StringColorToHexSpin(d)),null!=p?t.ImgIcon.spriteFrame=this.getSprite(p):(t.ImgIcon.node.active=!1,t.LblValue.horizontalAlign=1),null!=d?t.LblName.node.setColor(this.StringColorToHex(d)):t.LblName.node.active=!1,null!=t.ImgLogo&&(t.getType()==i.type.BigJackpot?t.ImgLogo.spriteFrame=this.getSprite("sprite_logo_megajackpot_cards"):t.ImgLogo.spriteFrame=this.getSprite("sprite_logo_minijackpot_cards")),o?t.getEffect()==i.effect.Multiply?t.LblValue.fontSize=80:t.getEffect()==i.effect.Lose&&(t.ImgLogo.node.active=!1,t.ImgIcon.node.position=cc.p(0,50),t.ImgIcon.node.rotation=-25,t.ImgIcon.node.setContentSize(191,107)):(null!=t.getValue()&&"0"!=t.getValue()&&(t.ImgIcon.node.position=cc.p(25,t.ImgIcon.node.position.y)),t.getEffect()==i.effect.Cash||t.getEffect()==i.effect.DigitalCash?t.ImgIcon.spriteFrame.rotation=-45:t.getEffect()==i.effect.RetrySpecial&&t.setCardValue(r.GetText(20).toUpperCase()),t.getEffect()==i.effect.Win&&(t.ImgIcon.node.setContentSize(120,67),t.ImgIcon.node.position=cc.p(0,0),t.LblName.node.active=!1))},getSprite:function(t){return o.instance.findSprite(t)},setupLocked:function(t){var e="sprite_sea_star_mega";null!=a.instance&&a.instance.isMiniSpin()&&(e="sprite_sea_star_mini");var n={color:"blocked",icon:e};return null!=t.m_TopBorder&&(t.m_TopBorder.node.active=!1),t.ImgIcon.node.setPosition(cc.p(0,0)),t.ImgIcon.node.setContentSize(cc.size(135.7,71.4)),n},setupNone:function(t){var e=d;null!=a.instance&&a.instance.isMiniSpin()&&(e=p),this.RandomNoneCounter++,this.RandomNoneCounter>=e.length&&(this.RandomNoneCounter=0);var n={color:"drop",icon:e[this.RandomNoneCounter].icon};return null!=t.m_TopBorder&&(t.m_TopBorder.node.active=!1),t.ImgIcon.node.setPosition(cc.p(0,0)),t.ImgIcon.node.setContentSize(cc.size(135.7,71.4)),t.btnRoot.destroy(),n},getRandom:function(t,e){return Math.random()*(e-t)+t},StringColorToHex:function(t){return null!=f[t]?this.HexToRgb(f[t]):this.HexToRgb("FFFFFF")},StringColorToHexSpin:function(t){return null!=m[t]?this.HexToRgb(m[t]):this.HexToRgb("FFFFFF")},HexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}:cc.color(0,0,0)}};e.exports=g,cc._RFpop()},{AtlasResources:"AtlasResources",CardDefs:"CardDefs",Lokaki:"Lokaki",PrefabInstantiator:"PrefabInstantiator",Profiller:"Profiller",TransactionManager:"TransactionManager"}],CardsJsonData:[function(t,e,n){"use strict";function i(t,e){return parseInt(Math.floor(Math.random()*e+t))}cc._RFpush(e,"872b1HkcmpPhJCirbXsfoLK","CardsJsonData");var a=t("CardUtility"),o=t("CardDefs");e.exports.CardSet=['[{"id":2, "amount":3, "charge":1, "type":"BigJackpot", "effect":"Retry", "group": "Basic", "value":0, "level":0}]','[{"id":2, "amount":3, "charge":1, "type":"BigJackpot", "effect":"Retry", "group": "Basic", "value":0, "level":0}, {"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Bonus", "group": "Basic", "value":10, "level":0}]','[{"id":2, "amount":3, "charge":1, "type":"BigJackpot", "effect":"Retry", "group": "Basic", "value":0, "level":0}, {"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Bonus", "group": "Basic", "value":10, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Challenge", "group": "Basic", "value":0, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Block", "group": "Basic", "value":3, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Multiply", "group": "Basic", "value":10, "level":0}]','[{"id":2, "amount":3, "charge":1, "type":"BigJackpot", "effect":"Retry", "group": "Basic", "value":0, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Bonus", "group": "Basic", "value":10, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Challenge", "group": "Basic", "value":0, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Block", "group": "Basic", "value":3, "level":0},{"id":3, "amount":1, "charge":1, "type":"BigJackpot", "effect":"Multiply", "group": "Basic", "value":10, "level":0},{"id":4, "amount":1, "charge":1, "type":"MiniJackpot", "effect":"Retry", "group": "Basic", "value":0, "level":0},{"id":6, "amount":1, "charge":1, "type":"MiniJackpot", "effect":"Cash", "group": "Basic", "value":1, "level":0},{"id":4, "amount":1, "charge":1, "type":"MiniJackpot", "effect":"Challenge", "group": "Basic", "value":0, "level":0},{"id":5, "amount":2, "charge":1, "type":"MiniJackpot", "effect":"Block", "group": "Basic", "value":3, "level":0},{"id":6, "amount":1, "charge":1, "type":"MiniJackpot", "effect":"Retry", "group": "Special", "value":0, "level":0},{"id":6, "amount":1, "charge":1, "type":"Wild", "effect":"Wild1", "group": "Basic", "value":0, "level":0},{"id":6, "amount":1, "charge":1, "type":"Wild", "effect":"Wild2", "group": "Basic", "value":0, "level":0},{"id":6, "amount":1, "charge":1, "type":"Wild", "effect":"Wild3", "group": "Basic", "value":0, "level":0}]'];var r={Template:'{"id":"#id#", "amount":#amount#, "charge":#charge#, "type":"#type#", "effect":"#effect#", "group": "#group#", "value":#value#, "level":#level#}',BuildJson:function(t,e,n,i,a,o,r,s){var l=this.Template;return l=l.replace("#id#",t),l=l.replace("#amount#",e),l=l.replace("#charge#",n),l=l.replace("#type#",i),l=l.replace("#effect#",a),l=l.replace("#group#",o),l=l.replace("#value#",r),l=l.replace("#level#",s)},BuildRandomCard:function(t,e,n,i){var o=a.createCard(t,e,n,n,2);return o.id=a.generateCardIdFromCard(o),o},BuildInventory:function(){var t=[this.BuildRandomCard(o.type.BigJackpot,o.effect.Retry),this.BuildRandomCard(o.type.BigJackpot,o.effect.Bonus,10),this.BuildRandomCard(o.type.BigJackpot,o.effect.Bonus,20),this.BuildRandomCard(o.type.BigJackpot,o.effect.Bonus,30),this.BuildRandomCard(o.type.BigJackpot,o.effect.Bonus,40),this.BuildRandomCard(o.type.BigJackpot,o.effect.Bonus,50),this.BuildRandomCard(o.type.BigJackpot,o.effect.Challenge),this.BuildRandomCard(o.type.BigJackpot,o.effect.Block,1),this.BuildRandomCard(o.type.BigJackpot,o.effect.Block,2),this.BuildRandomCard(o.type.BigJackpot,o.effect.Block,3),this.BuildRandomCard(o.type.BigJackpot,o.effect.Block,4),this.BuildRandomCard(o.type.BigJackpot,o.effect.Block,5),this.BuildRandomCard(o.type.BigJackpot,o.effect.Multiply,2),this.BuildRandomCard(o.type.BigJackpot,o.effect.Multiply,4),this.BuildRandomCard(o.type.BigJackpot,o.effect.Win),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Retry),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Block,1),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Block,2),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Block,3),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Block,4),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Block,5),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Challenge),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Cash,100),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Cash,200),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Cash,300),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Cash,400),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Cash,500),this.BuildRandomCard(o.type.MiniJackpot,o.effect.RetrySpecial,0),this.BuildRandomCard(o.type.MiniJackpot,o.effect.Win),this.BuildRandomCard(o.type.Wild,o.effect.Wild1),this.BuildRandomCard(o.type.Wild,o.effect.Wild2),this.BuildRandomCard(o.type.Wild,o.effect.Wild3)];return t},buildInventoryCardList:function(){return this.BuildInventory()},getRandomAttr:function(t){var e=[];for(var n in t)"string"==typeof t[n]&&e.push(t[n]);return e[i(0,e.length)]}};e.exports.CardBuilder=r,cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility"}],ClientAPIManager:[function(t,e,n){"use strict";cc._RFpush(e,"519049KTKlOYrLm0U5Y1lUc","ClientAPIManager");var i=t("Api"),a=t("ApiClient"),o=(t("InventoryApi"),t("GameUserInventory"),{_InventoryApi:null,_TransactionApi:null,_UserApi:null,_SimulationApi:null,_UserId:1,initialize:function(){e.exports.instance=this,a.instance.basePath="http://oktservices.cloudapp.net/mjackpot/api/index.php".replace(/\/+$/,""),this._InventoryApi=new i.InventoryApi,this._TransactionApi=new i.TransactionApi,this._UserApi=new i.UserApi,this._SimulationApi=new i.SimulationApi,cc.log("%cOktagon's Server API loaded.","color:orange;")},inventoryUserIdGet:function(t,e){this._InventoryApi.inventoryUserIdGet(t,e)},transactionsIdGet:function(t,e,n){this._TransactionApi.transactionsIdGet(t,n)},usersIdGet:function(t,e){this._UserApi.usersIdGet(t,e)},simulationsIdPut:function(t,e,n,i){this._SimulationApi.simulationsIdPut(t,JSON.stringify(e),JSON.stringify(n),i)},usersIdPut:function(t,e,n){this._UserApi.usersIdPut(t,e,n)}});e.exports=o,cc._RFpop()},{Api:"Api",ApiClient:"ApiClient",GameUserInventory:"GameUserInventory",InventoryApi:"InventoryApi"}],ClientApiTest:[function(t,e,n){"use strict";cc._RFpush(e,"aad107G98BGF7vi8CH/HPl4","ClientApiTest");var i=t("PPClientAPIManager");t("TransactionManager");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onClickInitialize:function(){i.initialize()},onClickSpins:function(){i.instance.PPPullSpins(1,function(t,e,n){cc.log("onClickSpins done"),cc.log(e)})},onClickSpin:function(){i.instance.PPPullSpin(1,function(t,e,n){cc.log("onClickSpin done"),cc.log(e)})},onClickSimulation:function(){i.instance.PPPullComplete(1,1,function(t,e,n){cc.log("onClickSpin done"),cc.log(e)})}}),cc._RFpop()},{PPClientAPIManager:"PPClientAPIManager",TransactionManager:"TransactionManager"}],CustomAction:[function(t,e,n){"use strict";cc._RFpush(e,"a842dzIFNBBA52LunrGNUKZ","CustomAction");var i={explosionEffect:function(t,e,n,i,a){t.scale=0,t.opacity=255,t.runAction(cc.sequence(cc.spawn(cc.scaleTo(n,e),cc.sequence(cc.delayTime(n-i),cc.fadeOut(i))),cc.callFunc(a)))},reverseExplosionEffect:function(t,e,n,i,a){t.scale=e,t.opacity=255,t.runAction(cc.sequence(cc.spawn(cc.scaleTo(n,0),cc.sequence(cc.delayTime(n-i),cc.fadeOut(i))),cc.callFunc(a)))},blinkCircle:function(t,e,n,i){t.rotation=0,t.runAction(cc.sequence(cc.spawn(cc.fadeIn(n),cc.sequence(cc.rotateTo(e/2,179),cc.rotateTo(e/2,350))),cc.fadeOut(n),cc.delayTime(i),cc.callFunc(function(){this.blinkCircle(t,e,n,i)}.bind(this))))},highlightScaleLoop:function(t,e,n,i,a,o){setTimeout(function(){var o=cc.repeatForever(cc.sequence(cc.scaleTo(.2,e),cc.scaleTo(.1,n),cc.scaleTo(.1,e),cc.scaleTo(.2,i),cc.delayTime(a)));t.runAction(o)},1e3*o)}};e.exports=i,cc._RFpop()},{}],1:[function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function a(t){return 3*t.length/4-i(t)}function o(t){var e,n,a,o,r,s,l=t.length;r=i(t),s=new h(3*l/4-r),a=r>0?l-4:l;var c=0;for(e=0,n=0;e<a;e+=4,n+=3)o=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===r?(o=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[c++]=255&o):1===r&&(o=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}function r(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){for(var i,a=[],o=e;o<n;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],a.push(r(i));return a.join("")}function l(t){for(var e,n=t.length,i=n%3,a="",o=[],r=16383,l=0,u=n-i;l<u;l+=r)o.push(s(t,l,l+r>u?u:l+r));return 1===i?(e=t[n-1],a+=c[e>>2],a+=c[e<<4&63],a+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],a+=c[e>>10],a+=c[e>>4&63],a+=c[e<<2&63],a+="="),o.push(a),o.join("")}n.byteLength=a,n.toByteArray=o,n.fromByteArray=l;for(var c=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=d.length;p<f;++p)c[p]=d[p],u[d.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=r.prototype):(null===t&&(t=new r(e)),t.length=e),t}function r(t,e,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,e,n)}function s(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,i):"string"==typeof e?h(t,e,n):f(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,i){return l(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}function u(t,e){if(l(e),t=o(t,e<0?0:0|m(e)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|_(e,n);t=o(t,i);var a=t.write(e,n);return a!==i&&(t=t.slice(0,a)),t}function d(t,e){var n=e.length<0?0:0|m(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),r.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=r.prototype):t=d(t,e),t}function f(t,e){if(r.isBuffer(e)){var n=0|m(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&$(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),r.alloc(+t)}function _(t,e){if(r.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(i)return W(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return U(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),
i=!0}}function C(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function S(t,e,n,i,a){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=r.from(e,i)),r.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,a);if("number"==typeof e)return e=255&e,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,a);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,a){function o(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}var r=1,s=t.length,l=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;r=2,s/=2,l/=2,n/=2}var c;if(a){var u=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===l)return u*r}else u!==-1&&(c-=c-u),u=-1}else for(n+l>s&&(n=s-l),c=n;c>=0;c--){for(var h=!0,d=0;d<l;d++)if(o(t,c+d)!==o(e,d)){h=!1;break}if(h)return c}return-1}function b(t,e,n,i){n=Number(n)||0;var a=t.length-n;i?(i=Number(i),i>a&&(i=a)):i=a;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var r=0;r<i;++r){var s=parseInt(e.substr(2*r,2),16);if(isNaN(s))return r;t[n+r]=s}return r}function T(t,e,n,i){return K(W(e,t.length-n),t,n,i)}function P(t,e,n,i){return K(V(e),t,n,i)}function w(t,e,n,i){return P(t,e,n,i)}function I(t,e,n,i){return K(Y(e),t,n,i)}function A(t,e,n,i){return K(H(e,t.length-n),t,n,i)}function k(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);for(var i=[],a=e;a<n;){var o=t[a],r=null,s=o>239?4:o>223?3:o>191?2:1;if(a+s<=n){var l,c,u,h;switch(s){case 1:o<128&&(r=o);break;case 2:l=t[a+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(r=h));break;case 3:l=t[a+1],c=t[a+2],128===(192&l)&&128===(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c,h>2047&&(h<55296||h>57343)&&(r=h));break;case 4:l=t[a+1],c=t[a+2],u=t[a+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,h>65535&&h<1114112&&(r=h))}}null===r?(r=65533,s=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),a+=s}return O(i)}function O(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=tt));return n}function U(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(127&t[a]);return i}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;a<n;++a)i+=String.fromCharCode(t[a]);return i}function x(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=e;o<n;++o)a+=j(t[o]);return a}function M(t,e,n){for(var i=t.slice(e,n),a="",o=0;o<i.length;o+=2)a+=String.fromCharCode(i[o]+256*i[o+1]);return a}function G(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,i,a,o){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function L(t,e,n,i){e<0&&(e=65535+e+1);for(var a=0,o=Math.min(t.length-n,2);a<o;++a)t[n+a]=(e&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function B(t,e,n,i){e<0&&(e=4294967295+e+1);for(var a=0,o=Math.min(t.length-n,4);a<o;++a)t[n+a]=e>>>8*(i?a:3-a)&255}function D(t,e,n,i,a,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,i,a){return a||D(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,i,23,4),n+4}function J(t,e,n,i,a){return a||D(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,i,52,8),n+8}function z(t){if(t=q(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,i=t.length,a=null,o=[],r=0;r<i;++r){if(n=t.charCodeAt(r),n>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(r+1===i){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,i,a,o=[],r=0;r<t.length&&!((e-=2)<0);++r)n=t.charCodeAt(r),i=n>>8,a=n%256,o.push(a),o.push(i);return o}function Y(t){return X.toByteArray(z(t))}function K(t,e,n,i){for(var a=0;a<i&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}function Z(t){return t!==t}var X=t("base64-js"),Q=t("ieee754"),$=t("isarray");n.Buffer=r,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=a(),r.poolSize=8192,r._augment=function(t){return t.__proto__=r.prototype,t},r.from=function(t,e,n){return s(null,t,e,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(t,e,n){return c(null,t,e,n)},r.allocUnsafe=function(t){return u(null,t)},r.allocUnsafeSlow=function(t){return u(null,t)},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,a=0,o=Math.min(n,i);a<o;++a)if(t[a]!==e[a]){n=t[a],i=e[a];break}return n<i?-1:i<n?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return r.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=r.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var o=t[n];if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},r.byteLength=_,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)C(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)C(this,e,e+3),C(this,e+1,e+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)C(this,e,e+7),C(this,e+1,e+6),C(this,e+2,e+5),C(this,e+3,e+4);return this},r.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):v.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,e,n,i,a){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),e<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&e>=n)return 0;if(i>=a)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,s=n-e,l=Math.min(o,s),c=this.slice(i,a),u=t.slice(e,n),h=0;h<l;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},r.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},r.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},r.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},r.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return P(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=r.prototype;else{var a=e-t;i=new r(a,(void 0));for(var o=0;o<a;++o)i[o]=this[o+t]}return i},r.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||G(t,e,this.length);for(var i=this[t],a=1,o=0;++o<e&&(a*=256);)i+=this[t+o]*a;return i},r.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||G(t,e,this.length);for(var i=this[t+--e],a=1;e>0&&(a*=256);)i+=this[t+--e]*a;return i},r.prototype.readUInt8=function(t,e){return e||G(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||G(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||G(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||G(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||G(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||G(t,e,this.length);for(var i=this[t],a=1,o=0;++o<e&&(a*=256);)i+=this[t+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*e)),i},r.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||G(t,e,this.length);for(var i=e,a=1,o=this[t+--i];i>0&&(a*=256);)o+=this[t+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return e||G(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},r.prototype.readInt16LE=function(t,e){e||G(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||G(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||G(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||G(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||G(t,4,this.length),Q.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||G(t,4,this.length),Q.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||G(t,8,this.length),Q.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||G(t,8,this.length),Q.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=0|e,n=0|n,!i){var a=Math.pow(2,8*n)-1;F(this,t,e,n,a,0)}var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=0|e,n=0|n,!i){var a=Math.pow(2,8*n)-1;F(this,t,e,n,a,0)}var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var a=Math.pow(2,8*n-1);F(this,t,e,n,a-1,-a)}var o=0,r=1,s=0;for(this[e]=255&t;++o<n&&(r*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},r.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var a=Math.pow(2,8*n-1);F(this,t,e,n,a-1,-a)}var o=n-1,r=1,s=0;for(this[e+o]=255&t;--o>=0&&(r*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/r>>0)-s&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return J(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return J(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var a,o=i-n;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},r.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=r.isBuffer(t)?t:W(new r(t,i).toString()),l=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%l]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:3,isarray:4}],3:[function(t,e,n){n.read=function(t,e,n,i,a){var o,r,s=8*a-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?a-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=d,u-=8);for(r=o&(1<<-u)-1,o>>=-u,u+=i;u>0;r=256*r+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return r?NaN:(p?-1:1)*(1/0);r+=Math.pow(2,i),o-=c}return(p?-1:1)*r*Math.pow(2,o-i)},n.write=function(t,e,n,i,a,o){var r,s,l,c=8*o-a-1,u=(1<<c)-1,h=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-r))<1&&(r--,l*=2),e+=r+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(r++,l/=2),r+h>=u?(s=0,r=u):r+h>=1?(s=(e*l-1)*Math.pow(2,a),r+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,a),r=0));a>=8;t[n+p]=255&s,p+=f,s/=256,a-=8);for(r=r<<a|s,c+=a;c>0;t[n+p]=255&r,p+=f,r/=256,c-=8);t[n+p-f]|=128*m}},{}],4:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],DebugApi:[function(t,e,n){"use strict";cc._RFpush(e,"0c6edTsIMhFQ6K/kxQ4IQKQ","DebugApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameTransaction","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameTransaction"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.DebugApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameTransaction,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.bigjpPost=function(t,i,a){i=i||{};var o=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling bigjpPost");var r={},s={},l={},c={user_id:t,return_url:i.returnUrl},u=[],h=["application/x-www-form-urlencoded"],d=["application/json"],p=e;return this.apiClient.callApi("/bigjp","POST",r,s,l,c,o,u,h,d,p,a)},this.minijpPost=function(t,i,a){i=i||{};var o=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling minijpPost");var r={},s={},l={},c={user_id:t,return_url:i.returnUrl},u=[],h=["application/x-www-form-urlencoded"],d=["application/json"],p=e;return this.apiClient.callApi("/minijp","POST",r,s,l,c,o,u,h,d,p,a)},this.moneyspinPost=function(t,i,a){i=i||{};var o=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling moneyspinPost");var r={},s={},l={},c={user_id:t,return_url:i.returnUrl},u=[],h=["application/x-www-form-urlencoded"],d=["application/json"],p=e;return this.apiClient.callApi("/moneyspin","POST",r,s,l,c,o,u,h,d,p,a)},this.spinPost=function(t,i,a){i=i||{};var o=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling spinPost");var r={},s={},l={},c={user_id:t,return_url:i.returnUrl},u=[],h=["application/x-www-form-urlencoded"],d=["application/json"],p=e;return this.apiClient.callApi("/spin","POST",r,s,l,c,o,u,h,d,p,a)},this.transactionsPost=function(t,i,a,o){var r=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling transactionsPost");if(void 0==i||null==i)throw new n("Missing the required parameter 'mode' when calling transactionsPost");if(void 0==a||null==a)throw new n("Missing the required parameter 'state' when calling transactionsPost");var s={},l={},c={},u={user_id:t,mode:i,state:a},h=["api_key"],d=["application/x-www-form-urlencoded"],p=["application/json"],f=e;return this.apiClient.callApi("/transactions","POST",s,l,c,u,r,h,d,p,f,o)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameTransaction":"GameTransaction"}],DebugUtil:[function(t,e,n){"use strict";cc._RFpush(e,"a341af3c6hBlqyCWHOyqPoT","DebugUtil");var i={logMethods:function(t){cc.log(this.getMethods(t,"function").join("\n"))},logObject:function(t){cc.log(this.getMethods(t).join("\n"))},getMethods:function(t,e){var n=[];for(var i in t)try{null!=e?"function"==typeof t[i]&&n.push(i+": "+t[i].toString()):n.push(i+": "+t[i].toString())}catch(a){n.push(i+": inaccessible")}return n}};e.exports=i,cc._RFpop()},{}],DisableOnSpin:[function(t,e,n){"use strict";cc._RFpush(e,"82227nMUdFEVKUUFz77HeKZ","DisableOnSpin");var i=t("OktTriggerManager");cc.Class({"extends":cc.Component,editor:!1,properties:{m_RootObj:cc.Node,m_Animation:cc.Animation,m_Button:cc.Button,m_StartEnabled:!0,m_InverseBehaviour:!1},start:function(){null==this.m_RootObj&&(this.m_RootObj=this.node),i.AddEvent(i.GAME_EVENTS.OnGameChangeSate,this.onChangeRouletteSate.bind(this)),i.AddEvent(i.GAME_EVENTS.OnChangeGameState,this.onChangeGameSate.bind(this)),this.setActive(this.m_StartEnabled)},onDestroy:function(){i.RemoveEventOwner(this)},onChangeGameSate:function(t){var e=t.GetParam(0);"Gameplay"==e&&(i.RemoveEventFunction(this,"onChangeGameSate"),this.setActive(!0))},onChangeRouletteSate:function(t){var e=t.GetParam(0);switch(e.GetGameState()){case"Started":case"WaitingPlay":this.setActive(!0);break;case"PlayStarted":this.setActive(!1);break;case"PlayFinished":this.setActive(!0);break;case"Completed":}},setActive:function(t){this.m_InverseBehaviour&&(t=!t),null!=this.m_Button?this.m_Button.interactable=t:null!=this.m_Animation?(null!=this.m_RootObj&&(this.m_RootObj.active=t),t?this.m_Animation.play():this.m_Animation.stop()):null!=this.m_RootObj&&(this.m_RootObj.active=t)}}),cc._RFpop()},{OktTriggerManager:"OktTriggerManager"}],DontDestroyOnLoad:[function(t,e,n){"use strict";cc._RFpush(e,"c49c1JyBl5IZJETp97CJ3D5","DontDestroyOnLoad"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),null==e.exports.instances&&(e.exports.instances=new Array),e.exports.instances.push(this.node)},onDestroy:function(){}}),cc._RFpop()},{}],Error:[function(t,e,n){"use strict";cc._RFpush(e,"445a6axioNElJHMvgs16EXs","Error"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./Error")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.Error=i(n.PlayPhoneApi.ApiClient,n.PlayPhoneApi.Error))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("code")&&(a.code=t.convertToType(i.code,"Number")),i.hasOwnProperty("message")&&(a.message=t.convertToType(i.message,"String")),i.hasOwnProperty("errors")&&(a.errors=t.convertToType(i.errors,[e]))),a},n.prototype.code=void 0,n.prototype.message=void 0,n.prototype.errors=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./Error":"Error"}],Events:[function(t,e,n){"use strict";cc._RFpush(e,"c4b94d6+gVFH6lwLcigvdCM","Events");var i={TglEvtOnEnable:"TglEvtOnEnable",TglEvtOnDisable:"TglEvtOnDisable",TglCmdDisable:"TglCmdDisable",TglCmdEnable:"TglCmdEnable"};e.exports=i,cc._RFpop()},{}],FlagUtility:[function(t,e,n){"use strict";cc._RFpush(e,"ff160DLQgJKsa1hwB0Vd9W9","FlagUtility"),e.exports={hasFlags:function(t,e){return t==(e&t)},addFlags:function(t,e){return t|e},delFlags:function(t,e){return e&~t}},cc._RFpop()},{}],GameFSM:[function(t,e,n){"use strict";cc._RFpush(e,"9e7e1Hd8oZOgJDDjDyLzo6u","GameFSM");var i=t("state-machine-min"),a=t("OktTriggerManager"),o=(t("Profiller"),{Start:"Start",LoadContent:"LoadContent",PullData:"PullData",SetupGame:"SetupGame",IntroAnimation:"IntroAnimation",DropCards:"DropCards",Gameplay:"Gameplay",Results:"Results",ResultsRetry:"ResultsRetry",Finish:"Finish",NoTransaction:"NoTransaction"}),r={stateCallbackDictionary:{},m_sSentFromState:null,fsm:i.create({events:[{name:"Start",from:"none",to:"Start"},{name:"LoadContent",from:"Start",to:"LoadContent"},{name:"PullData",from:"LoadContent",to:"PullData"},{name:"SetupGame",from:"PullData",to:"SetupGame"},{name:"IntroAnimation",from:"SetupGame",to:"IntroAnimation"},{name:"DropCards",from:"IntroAnimation",to:"DropCards"},{name:"Gameplay",from:"DropCards",to:"Gameplay"},{name:"Results",from:"Gameplay",to:"Results"},{name:"ResultsRetry",from:"Results",to:"LoadContent"},{name:"Finish",from:"Results",to:"Finish"},{name:"NoTransaction",from:"PullData",to:"Finish"}],callbacks:{onchangestate:function(t,e,n){if(cc.log("%c-------------- state now["+this.current+"] m_sSentFromState["+r.m_sSentFromState+"] --------------","color:grey;"),this.m_sSentFromState=null,null!=r.stateCallbackDictionary){var i=r.stateCallbackDictionary[n];null!=i&&i.context[i.functionName]()}a.TriggerEvent(a.GAME_EVENTS.OnChangeGameState,t,e,n)}}}),start:function(){this.changeState(o.Start)},getFSM:function(){return this.fsm},getCurrentState:function(){return this.getFSM().current},changeState:function(t){this.getFSM()[t]()},nextState:function(t){if(null!=t){var e=this.GameSt,n=this.getCurrentState(),i=!1;for(var a in e){var o=e[a].toString();if(i)return this.m_sSentFromState=t,void this.changeState(o);n==o&&(i=!0)}cc.log("didn't find any current state")}},registerEnterState:function(t,e,n){this.stateCallbackDictionary[t]={context:e,functionName:n}}};e.exports=r,e.exports.GameSt=o,cc._RFpop()},{OktTriggerManager:"OktTriggerManager",Profiller:"Profiller","state-machine-min":"state-machine-min"}],GameJackpot:[function(t,e,n){"use strict";cc._RFpush(e,"11f64F20DRDgp8+ZonWUDuB","GameJackpot"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameJackpot=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("value")&&(i.value=t.convertToType(n.value,"Number"))),i},e.prototype.id=void 0,e.prototype.value=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],GameSimulation:[function(t,e,n){"use strict";cc._RFpush(e,"c0a408loadKZKu1ysL42bjb","GameSimulation"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameSimulation=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("transaction_id")&&(i.transaction_id=t.convertToType(n.transaction_id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"String")),n.hasOwnProperty("mode")&&(i.mode=t.convertToType(n.mode,"String")),n.hasOwnProperty("jackpot")&&(i.jackpot=t.convertToType(n.jackpot,"Number")),n.hasOwnProperty("processed")&&(i.processed=t.convertToType(n.processed,"Boolean")),n.hasOwnProperty("target_slot_index")&&(i.target_slot_index=t.convertToType(n.target_slot_index,"Number")),n.hasOwnProperty("options")&&(i.options=t.convertToType(n.options,"Number")),n.hasOwnProperty("wheel_arrangement")&&(i.wheel_arrangement=t.convertToType(n.wheel_arrangement,["String"])),n.hasOwnProperty("round")&&(i.round=t.convertToType(n.round,"Number"))),i},e.prototype.id=void 0,e.prototype.transaction_id=void 0,e.prototype.user_id=void 0,e.prototype.mode=void 0,e.prototype.jackpot=void 0,e.prototype.processed=void 0,e.prototype.target_slot_index=void 0,e.prototype.options=void 0,e.prototype.wheel_arrangement=void 0,e.prototype.round=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],GameStDropCards:[function(t,e,n){"use strict";cc._RFpush(e,"63bdcxjQc5AS4E9m+dt3wBF","GameStDropCards");var i=t("GameFSM"),a=t("TransactionManager"),o={OnStateEnter:function(){return a.instance.hasDropCard()?void setTimeout(function(){i.nextState(i.GameSt.DropCards)},200):void i.nextState(i.GameSt.DropCards)}};i.registerEnterState(i.GameSt.DropCards,o,"OnStateEnter"),cc._RFpop()},{GameFSM:"GameFSM",TransactionManager:"TransactionManager"}],GameStFinish:[function(t,e,n){"use strict";cc._RFpush(e,"6549d+T3ZZFA4yujOdSZy1+","GameStFinish");var i=t("GameFSM"),a=t("TransactionManager"),o={OnStateEnter:function(){this.fadeOutScene()},fadeOutScene:function(){return a.instance.usesFadeOut?void this.getMainCanvas().runAction(cc.sequence(new cc.fadeOut(.5),cc.callFunc(this.closeWindow))):(cc.log("not using fadeout"),void this.closeWindow())},getMainCanvas:function(){return cc.director.getScene().children[0]},closeWindow:function(){cc.log("href: "+a.instance.getTransactionFinishCommand()),window.location.href=a.instance.getTransactionFinishCommand()}};i.registerEnterState(i.GameSt.Finish,o,"OnStateEnter"),cc._RFpop()},{GameFSM:"GameFSM",TransactionManager:"TransactionManager"}],GameStGameplay:[function(t,e,n){"use strict";cc._RFpush(e,"d4ddfo1+wZHTqxR9Lc+6THX","GameStGameplay");var i=t("GameFSM"),a=t("GameTriggers"),o=a.GAME_EVENTS,r=t("SimulationInitializer"),s=t("UserDataManager"),l=t("TransactionManager"),c=t("UIManager"),u=t("UIGenericPopup"),h={m_bTutorialShown:!1,m_bRequestReached:!1,OnStateEnter:function(){a.AddEvent(o.OnGameChangeSate,this.onGameChangeSate.bind(this)),a.AddEvent(o.OnResponseError,this.OnResponseError.bind(this)),a.AddEvent(o.OnGameSimulationRequest,this.OnGameSimulationRequest.bind(this)),a.AddEvent(o.OnGameSimulationResponse,this.OnGameSimulationResponse.bind(this)),this.checkTutorial()},onGameChangeSate:function(t){var e=t.GetParam(0);"PlayStarted"==e.GetGameState()?r.m_pInstance.m_pCurrentGame.m_pRoulette.enabled=!0:"PlayFinished"==e.GetGameState()&&(r.m_pInstance.m_pCurrentGame.m_pRoulette.enabled=!1,a.RemoveEventOwner(this),i.nextState(i.GameSt.Gameplay))},OnResponseError:function(t){var e=t.GetParam(0)[0];u.ShowConfirm(e.error,"Message: "+e.message+".\n Exception: "+e.exception)},checkTutorial:function(){var t="UITutorialSlideShow_"+l.instance.getGameMode(),e="UITutorialTimeout_"+l.instance.getGameMode();s.isTutorialCompleted(t)||this.m_bTutorialShown?c.instance.Show(e,null,null,null):c.instance.Show(t,this,"onShowTutorial",null)},onShowTutorial:function(t){this.m_bTutorialShown=!0;var e=t.getComponent("UIBase");e.setCloseCallback(this,"checkTutorial")},OnGameSimulationRequest:function(){this.m_bRequestReached=!1,setTimeout(this.OnRequestTimeout.bind(this),2e3)},OnRequestTimeout:function(){0==this.m_bRequestReached&&c.instance.Show("UILockLoading")},OnGameSimulationResponse:function(){this.m_bRequestReached=!0,c.instance.Close("UILockLoading")}};i.registerEnterState(i.GameSt.Gameplay,h,"OnStateEnter"),cc._RFpop()},{GameFSM:"GameFSM",GameTriggers:"GameTriggers",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIGenericPopup:"UIGenericPopup",UIManager:"UIManager",UserDataManager:"UserDataManager"}],GameStIntroAnimation:[function(t,e,n){"use strict";cc._RFpush(e,"c72a4mNvAxBybnl3w1L6OW6","GameStIntroAnimation");var i=t("GameFSM"),a=t("TransactionManager"),o=t("UIManager"),r=(t("CardsFactory"),t("SimulationInitializer"),t("OktTriggerManager")),s={m_pCards:new Array,m_pSlots:new Array,m_iSlotsToInstantiate:0,m_iSlotsToInstantiateCounter:0,OnStateEnter:function(){return a.instance.hasAnimateSystemCards()?(o.instance.Show("UIIntroAnimation"),void r.AddEvent(r.UI_EVENTS.UIBase_OnClose,this.onCloseUI.bind(this))):void i.nextState(i.GameSt.IntroAnimation)},onCloseUI:function(t){var e=t.GetParam(0);"UIIntroAnimation"==e.node.name&&(r.RemoveEventOwner(this),i.nextState(i.GameSt.IntroAnimation))}};i.registerEnterState(i.GameSt.IntroAnimation,s,"OnStateEnter"),cc._RFpop()},{CardsFactory:"CardsFactory",GameFSM:"GameFSM",OktTriggerManager:"OktTriggerManager",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIManager:"UIManager"}],GameStLoadContent:[function(t,e,n){"use strict";cc._RFpush(e,"ed95fGfGSpH84XreIsOC75l","GameStLoadContent");
var i=t("GameFSM"),a=t("UILoading"),o=t("TransactionManager"),r=t("UIGenericPopup"),s=t("PrefabInstantiator"),l={OnStateEnter:function(){a.Instance.isVisible()?setTimeout(this.onShowLoading.bind(this),20):a.Instance.show(this.onShowLoading.bind(this))},onShowLoading:function(){var t=o.instance.getParameterByName("id");null==t?(setTimeout(this.showBlocker.bind(this),2e3),cc.log("Erro: has no id")):i.nextState(i.GameSt.LoadContent)},showBlocker:function(){a.Instance.close(),r.ShowBlock("Error","id not found in request. Please put it before running this game.")},loadPrefab:function(t,e){s.Instantiate(t,!0,null,function(t,n){null!=t&&(cc.director.getScene().addChild(t),cc.log(t),null!=e&&e())}.bind(this))},getMainCanvas:function(){return cc.director.getScene().children[0]}};i.registerEnterState(i.GameSt.LoadContent,l,"OnStateEnter"),cc._RFpop()},{GameFSM:"GameFSM",PrefabInstantiator:"PrefabInstantiator",TransactionManager:"TransactionManager",UIGenericPopup:"UIGenericPopup",UILoading:"UILoading"}],GameStPullData:[function(t,e,n){"use strict";cc._RFpush(e,"d0f2aoZlDVM552H2Rltctxw","GameStPullData");var i=t("GameFSM"),a=t("InventoryManager"),o=t("CardsJsonData"),a=(t("CardDefs"),t("FlagUtility"),t("SimulationOptions"),t("InventoryManager")),r=(t("CardUtility"),t("TransactionManager")),s=t("UIGenericPopup"),l=t("UserDataManager"),c=t("UILoading"),u=t("GameTriggers"),h=u.GAME_EVENTS,d=(t("Lokaki"),{UserDataDone:!1,UserInventoryDone:!1,$_GET:function(t,e){e=e?e:window.location.search;var n=new RegExp("&amp;"+t+"=([^&amp;]*)","i");return e=(e=e.replace(/^\?/,"&amp;").match(n))?e[1]:""},initialize:function(){u.AddEvent(h.OnResponseError,this.OnResponseError.bind(this))},OnResponseError:function(t){var e=t.GetParam(0);c.Instance.close(),s.ShowConfirm(e.error,"You have no available game.")},OnCloseErrorMessage:function(){},OnStateEnter:function(){this.UserDataDone=!1,this.UserInventoryDone=!0;var t=r.instance.getParameterByName("id"),e=null;r.instance.isLoaded()&&(e=r.instance.getCurrentSimulation().id),""!=t?r.instance.getClientApi().transactionsIdGet(t,e,function(t,e,n){this.onTransactionResponse(t,e,n)}.bind(this)):(cc.log("NO ID! WE SHOULD DO something in this case..."),u.TriggerEvent(h.OnResponseError,{error:"Has no simulation",exception:"",message:"Has no simulation"}))},onClosePopup:function(){i.changeState(i.GameSt.NoTransaction)},onTransactionResponse:function(t,e,n){if(null!=e.error)return c.Instance.close(),void s.ShowBlock(e.error,"Message: "+e.message+".\n Exception: "+e.exception);var i=r.instance;return i.setTransaction(e),i.dumpTransaction(),this.pullUserData(i.getUserId()),i.hasSimulations()&&i.hasPullInventory()?void this.pullInventory(i.getUserId()):void this.finish()},pullUserData:function(t){this.UserDataDone=!1,r.instance.getClientApi().usersIdGet(t,this.onPullUserDataResponse.bind(this))},onPullUserDataResponse:function(t,e,n){this.UserDataDone=!0,l.setUserData(e),this.finish()},pullInventory:function(t){this.UserInventoryDone=!1,r.instance.getClientApi().inventoryUserIdGet(t,function(t,e,n){this.onPullDataResponse(t,e,n)}.bind(this))},onPullDataResponse:function(t,e,n){if(this.UserInventoryDone=!0,r.instance.fakeInventory){var i=o.CardBuilder.buildInventoryCardList();a.setCards(i)}else a.setCards(e);a.setGameMode(r.instance.getGameMode()),this.finish()},finish:function(){this.UserDataDone&&this.UserInventoryDone&&i.nextState(i.GameSt.PullData)}});i.registerEnterState(i.GameSt.PullData,d,"OnStateEnter"),d.initialize(),cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",CardsJsonData:"CardsJsonData",FlagUtility:"FlagUtility",GameFSM:"GameFSM",GameTriggers:"GameTriggers",InventoryManager:"InventoryManager",Lokaki:"Lokaki",SimulationOptions:"SimulationOptions",TransactionManager:"TransactionManager",UIGenericPopup:"UIGenericPopup",UILoading:"UILoading",UserDataManager:"UserDataManager"}],GameStResults:[function(t,e,n){"use strict";cc._RFpush(e,"2686dqiHv5OP4Dfxe2v061P","GameStResults");var i=t("GameFSM"),a=(t("UIGenericPopup"),t("TransactionManager")),o=(t("DebugUtil"),t("UIManager")),r=t("CardUtility"),s=(t("CardDefs"),{OnStateEnter:function(){setTimeout(this.showUIResults.bind(this),1500)},showUIResults:function(){return a.instance.willHaveNextSimulation()&&a.instance.hasSkipWinPopup()?void this.onClickOk():void o.instance.Show("UIResults",this,"onShowResults")},getCurrentCardData:function(){var t=a.instance.getWinSlotId();if(null==t||0==t)return cc.log("Looose.. sId["+t+"]"),null;var e=r.parseCardId(t);return cc.log("+++++ getCurrentCardData"),cc.log(e),e},onShowResults:function(t){t.setClickContinueCallback(this.onClickOk.bind(this))},onClickOk:function(){a.instance.setNextSimulation(),a.instance.hasNextSimulation()?i.changeState(i.GameSt.ResultsRetry):i.changeState(i.GameSt.Finish)}});i.registerEnterState(i.GameSt.Results,s,"OnStateEnter"),cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",DebugUtil:"DebugUtil",GameFSM:"GameFSM",TransactionManager:"TransactionManager",UIGenericPopup:"UIGenericPopup",UIManager:"UIManager"}],GameStSetupGame:[function(t,e,n){"use strict";cc._RFpush(e,"e5856poPnZAz4LuNTSCO0LX","GameStSetupGame");var i=t("GameFSM"),a=(t("DebugUtil"),t("TransactionManager")),o=t("CardsFactory"),r=t("CardUtility"),s=(t("CardDefs"),t("SimulationInitializer")),l=t("OktTriggerManager"),c=t("UIManager"),u=(t("JackpotSceneBase"),t("UserDataManager"),t("UITapToPlay")),h=t("PrefabInstantiator"),d={slotsToInstantiate:0,slotsToInstantiateCounter:0,requestedUIList:null,OnStateEnter:function(){c.instance.clearInstances(),this.loadGameScene()},getSceneName:function(){return a.instance.isMiniSpin()?"GamePortrait_MiniSpin":a.instance.isMiniJackpot()?"GamePortrait_MiniJackpot":a.instance.isBigJackpot()?"GamePortrait_BigJackpot":(cc.log("NOOOOOOOOOOOOOOOOOOOOO!!! is there a new game mode?? >>"+a.instance.getGameMode()),"GamePortrait")},getMainCanvas:function(){return cc.director.getScene().children[0]},fadeOutScene:function(){this.getMainCanvas().runAction(cc.sequence(new cc.fadeOut(.5),new cc.callFunc(function(){this.loadGameScene()}.bind(this))))},loadGameScene:function(){cc.director.loadScene(this.getSceneName(),function(t,e){this.OnLoadScene(t,e)}.bind(this))},OnLoadScene:function(t,e){this.prepareScene()},fadeInScene:function(){this.onLoadSceneFinish()},onLoadSceneFinish:function(){u.ShowIfNeed(this,"OnCloseTapPlay")},OnCloseTapPlay:function(){setTimeout(function(){i.nextState(i.GameSt.SetupGame)}.bind(this),500)},prepareScene:function(){this.slotsToInstantiate=0,this.slotsToInstantiateCounter=0,this.loadSimulator()},loadSimulator:function(){l.AddEvent(l.GAME_EVENTS.OnGameChangeSate,this.onGameChangeSate.bind(this)),a.instance.isMiniJackpot()?s.m_pInstance.LoadMiniJackpot():a.instance.isBigJackpot()?s.m_pInstance.LoadBigJackpot():a.instance.isMiniSpin()?s.m_pInstance.LoadSpin():cc.log("------->>> XIIIIIIIIIIIIIIII: "+a.instance.getGameMode())},onGameChangeSate:function(t){var e=t.GetParam(0);if("WaitingPlay"==e.GetGameState()){l.RemoveEventOwner(this);s.m_pInstance.m_pCurrentGame;s.m_pInstance.m_pCurrentGame.m_pRoulette.enabled=!1;var n=s.m_pInstance.node.position;s.m_pInstance.node.position=n,this.loadUIs()}},loadUIs:function(){this.requestedUIList=new Array,a.instance.hasAnimateSystemCards()||this.instantiateSlots(),a.instance.isMiniJackpot()||(a.instance.isBigJackpot()?this.requestShowUI("UIHudBigJP"):a.instance.isMiniSpin()),a.instance.hasPullInventory()&&this.requestShowUI("UIChooseCard"),c.instance.loadPrefab("UITapToPlay",!1,null,null),this.checkUIAvailability()},loadPrefab:function(t,e){h.Instantiate(t,!0,null,function(t,n){null!=t&&(this.getMainCanvas().addChild(t),null!=e&&e())}.bind(this))},requestShowUI:function(t){this.requestedUIList.push(t),c.instance.loadPrefab(t,!1,null,null)},checkUIAvailability:function(){if(this.requestedUIList.length<=0);else for(var t=0;t<this.requestedUIList.length;t++){var e=c.instance.getUI(this.requestedUIList[t]);if(null==e||!e.node.active)return cc.log("checkUIAvailability.. still loading ["+this.requestedUIList[t]+"]"),void setTimeout(this.checkUIAvailability.bind(this),500)}this.onFinishLoadUI()},onFinishLoadUI:function(){for(var t=0;t<this.requestedUIList.length;t++)if("UIPortraitBorder"!=this.requestedUIList[t]){var e=c.instance.getUI(this.requestedUIList[t]);null!=e&&(e.Hide(),c.instance.Show(this.requestedUIList[t]))}c.instance.Show("UIPortraitBorder",null,null,99),this.fadeInScene()},instantiateSlots:function(){var t=a.instance.getCurrentSimulation().wheel_arrangement,e=r.parseCardIdList(t);if(e.length<=0)cc.log("has no slot to set now");else{this.slotsToInstantiate=e.length;for(var n=0;n<e.length;n++)s.m_pInstance.m_pCurrentGame.m_pRoulette.SetSlotType(n,e[n].id,e[n]),e[n].slotId=n,o.InstantiateSlotByTemplate(e[n],a.instance.getCurrentSlotSize(),this.onInstantiateSlot.bind(this));this.slotsToInstantiate<=0}},onInstantiateSlot:function(t){if(null!=t){var e=t.getComponent("UISlot"),n=s.m_pInstance.m_pCurrentGame.m_pRoulette.m_vSlots[e.getData().slotId];n.addChild(t),t.setPosition(new cc.p(0,t.getContentSize().height/2)),e.setSlotId(e.getData().slotId),this.slotsToInstantiateCounter++,this.slotsToInstantiateCounter>=this.slotsToInstantiate}}};i.registerEnterState(i.GameSt.SetupGame,d,"OnStateEnter"),cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",CardsFactory:"CardsFactory",DebugUtil:"DebugUtil",GameFSM:"GameFSM",JackpotSceneBase:"JackpotSceneBase",OktTriggerManager:"OktTriggerManager",PrefabInstantiator:"PrefabInstantiator",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIManager:"UIManager",UITapToPlay:"UITapToPlay",UserDataManager:"UserDataManager"}],GameStStart:[function(t,e,n){"use strict";cc._RFpush(e,"fed75+kLPVI9IzL93ua4vg8","GameStStart");var i,a=t("GameFSM"),o=(t("DontDestroyOnLoad"),!1),r=t("TransactionManager"),s=r.instance.getParameterByName("id");i=t(null!=s&&s.length<=4?"ClientAPIManager":"PlayPhClientAPIManager"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){o||a.registerEnterState(a.GameSt.Start,this,"OnStateEnter")},start:function(){i.initialize(),r.instance.setClientApi(i.instance),a.start()},onDestroy:function(){},OnStateEnter:function(t,e,n){setTimeout(function(){a.nextState(a.GameSt.Start)}.bind(this),1)}}),cc._RFpop()},{ClientAPIManager:"ClientAPIManager",DontDestroyOnLoad:"DontDestroyOnLoad",GameFSM:"GameFSM",PlayPhClientAPIManager:"PlayPhClientAPIManager",TransactionManager:"TransactionManager"}],GameTournament:[function(t,e,n){"use strict";cc._RFpush(e,"cd0daiu9oFJ3IPQ5xTUQEpE","GameTournament"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameUser"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./GameUser")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameTournament=i(n.JackpotApi.ApiClient,n.JackpotApi.GameUser))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("id")&&(a.id=t.convertToType(i.id,"String")),i.hasOwnProperty("name")&&(a.name=t.convertToType(i.name,"String")),i.hasOwnProperty("game_id")&&(a.game_id=t.convertToType(i.game_id,"String")),i.hasOwnProperty("users")&&(a.users=t.convertToType(i.users,[e])),i.hasOwnProperty("winner_id")&&(a.winner_id=t.convertToType(i.winner_id,"String"))),a},n.prototype.id=void 0,n.prototype.name=void 0,n.prototype.game_id=void 0,n.prototype.users=void 0,n.prototype.winner_id=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./GameUser":"GameUser"}],GameTransaction:[function(t,e,n){"use strict";cc._RFpush(e,"8162dH4F+tIGYVNU2kkGZIE","GameTransaction"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameSimulation","model/GameTournament"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./GameSimulation"),t("./GameTournament")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameTransaction=i(n.JackpotApi.ApiClient,n.JackpotApi.GameSimulation,n.JackpotApi.GameTournament))}(this,function(t,e,n){var i=function(){};return i.constructFromObject=function(a,o){return a&&(o=o||new i,a.hasOwnProperty("id")&&(o.id=t.convertToType(a.id,"String")),a.hasOwnProperty("user_id")&&(o.user_id=t.convertToType(a.user_id,"String")),a.hasOwnProperty("created_at")&&(o.created_at=t.convertToType(a.created_at,"Number")),a.hasOwnProperty("modified_at")&&(o.modified_at=t.convertToType(a.modified_at,"Number")),a.hasOwnProperty("last_state")&&(o.last_state=t.convertToType(a.last_state,"String")),a.hasOwnProperty("state")&&(o.state=t.convertToType(a.state,"String")),a.hasOwnProperty("simulations")&&(o.simulations=t.convertToType(a.simulations,[e])),a.hasOwnProperty("tournament")&&(o.tournament=n.constructFromObject(a.tournament)),a.hasOwnProperty("mode")&&(o.mode=t.convertToType(a.mode,"String")),a.hasOwnProperty("return_url")&&(o.return_url=t.convertToType(a.return_url,"String"))),o},i.prototype.id=void 0,i.prototype.user_id=void 0,i.prototype.created_at=void 0,i.prototype.modified_at=void 0,i.prototype.last_state=void 0,i.prototype.state=void 0,i.prototype.simulations=void 0,i.prototype.tournament=void 0,i.prototype.mode=void 0,i.prototype.return_url=void 0,i}),cc._RFpop()},{"../ApiClient":"ApiClient","./GameSimulation":"GameSimulation","./GameTournament":"GameTournament"}],GameTriggers:[function(t,e,n){"use strict";cc._RFpush(e,"cc01fkGt1NJjaaM0Ixug9Pq","GameTriggers");var i=t("OktTriggerManager"),a=t("okt");i.GAME_EVENTS=a.Enum("GAME_EVENTS",{OnBallCollide:["BaseInteraction"],OnArrowCollide:[cc.Node],OnActiveComponent:[String,Number],OnGameChangeSate:["JackpotSceneBase","[extra]"],OnGameStartSimulation:["SimulationPlayer"],OnGameSimulationStateChange:[cc.Integer],OnGameSimulationRequest:[],OnGameSimulationResponse:[],OnChangeGameState:[String,String,String],OnAlmostStoppingRoulette:[],OnAlmostStoppingRoulette5:[],OnClickCard:["CardComponent"],OnDrawCardAnimation:["CardComponent"],OnSetSlotOnCardAnimation:["CardComponent"],OnSetSlotOnRoulette:["CardComponent"],OnShowCardOnInventory:["CardComponent"],OnUIResultAnimChestCollide:["UIResults"],OnClickUseCard:["UICard"],OnClickUseCancelCard:["UICard"],OnClickUseCardToSlot:["UICard"],OnClickFilterCardGroup:[],OnClickRevealWildCard:[],Tutorial_ShowShift:[cc.Node],OnClickTapToPlay:[],OnResponseError:[],OnClickContinueResults:[]}),e.exports=i,cc._RFpop()},{OktTriggerManager:"OktTriggerManager",okt:"okt"}],GameUserInventoryList:[function(t,e,n){"use strict";cc._RFpush(e,"877d9ZFEU5Ndb2Ax1Kxsuxr","GameUserInventoryList"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameUserInventory"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./GameUserInventory")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameUserInventoryList=i(n.JackpotApi.ApiClient,n.JackpotApi.GameUserInventory))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("user_id")&&(a.user_id=t.convertToType(i.user_id,"String")),i.hasOwnProperty("inventory")&&(a.inventory=t.convertToType(i.inventory,[e]))),a},n.prototype.user_id=void 0,n.prototype.inventory=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./GameUserInventory":"GameUserInventory"}],GameUserInventory:[function(t,e,n){"use strict";cc._RFpush(e,"407beRTy+JDI7qWt7wXxlQB","GameUserInventory"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameUserInventory=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"Number")),n.hasOwnProperty("type")&&(i.type=t.convertToType(n.type,"String")),n.hasOwnProperty("effect")&&(i.effect=t.convertToType(n.effect,"String")),n.hasOwnProperty("value")&&(i.value=t.convertToType(n.value,"Number")),n.hasOwnProperty("charge")&&(i.charge=t.convertToType(n.charge,"Number")),n.hasOwnProperty("amount")&&(i.amount=t.convertToType(n.amount,"Number"))),i},e.prototype.id=void 0,e.prototype.user_id=void 0,e.prototype.type=void 0,e.prototype.effect=void 0,e.prototype.value=void 0,e.prototype.charge=void 0,e.prototype.amount=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],GameUser:[function(t,e,n){"use strict";cc._RFpush(e,"8cd1czq/VdLUqcScvzef7tM","GameUser"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.GameUser=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("name")&&(i.name=t.convertToType(n.name,"String")),n.hasOwnProperty("portrait_url")&&(i.portrait_url=t.convertToType(n.portrait_url,"String")),n.hasOwnProperty("game_tutorial_data")&&(i.game_tutorial_data=t.convertToType(n.game_tutorial_data,"String"))),i},e.prototype.id=void 0,e.prototype.name=void 0,e.prototype.portrait_url=void 0,e.prototype.game_tutorial_data=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],InstantiateSlots:[function(t,e,n){"use strict";cc._RFpush(e,"3a5aaqe6lRNI7DPLXZuRlMh","InstantiateSlots");var i=t("CardsJsonData"),a=t("CardsFactory");t("DebugUtil"),t("AtlasResources");cc.Class({"extends":cc.Component,properties:{m_Parent:cc.Node},onLoad:function(){},instantiate:function(){var t=i.CardBuilder.BuildInventory();a.InstantiateSlotByTemplate({id:6,amount:1,charge:1,type:"None",effect:"None"},12,this.OnInstantiate.bind(this)),a.InstantiateSlotByTemplate({id:6,amount:1,charge:1,type:"None",effect:"None"},12,this.OnInstantiate.bind(this));for(var e=0;e<t.length;e++)a.InstantiateSlotByTemplate(t[e],12,this.OnInstantiate.bind(this),"OnInstantiate")},instantiateSpins:function(){for(var t=i.CardBuilder.BuildInventory(),e=0;e<t.length;e++)a.InstantiateSlotByTemplate(t[e],8,this.OnInstantiate.bind(this))},OnInstantiate:function(t){this.m_Parent.addChild(t);var e=t.name.indexOf("Spin")!==-1;e&&(t.getComponent("UISlot").btnRoot.node.rotation=0)}}),cc._RFpop()},{AtlasResources:"AtlasResources",CardsFactory:"CardsFactory",CardsJsonData:"CardsJsonData",DebugUtil:"DebugUtil"}],InventoryApi:[function(t,e,n){"use strict";cc._RFpush(e,"90c20kBDKxGc6R5d2Ce92M2","InventoryApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameUserInventory","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameUserInventory"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.InventoryApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameUserInventory,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.inventoryUserIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling inventoryUserIdGet");var o={user_id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=[e];return this.apiClient.callApi("/inventory/{user_id}","GET",o,r,s,l,a,c,u,h,d,i)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameUserInventory":"GameUserInventory"}],InventoryManager:[function(t,e,n){"use strict";cc._RFpush(e,"860cfDHC01J8oFWp5APjlSO","InventoryManager");var i=(t("CardsJsonData"),t("CardDefs"),{cardList:{},cardModeList:{},gameMode:"none",getAllCards:function(){return this.cardList},getModeCards:function(){return this.cardModeList},setCards:function(t){this.cardList=t},setGameMode:function(t){var e=new Array;this.gameMode=t,this.getAllCards().forEach(function(n){switch(t){case"BigJackpot":"BigJackpot"===n.type&&e.push(n);break;case"MiniJackpot":"MiniJackpot"===n.type&&e.push(n);break;case"Spin":e.push(n);break;default:cc.log("nooo: "+n.type)}}),cc.log("mode set["+t+"] cards["+e.length+"/"+this.getAllCards().length+"]"),this.cardModeList=e}});e.exports=i,cc._RFpop()},{CardDefs:"CardDefs",CardsJsonData:"CardsJsonData"}],JackpotApi:[function(t,e,n){"use strict";cc._RFpush(e,"e2161eMcB9IZ72BsZoxIihG","JackpotApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameJackpot","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameJackpot"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.JackpotApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameJackpot,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.jackpotsGet=function(t){var n=null,i={},a={},o={},r={},s=[],l=[],c=["application/json"],u=[e];return this.apiClient.callApi("/jackpots","GET",i,a,o,r,n,s,l,c,u,t)},this.jackpotsIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'id' when calling jackpotsIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=e;return this.apiClient.callApi("/jackpots/{id}","GET",o,r,s,l,a,c,u,h,d,i)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameJackpot":"GameJackpot"}],JackpotButton:[function(t,e,n){"use strict";cc._RFpush(e,"76023Ko9oJGY5KawRX5mfBE","JackpotButton");var i=t("GameTriggers"),a=i.GAME_EVENTS,o=(i.UI_EVENTS,t("Lokaki")),r=t("CustomAction");cc.Class({"extends":cc.Component,properties:{m_lblSpinButton:cc.Label,_StartPosition:cc.Vec2,_StartScale:null},onLoad:function(){i.AddEvent(a.OnGameChangeSate,this.OnGameChangeSate.bind(this)),i.AddEvent(a.OnGameStartSimulation,this.OnGameStartSimulation.bind(this)),i.AddEvent(a.OnChangeGameState,this.OnChangeGameState.bind(this)),i.AddEvent(a.OnGameSimulationRequest,this.OnGameSimulationRequest.bind(this)),i.AddEvent(a.OnGameSimulationResponse,this.OnGameSimulationResponse.bind(this)),i.AddEvent(a.OnGameSimulationStateChange,this.OnGameSimulationStateChange.bind(this)),this.node.active=!1,this._StartPosition=cc.p(this.node.x,this.node.y),this.node.position=cc.p(this.node.x,-1550),this._StartScale=this.m_lblSpinButton.node.scale},onDestroy:function(){i.RemoveEventOwner(this)},showButton:function(t){this.node.stopAllActions(),this.enabled=!0,this.node.active=!0;var e=this.node;e.position=cc.p(this.node.x,-1550);var n=cc.moveTo(.2,this._StartPosition);n.easing(cc.easeBackOut(1)),e.runAction(n),this.m_lblSpinButton.string=o.GetText(t),cc.log("===> Show")},closeButton:function(){this.enabled=!1,this.m_lblSpinButton.node.stopAllActions(),this.m_lblSpinButton.node.scale=this._StartScale;var t=this.node,e=cc.moveTo(.2,cc.p(this.node.x,-1550));e.easing(cc.easeBackIn(1)),t.runAction(e)},OnGameSimulationStateChange:function(t){2==t.GetParam(0)&&this.closeButton()},OnChangeGameState:function(t){var e=t.GetParam(0);"Gameplay"==e&&this.showButton(108)},OnGameChangeSate:function(t){},OnGameStartSimulation:function(t){},OnGameSimulationRequest:function(t){this.closeButton()},OnGameSimulationResponse:function(t){this.showButton(109),r.highlightScaleLoop(this.m_lblSpinButton.node,1.5*this._StartScale,1.4*this._StartScale,this._StartScale,2,2)}}),cc._RFpop()},{CustomAction:"CustomAction",GameTriggers:"GameTriggers",Lokaki:"Lokaki"}],JackpotSceneBase:[function(t,e,n){"use strict";cc._RFpush(e,"b88d7nyze1C9bdhMoh4BrcP","JackpotSceneBase");var i=t("mJackpotUtils"),a=t("Mathf"),o=t("BaseInteraction"),r=t("Roulette"),s=t("LightArrayAnimation"),l="Simulation/",c="<GameMode>/_<Stage><Block>_<id>",u=t("GameTriggers"),h=u.GAME_EVENTS,d=u.UI_EVENTS,p=t("UIGenericPopup"),f=t("UIManager"),m=t("TransactionManager").instance,g=(t("CardUtility"),cc.Class({"extends":cc.Component,properties:{m_pScene:cc.Node,m_sGameMode:cc.String,m_pParentNode:cc.Node,m_sState:{"default":null,visible:0}},onLoad:function(){this.SetSceneVisible(!1)},onDestroy:function(){u.RemoveEventOwner(this)},Init:function(){this.enabled=!0,this.SetSceneVisible(!0),this.SetGameState(this.constructor.GAME_STATE.Started),this.SetupEventsUI()},Deinit:function(){this.enabled=!1,this.SetSceneVisible(!1)},SetSceneVisible:function(t){null!=this.m_pScene&&(this.m_pScene.active=t)},LoadStage:function(t){this.m_iStage=t,this.LoadSceneFromSrc(l+this.GetFileName(this.m_sGameMode,t))},GetFileName:function(t,e,n,i){var a,o,r=e||"0";return"undefined"==typeof n?(a="init",o=""):(a=n,null==i&&(i=["-1"]),o=i.join("_"),o="_"+o),c.replace("<GameMode>",t).replace("<Stage>",r).replace("<Block>",o).replace("<id>",a)},LoadSceneFromSrc:function(t){var e=this;null!=cc.loader.loadBinary?cc.loader.loadBinary(t,function(t,n){var a=i.DecompressBytes(n);e.LoadScene(a)}):cc.loader.loadRes(t,null,function(t,n){var a=i.DecompressStringEncoded(n);e.LoadScene(a)})},LoadScene:function(t){var e;e="string"==typeof t?JSON.parse(t):t,this.m_pLoadedSceneData=e;for(var n in this.m_dComponents){var a=this.m_dComponents[n];a.removeFromParent(!0)}var l=this.m_pLightArrayAnimation;if(null!=l)l.Reset();else{var c=new cc.Node("Light");l=c.addComponent(s),this.m_pLightArrayAnimation=l,c.parent=cc.director.getScene(),l.m_fChangeDelay=1}var u=!0;if(null!=this.m_pRoulette&&this.m_pRoulette.GetSlotCount()==e.m_vRouletteItems.length&&(u=!1),u){var h=new cc.Node("Roulette"),d=h.addComponent(r),p=[];this.m_pRoulette=d;var f=cc.p(0,0);f=i.ConvertUnityPosition(f),h.setPosition(f),d.m_vSpeeds=i.ConvertUnityRotation(e.m_vRouletteSpeed),d.m_fTransitionDuration=e.m_fTransitionDuration,d.SetSpeedIndex(0),p=e.m_vRouletteItems,d.m_vSlots=[];for(var m=0;m<p.length;m++){var g=p[m];g.m_sType="Roulette";var _=this.CreateSprite(g,h);_.m_iIndex=m,_.setAnchorPoint(cc.p(.5,0));var v=g.m_iIndex;d.m_vSlots[v]=_}this.OnCreateRoulette(),h.parent=this.GetSpriteParent()}this.m_dComponents={};for(var m=0;m<e.m_vItems.length;m++){var g=e.m_vItems[m],C=null;if("sprite_peg_big1_noshadow"==g.m_sSpriteName)C=this.m_pRoulette.node,this.CreateSprite(g,C);else{var a=this.CreateSprite(g,C);if(null!=a&&(this.m_dComponents[a.m_sId]=a,0==g.m_sType.indexOf("Light"))){var S=a.getComponent(o);this.m_pLightArrayAnimation.Add(S)}}}this.SetLightType("Sequential")},OnCreateRoulette:function(){},GetRandomSimulation:function(t){var e=0,n=2;null==t&&(t=this.m_pRoulette.GetBlockedSlots());var i=this.m_pLoadedSceneData;null!=i&&(n=t[0]==-1?i.m_iMaxGenerated:i.m_iMaxGeneratedBlock,n-=1);var o=a.RangeInt(e,n),r=l+this.GetFileName(this.m_sGameMode,this.m_iStage,o,t);return r},GetSpriteParent:function(){var t;return t=null!=this.m_pParentNode?this.m_pParentNode:cc.director.getScene()},CreateSprite:function(t,e){var n=null,a=t.m_sType,r="m_sprite"+a;if(n=this[r],null==n&&(n=this[a]),null==n&&(n=cc.find("Components/"+a,this.node),null!=n&&(this[a]=n)),null==n)return okt.log("couldnt find sprite! Should insert under 'Components'",a),null;var s=cc.instantiate(n),l=null;null==e?e=this.GetSpriteParent():l=e.getPosition(),s.parent=e,s.m_sId=t.m_sId,i.ConvertCompressedSimulationData(t);var c=i.ConvertUnityPosition(t.m_vPosition);null!=l&&(c=cc.pSub(c,l)),s.setPosition(c);var u=i.ConvertUnityRotation(t.m_fRotation);s.setRotation(u),null!=t.m_bEnabled&&(s.active=t.m_bEnabled);var h,d=s.getContentSize();null!=t.m_fRadiusSize?(h=i.ConvertUnitySize(t.m_fRadiusSize),h=cc.pMult(h,1/d.width)):t.m_vSize&&(h=i.ConvertUnitySize(t.m_vSize),h.x/=d.width,h.y/=d.height),s.setScale(h.x,h.y),null!=t.m_iDepth&&s.setLocalZOrder(t.m_iDepth);var p=s.getComponent(o);return null!=p&&(p.m_sSpriteName=t.m_sSpriteName,p.SetColliderEnabled(t.m_bEnabled)),s},SetLightType:function(t,e,n){if(null!=this.m_pLightArrayAnimation){var i=this.m_pLightArrayAnimation,a=i["GetLightPattern"+t];null!=a?("Sequential"==t&&(null==e&&(e=360/(i.GetTotalLight()-1)/Math.abs(this.m_pRoulette.GetSpeed())),null==n&&(n=2)),i.SetLightFunction(a(e,n))):okt.log("Not found light pattern: "+t)}},SetGameState:function(t){this.m_sState=t,u.TriggerEvent(h.OnGameChangeSate,this,arguments[1],arguments[2],arguments[3])},GetGameState:function(){return this.m_sState},SetIndexToStop:function(t){this.m_iIndexToStop=t,OKT_DEBUG&&null!=this.m_pRoulette&&this.m_pRoulette.DebugMarkSlot(t)},GetIndexToStop:function(){return null!=this.m_iIndexToStop?this.m_iIndexToStop:0},SetupEventsUI:function(){u.AddEvent(d.OnClickButton,this.OnClickButton.bind(this))},OnClickButton:function(t){},RequestResults:function(){var t=1;if(m.isLoaded()){var e=m.getCurrentSimulation();t=e.id}var n=0;if(null!=this.FindBlockCombination){var i=this.FindBlockCombination();this.m_pLatestOffset=i,n=i.iOffset}var a=this.m_pRoulette.GetSlotsJson(n),o=[],r=f.instance.getUI("UIChooseCard");null!=r&&(o=r.getUsedCards()),okt.log("sCurrentSlots",a),m.getClientApi().simulationsIdPut(t,a,o,this.OnRequestResults.bind(this)),u.TriggerEvent(h.OnGameSimulationRequest,this)},OnRequestResults:function(t,e,n){var i=-1;return null!=e&&null!=e[0]&&null!=e[0].error?void u.TriggerEvent(h.OnResponseError,this,e):void(null!=n&&(n.IsPassed()?m.isLoaded()&&m.mergeTransaction(e):console.log("Error->>> "+t+" data: "+e.message,!0),i=m.getWinSlotIndex(),i=parseInt(i),i!=-1?this.OnRequestResultsSuccess(i):(console.error("OnRequestResults: cant find 'target_slot_index'"),p.ShowConfirmLokaki(5,26,2),this.SetState(0))))},OnRequestResultsSuccess:function(t){u.TriggerEvent(h.OnGameSimulationResponse,this)}}));g.GAME_STATE=okt.Enum({Started:0,WaitingPlay:0,PlayStarted:0,PlayFinished:0,Completed:0}),e.exports=g,cc._RFpop()},{BaseInteraction:"BaseInteraction",CardUtility:"CardUtility",GameTriggers:"GameTriggers",LightArrayAnimation:"LightArrayAnimation",Mathf:"Mathf",Roulette:"Roulette",TransactionManager:"TransactionManager",UIGenericPopup:"UIGenericPopup",UIManager:"UIManager",mJackpotUtils:"mJackpotUtils"}],LabelColorChangerComp:[function(t,e,n){"use strict";cc._RFpush(e,"a6411CZQgNBfodH+pL6WdiO","LabelColorChangerComp");var i=t("TransactionManager");cc.Class({"extends":cc.Component,properties:{m_spriteBGNode:cc.Label,m_colorMiniSpin:cc.Color,m_colorMiniJackpot:cc.Color,m_scolorBigJackpot:cc.Color},onLoad:function(){this.buildBG()},buildBG:function(){if(null!==i.instance&&null!==i.instance.getTransaction()){var t=i.instance.getTransactionMode();"MiniSpin"===t?this.m_spriteBGNode.node.setColor(this.m_colorMiniSpin):"MiniJackpot"===t?this.m_spriteBGNode.node.setColor(this.m_colorMiniJackpot):"BigJackpot"===t&&this.m_spriteBGNode.node.setColor(this.m_scolorBigJackpot)}}}),cc._RFpop()},{TransactionManager:"TransactionManager"}],LightArrayAnimation:[function(t,e,n){"use strict";cc._RFpush(e,"e9703QioE1HY6k6/gyc+J9F","LightArrayAnimation");cc.Class({"extends":cc.Component,properties:{m_fChangeDelay:0,m_fTotalElapsedTime:0,m_funcLight:null,m_vLights:[]},editor:!1,start:function(){},update:function(t){this.UpdateLightState(t)},SetLightFunction:function(t){null==t&&(this.m_funcLight=t),"function"==typeof t&&(this.m_fTotalElapsedTime=0,this.m_funcLight=t,this.m_fTotalElapsedTime=0)},UpdateLightState:function(t){if(null!=this.m_fTotalElapsedTime){var e=this.m_funcLight;if(null!=e){this.m_fTotalElapsedTime+=t;for(var n=this.m_vLights,i=this.m_fTotalElapsedTime,a=i-this.m_fChangeDelay,o=0;o<n.length;o++){var r=!0;i>this.m_fChangeDelay&&(r=e(this,o,a)),n[o].SetColliderEnabled(r)}}}},GetLightPatternDefault:function(t){null==t&&(t=.5);var e=.5*t,n=function(n,i,a){var o=!0,a=a%t;return o=a<e};return n},GetLightPatternSequential:function(t,e){null==t&&(t=.01),(null==e||e<=0)&&(e=1);var n=!1;t<0&&(n=!0);var i=function(i,a,o){var r=!1,s=i.GetTotalLight(),l=s/e;n&&(a=Math.abs(a-s)),a=Math.round(a%l);var c=t,u=t*l;return o%=u,n&&(c=-c),o>a*c&&o<(a+1)*c&&(r=!0),r};return i},Reset:function(){this.m_vLights=[],this.m_fTotalElapsedTime=0},Add:function(t){if(null!=t)return null==t.SetColliderEnabled?void console.log("Should add a BaseInteraction into Light array."):void this.m_vLights.push(t)},GetTotalLight:function(){return this.m_vLights.length}});cc._RFpop()},{}],LogMe:[function(t,e,n){"use strict";cc._RFpush(e,"16c11Qnz5xBVIDNQMfrRVk6","LogMe"),cc.Class({"extends":cc.Component,properties:{atlas:{"default":null,type:cc.SpriteAtlas
}},onLoad:function(){cc.log(this.atlas.getSpriteFrames().sprite_bg_backslots_roulette)}}),cc._RFpop()},{}],Lokaki:[function(t,e,n){"use strict";cc._RFpush(e,"b39e9aGnjhKQbWhQ1kBLAPM","Lokaki");var i=t("polyglot"),a=cc.sys.language;t("okt"),OKT_DEBUG&&(a="en",cc.log("TODO: Lokaki is always in english now. remember to back it when release the game!"));var o=t("lokaki_data");null==o[a]&&(a="en"),a="en";var r=o[a](),s=new i({phrases:r,allowMissing:!0}),l={init:function(e){a=e,r=t(a),s.replace(r)},GetText:function(t,e){return"number"==typeof t&&(t=""+t),s.has(t)?s.t(t,e):t+": not defined"}};e.exports=l,cc._RFpop()},{lokaki_data:"lokaki_data",okt:"okt",polyglot:"polyglot"}],Mathf:[function(t,e,n){"use strict";cc._RFpush(e,"3807eFKWMRGjp/2kgL3D+GL","Mathf");var i={};i.DeltaAngle=function(t,e){var n=i.Repeat(e-t,360);return n>180&&(n-=360),n},i.Repeat=function(t,e){return t-Math.floor(t/e)*e},i.Abs=function(t){return t>0?t:-t},i.Range=function(t,e){return Math.random()*(e-t)+t},i.RangeInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},i.LerpAngle=function(t,e,n){var a=i.Repeat(e-t,360);return a>180&&(a-=360),t+a*cc.clamp01(n)},i.Lerp=function(t,e,n){return n=n<0?0:n,n=n>1?1:n,t+(e-t)*n},i.Clamp=function(t,e,n){return t<e?e:t>n?n:t},e.exports=i,cc._RFpop()},{}],MoveSinComp:[function(t,e,n){"use strict";cc._RFpush(e,"154d7RYSmNLJ5Mz5hgOlTSM","MoveSinComp"),cc.Class({"extends":cc.Component,editor:!1,properties:{amplitudeX:10,amplitudeY:5,omegaX:1,omegaY:5,_StartPosition:null,_index:0},onLoad:function(){null==this._StartPosition&&(this._StartPosition=this.node.position)},onEnable:function(){this._index=Math.random()},update:function(t){this._index+=t;var e=this.amplitudeX*Math.cos(this.omegaX*this._index),n=Math.abs(this.amplitudeY*Math.sin(this.omegaY*this._index));this.node.position=cc.p(e+this._StartPosition.x,n+this._StartPosition.y)},setProperties:function(t,e,n){this.amplitudeX=t.x,this.amplitudeY=t.y,this.omegaX=e.x,this.omegaY=e.y,this._StartPosition=n,this.node.position=this._StartPosition}}),cc._RFpop()},{}],OktTriggerManagerTest:[function(t,e,n){"use strict";cc._RFpush(e,"707dcXsyxNGWKIr+lJlWD1h","OktTriggerManagerTest");var i=t("OktTriggerManager"),a=0,o=0;i.AddEvent("test",function(t){a++},99),i.TriggerEvent("test",123),1!=a&&console.error("OktTriggerManager.TriggerEvent not working!"),i.AddEvent("tempTest",function(t){o++},2),i.AddEvent("tempTest",function(t){o++},99),i.TriggerEvent("tempTest",2),i.TriggerEvent("tempTest",1),i.TriggerEvent("tempTest",0),5!=o&&console.error("OktTriggerManager iTriggerCout not working!");var r,s=cc.Class({properties:{m_sName:"Test Instance"},InitTrigger:function(){i.AddEvent("test",this.TestEvent.bind(this))},TestEvent:function(t){r=!0},OnDestroy:function(){i.RemoveEventFunction(this,this.TestEvent)}}),l=new s;l.InitTrigger(),r=!1,i.TriggerEvent("test",666),r||console.error("OktTriggerManager.AddEvent not working!"),r=!1,i.RemoveEventOwner(l),i.TriggerEvent("test",250),r&&console.error("OktTriggerManager.RemoveEventOwner not working!"),r=!1,l.InitTrigger(),l.OnDestroy(),i.TriggerEvent("test",250),r&&console.error("OktTriggerManager.RemoveEventFunction not working!"),a=0,i.RemoveEventType("test"),i.TriggerEvent("test",123),0!=a&&console.error("OktTriggerManager.RemoveEventType not working!"),o=0,i.RemoveEventType("test","tempTest"),i.TriggerEvent("tempTest",123),0!=o&&console.error("OktTriggerManager.RemoveEventType not working!"),a=0,i.AddEvent("test",function(t){a++,2==a&&t.Cancel()},5);for(var c=0;c<5;c++)i.TriggerEvent("test");2!=a&&console.error("pEvent.Cancel(); not working!"),cc._RFpop()},{OktTriggerManager:"OktTriggerManager"}],OktTriggerManager_:[function(t,e,n){"use strict";cc._RFpush(e,"27115TTkApINKBK/xVvp6Xg","OktTriggerManager_");var i=Function.prototype.apply.bind(Function.prototype.bind);Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=i(this,arguments);return e.___boundObject=t,e}}),cc._RFpop()},{}],OktTriggerManager:[function(t,e,n){"use strict";cc._RFpush(e,"a4b2fw+g3BCwIoVpPnR7TBF","OktTriggerManager");var i={},a={},o=cc.Class({properties:{m_sEventName:"",m_vParameters:[],m_iRemainingCalls:-1,m_pDelegate:null,m_bCancelled:!1},GetParam:function(t,e){return t<0||t>=this.m_vParameters.length?e:this.m_vParameters[t]},GetEventName:function(){return this.m_sEventName},Execute:function(){var t=arguments;this.m_vParameters=t,this.m_iRemainingCalls--,this.m_pDelegate(this)},SetRemainingCalls:function(t){this.m_iRemainingCalls=t},Cancel:function(){this.m_bCancelled=!0},IsCancelled:function(){return this.m_bCancelled},IsLastCall:function(){return!(this.m_iRemainingCalls<=0)&&1==this.m_iRemainingCalls},IsSameDelegate:function(t,e){var n=!1;if(this.IsSameOwner(t)){var i=this.m_pDelegate.name,a=i.indexOf(e);i.length-e.length==a&&(n=!0)}return n},IsSameOwner:function(t){var e=!1;return this.m_pDelegate.___boundObject===t&&(e=!0),e}});a.m_dictEvents={},a.Warn=function(t){console.warn("[OktTriggerManager] "+t)},a.AddEvent=function(t,e,n){var i=null;if(null!=e&&(null==n&&(n=-1),null==e.___boundObject&&n<=-1&&this.Warn('AddEvent("'+t+'", listener): The given function is not bound to any object! please, bind it or add a trigger count!'),null!=this.m_dictEvents)){var a,a=this.m_dictEvents[t];null==a&&(a=[],this.m_dictEvents[t]=a),i=new o,i.m_sEventName=t,i.m_pDelegate=e,i.SetRemainingCalls(n),a.push(i)}return i},a.TriggerEvent=function(t,e){var n,i=this.m_dictEvents;if(n=i[t],null!=n){for(var a=[],o=0;o<n.length;o++)a[o]=n[o];for(var r=0,o=0;o<a.length;o++){var s=a[o];if(null!=s){var l=s.IsLastCall();s.Execute(e),l||s.IsCancelled()&&(l=!0),l?r<0||r>=n.length||n[r]==s&&(n=n.splice(r,1)):r++}}}},a.RemoveEventType=function(t){for(var e=0;e<arguments.length;e++)delete this.m_dictEvents[arguments[e]]},a.RemoveEventFunction=function(t,e){if(null!=t){"function"==typeof e&&(e=e.name);var n=this.m_dictEvents;for(var i in n){var a=n[i];if(null!=a)for(var o=a.length-1;o>=0;o--){var r=a[o];null!=r&&r.IsSameDelegate(t,e)&&(a=a.splice(o,1))}}}},a.RemoveEventOwner=function(t){if(null!=t){var e=this.m_dictEvents;for(var n in e){var i=e[n];if(null!=i)for(var a=i.length-1;a>=0;a--){var o=i[a];null!=o&&o.IsSameOwner(t)&&(i=i.splice(a,1))}}}},i=a,e.exports=i,cc._RFpop()},{}],OnDestroyLog:[function(t,e,n){"use strict";cc._RFpush(e,"d6b10Qj47dIw529RNHYaSjR","OnDestroyLog"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onDestroy:function(){cc.log("DESTROYED!!! "+this.name)}}),cc._RFpop()},{}],PPAvailableSpinner:[function(t,e,n){"use strict";cc._RFpush(e,"6f905oo7KhDO7dxMOsZKDEN","PPAvailableSpinner"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/PPSpinner"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./PPSpinner")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPAvailableSpinner=i(n.JackpotApi.ApiClient,n.JackpotApi.PPSpinner))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("spinId")&&(a.spinId=t.convertToType(i.spinId,"String")),i.hasOwnProperty("spinner")&&(a.spinner=e.constructFromObject(i.spinner))),a},n.prototype.spinId=void 0,n.prototype.spinner=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./PPSpinner":"PPSpinner"}],PPCard:[function(t,e,n){"use strict";cc._RFpush(e,"9f495kWxBRJb7Hx3WBr+q9q","PPCard"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPCard=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("name")&&(i.name=t.convertToType(n.name,"String")),n.hasOwnProperty("usable_spinner_type")&&(i.usable_spinner_type=t.convertToType(n.usable_spinner_type,"String")),n.hasOwnProperty("icon")&&(i.icon=t.convertToType(n.icon,"String")),n.hasOwnProperty("description")&&(i.description=t.convertToType(n.description,"String")),n.hasOwnProperty("usable")&&(i.usable=t.convertToType(n.usable,"Boolean")),n.hasOwnProperty("blocks")&&(i.blocks=t.convertToType(n.blocks,"Boolean")),n.hasOwnProperty("position")&&(i.position=t.convertToType(n.position,"Number"))),i},e.prototype.id=void 0,e.prototype.name=void 0,e.prototype.usable_spinner_type=void 0,e.prototype.icon=void 0,e.prototype.description=void 0,e.prototype.usable=void 0,e.prototype.blocks=void 0,e.prototype.position=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PPClientAPIManager:[function(t,e,n){"use strict";cc._RFpush(e,"12208jsoKNIZ5HezJNrHUjj","PPClientAPIManager");var i=(t("Api"),t("ApiClient")),a=t("PPGetApi"),o=t("PPPostApi"),r=t("TransactionManager"),s={_PPGetApi:null,_PPPostApi:null,_UserId:1,initialize:function(){e.exports.instance=this,i.instance.buildUrl=this.buildUrl.bind(this),this._PPGetApi=new a,this._PPPostApi=new o,cc.log("Playphone's Server API loaded.")},inventoryUserIdGet:function(t,e){cc.log("%c inventoryUserIdGet not implemented","color:red;")},transactionsIdGet:function(t,e){cc.log("PPtransactionsIdGet"),this.PPPullSpins(this._UserId,function(t,n,i){cc.log("--------------- SPINS len: "+n.length),cc.log(n[0]),(n.length<=0||null==n[0].spinner)&&(cc.log("noooooooooooooooooooooooooo"),null!=e&&e(null,null,null)),this.PPPullSpin(n[0].spinner,function(t,i,a){var o={simulations:[i],mode:"MiniSpin",id:n[0].spinner.identifier,user_id:this._UserId};cc.log(o),null!=e&&e(t,o,a)}.bind(this))}.bind(this))},usersIdGet:function(t,e){cc.log("%c usersIdGet not implemented. its a fake one","color:red;");var n={id:1,name:"oktagon",portrait_url:"https://cdn3.iconfinder.com/data/icons/user-a",game_tutorial_data:'{"UITutorialSlideShow_MiniJackpot":true,"UITutorialSlideShow_BigJackpot":true,"UITutorialTimeout_BigJackpot_1":true,"UITutorialSlideShow_MiniSpin":true,"UITutorialTimeout_MiniSpin":true,"UITutorialTimeout_MiniJackpot":true,"UITutorialTimeout_BigJackpot_2_Round2_1":true,"UITutorialTimeout_BigJackpot_2_Round2_2":true}'};setTimeout(function(){null!=e&&e(null,n,null)}.bind(this),.3)},simulationsIdPut:function(t,e,n,i){cc.log("%c simulationsIdPut not implemented","color:red;"),this.PPPullComplete(e,n,i)},PPPullSpins:function(t,e){var n=this._PPGetApi;n.spinsUserIdGet(t,function(t,n,i){this.OnPPPullSpins(t,n,i,e)}.bind(this))},OnPPPullSpins:function(t,e,n,i){null!=i&&i(t,e,n)},PPPullSpin:function(t,e){var n=this._PPPostApi;n.startSpinPost(this._UserId,t,function(t,n,i){this.OnPPPullSpin(t,n,i,e)}.bind(this))},OnPPPullSpin:function(t,e,n,i){cc.log(e);var a=this.parseSimulationData(e);null!=i&&i(t,a,n)},PPPullComplete:function(t,e,n){var i=this._PPPostApi;i.completeSpinPost(this._UserId,t,e,function(t,e,i){this.OnPPPullComplete(t,e,i,n)}.bind(this))},OnPPPullComplete:function(t,e,n,i){cc.log("-------------------"),cc.log(r.instance),cc.log(r.instance.getCurrentSimulation()),cc.log(r.instance.getCurrentSimulation().target_slot_index),r.instance.getCurrentSimulation().target_slot_index=e.pos;var a=new Array;null!=e.newspin&&a.push(this.parseSimulationData(e.newspin)),null!=i&&i(t,a,n)},pullInventory:function(t,e){this._InventoryApiCallback=e,this._InventoryApi.cardsUserIdGet(t,this.OnPullInventory.bind(this))},OnPullInventory:function(t,e,n){var i=e;i=this.parseInventory(i),null!=this._PPInventoryApiCallback&&this._PPInventoryApiCallback(t,i,n),cc.log(i)},mapTableInventory:{id:"id",type:"name"},parseInventory:function(t){for(var e=new Array,n=0;n<t.length;n++){var i=t[n],a=new GameUserInventory;this.parseFromMapTable(this.mapTableInventory,i,a),e.push(a)}return e},parseFromMapTable:function(t,e,n){for(var i in t)null!=t[i]&&null!=e[t[i]]&&(n[i]=e[t[i]])},parseCardToIdList:function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(t[n].name);return e},parseGameMode:function(t){return"basic"==t?"MiniSpin":"mini"==t?"MiniJackpot":"BigJackpot"},parseSimulationData:function(t){var e={};return e.wheel_arrangement=this.parseCardToIdList(t.cards),e.id=t.identifier,e.transaction_id=-1,e.user_id=this._UserId,e.mode=this.parseGameMode(t.type),e.processed=0,e.target_slot_index=-1,e.options=72,e.round=1,e},buildUrl:function(t,e){var n="http://192.168.56.1:888/PachinkoAPI";return n+=t.indexOf("{")!==-1?t.substring(0,t.indexOf("{")-1):t,n+=".php",cc.log("fullPath: "+n+"  path: "+t),n}};e.exports=s,cc._RFpop()},{Api:"Api",ApiClient:"ApiClient",PPGetApi:"PPGetApi",PPPostApi:"PPPostApi",TransactionManager:"TransactionManager"}],PPCompleteSpin:[function(t,e,n){"use strict";cc._RFpush(e,"877dd6ZOX1JNpuKXMERHcQ8","PPCompleteSpin"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/PPAvailableSpinner","model/PPCard"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./PPAvailableSpinner"),t("./PPCard")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPCompleteSpin=i(n.JackpotApi.ApiClient,n.JackpotApi.PPAvailableSpinner,n.JackpotApi.PPCard))}(this,function(t,e,n){var i=function(){};return i.constructFromObject=function(a,o){return a&&(o=o||new i,a.hasOwnProperty("pos")&&(o.pos=t.convertToType(a.pos,"String")),a.hasOwnProperty("message")&&(o.message=t.convertToType(a.message,"String")),a.hasOwnProperty("card")&&(o.card=n.constructFromObject(a.card)),a.hasOwnProperty("newspin")&&(o.newspin=e.constructFromObject(a.newspin))),o},i.prototype.pos=void 0,i.prototype.message=void 0,i.prototype.card=void 0,i.prototype.newspin=void 0,i}),cc._RFpop()},{"../ApiClient":"ApiClient","./PPAvailableSpinner":"PPAvailableSpinner","./PPCard":"PPCard"}],PPGetApi:[function(t,e,n){"use strict";cc._RFpush(e,"61579a6YoZHLrpaeOj3NCyW","PPGetApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/PPCard","model/PPAvailableSpinner"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/Error"),t("../model/PPCard"),t("../model/PPAvailableSpinner")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPGetApi=i(n.JackpotApi.ApiClient,n.JackpotApi.Error,n.JackpotApi.PPCard,n.JackpotApi.PPAvailableSpinner))}(this,function(t,e,n,i){var a=function(a){this.apiClient=a||t.instance,this.cardsUserIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'userId' when calling cardsUserIdGet");var o={user_id:t},r={},s={},l={},c=["api_key"],u=[],h=["application/json"],d=[n];return this.apiClient.callApi("/cards/{user_id}","GET",o,r,s,l,a,c,u,h,d,i)},this.spinsUserIdGet=function(t,n){var a=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'userId' when calling spinsUserIdGet");var o={user_id:t},r={},s={},l={},c=["api_key"],u=[],h=["application/json"],d=[i];return this.apiClient.callApi("/spins/{user_id}","GET",o,r,s,l,a,c,u,h,d,n)}};return a}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/PPAvailableSpinner":"PPAvailableSpinner","../model/PPCard":"PPCard"}],PPPostApi:[function(t,e,n){"use strict";cc._RFpush(e,"7d894bR8oVDNL8LSHDByq20","PPPostApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/PPCompleteSpin","model/Error","model/PPStartSpin"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/PPCompleteSpin"),t("../model/Error"),t("../model/PPStartSpin")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPPostApi=i(n.JackpotApi.ApiClient,n.JackpotApi.PPCompleteSpin,n.JackpotApi.Error,n.JackpotApi.PPStartSpin))}(this,function(t,e,n,i){var a=function(a){this.apiClient=a||t.instance,this.completeSpinPost=function(t,i,a,o){var r=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling completeSpinPost");if(void 0==i||null==i)throw new n("Missing the required parameter 'spinId' when calling completeSpinPost");if(void 0==a||null==a)throw new n("Missing the required parameter 'cards' when calling completeSpinPost");var s={},l={},c={},u={user_id:t,spinId:i,cards:a},h=["api_key"],d=[],p=["application/json"],f=e;return this.apiClient.callApi("/complete_spin","POST",s,l,c,u,r,h,d,p,f,o)},this.startSpinPost=function(t,e,a){var o=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'userId' when calling startSpinPost");if(void 0==e||null==e)throw new n("Missing the required parameter 'spinId' when calling startSpinPost");var r={},s={},l={},c={user_id:t,spinId:e},u=["api_key"],h=["application/x-www-form-urlencoded"],d=["application/json"],p=i;return this.apiClient.callApi("/start_spin","POST",r,s,l,c,o,u,h,d,p,a)}};return a}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/PPCompleteSpin":"PPCompleteSpin","../model/PPStartSpin":"PPStartSpin"}],PPSpinner:[function(t,e,n){"use strict";cc._RFpush(e,"17b52KmW5FPgJg8CEkTbpgX","PPSpinner"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPSpinner=i(n.JackpotApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("identifier")&&(i.identifier=t.convertToType(n.identifier,"String")),n.hasOwnProperty("name")&&(i.name=t.convertToType(n.name,"String")),n.hasOwnProperty("type")&&(i.type=t.convertToType(n.type,"String")),n.hasOwnProperty("icon")&&(i.icon=t.convertToType(n.icon,"String")),n.hasOwnProperty("description")&&(i.description=t.convertToType(n.description,"String"))),i},e.prototype.identifier=void 0,e.prototype.name=void 0,e.prototype.type=void 0,e.prototype.icon=void 0,e.prototype.description=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PPStartSpin:[function(t,e,n){"use strict";cc._RFpush(e,"12609q7YtdHpp90r0L3KM+d","PPStartSpin"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/PPCard"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./PPCard")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.PPStartSpin=i(n.JackpotApi.ApiClient,n.JackpotApi.PPCard))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("identifier")&&(a.identifier=t.convertToType(i.identifier,"String")),i.hasOwnProperty("name")&&(a.name=t.convertToType(i.name,"String")),i.hasOwnProperty("type")&&(a.type=t.convertToType(i.type,"String")),i.hasOwnProperty("icon")&&(a.icon=t.convertToType(i.icon,"String")),i.hasOwnProperty("slots")&&(a.slots=t.convertToType(i.slots,"Number")),i.hasOwnProperty("cards")&&(a.cards=t.convertToType(i.cards,[e])),i.hasOwnProperty("user_cards")&&(a.user_cards=t.convertToType(i.user_cards,[e]))),a},n.prototype.identifier=void 0,n.prototype.name=void 0,n.prototype.type=void 0,n.prototype.icon=void 0,n.prototype.slots=void 0,n.prototype.cards=void 0,n.prototype.user_cards=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./PPCard":"PPCard"}],ParticleClonerComp:[function(t,e,n){"use strict";cc._RFpush(e,"7d8e8kWT9JODqSGmJ9nc/a8","ParticleClonerComp"),cc.Class({"extends":cc.Component,properties:{Particle:cc.Node,SpriteList:[cc.SpriteFrame],Particles:cc.ParticleSystem},onLoad:function(){for(var t=0;t<this.SpriteList.length;t++)if(null!=this.SpriteList[t]){cc.log(this.Particles),this.Particles.texture=this.SpriteList[t];var e=cc.instantiate(this.Particles.node);this.node.addChild(e)}}}),cc._RFpop()},{}],PlatformUtil:[function(t,e,n){"use strict";cc._RFpush(e,"dfee5w4boNFe4usL9nt9pmK","PlatformUtil");var i={m_FullScreenRequested:!1,isFullscreen:function(){return document.isFullscreen=function(){return null!=document.fullScreenElement?document.fullScreenElement:null!=document.msFullscreenElement?document.msFullscreenElement:null!=document.mozFullScreen?document.mozFullScreen:null!=document.webkitIsFullScreen?document.webkitIsFullScreen:screen.height===window.outerHeight?(alert("Browser is in fullscreen"),!0):(cc.log("%cNOOOOOOOO.. couldn't check fullscreen..","color:red;"),!1)},cc.log("is fullscreen? "+document.isFullscreen()),document.isFullscreen()},requiresForceTap:function(){return!(!cc.sys.isMobile||cc.sys.os!==cc.sys.OS_IOS)},setFullscreenRequested:function(t){this.m_FullScreenRequested=t},fullscreenRequested:function(){return!this.m_FullScreenRequested&&(!!this.requiresForceTap()||("true"==this.getParameterByName("fullscreen")||navigator.fullscreen))},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}};e.exports=i,cc._RFpop()},{}],PlayOnFinishSpin:[function(t,e,n){"use strict";cc._RFpush(e,"68ef88hZ1lML6YIHyMx7z98","PlayOnFinishSpin");var i=t("GameTriggers"),a=i.GAME_EVENTS;t("CustomAction"),t("SimulationInitializer");cc.Class({"extends":cc.Component,properties:{GOToActive:cc.Node},start:function(){this.GOToActive.active=!1,this.SetupEventsUI()},SetupEventsUI:function(){i.AddEvent(a.OnGameChangeSate,this.OnGameChangeSate.bind(this))},ClearEventsUI:function(){i.RemoveEventFunction(this,"OnGameChangeSate")},OnGameChangeSate:function(t){var e=t.GetParam(0);"PlayFinished"==e.GetGameState()&&this.PlayAction()},PlayAction:function(){null!=this.GOToActive&&(this.GOToActive.active=!0)}}),cc._RFpop()},{CustomAction:"CustomAction",GameTriggers:"GameTriggers",SimulationInitializer:"SimulationInitializer"}],PlayOnSpin:[function(t,e,n){"use strict";cc._RFpush(e,"1a518qRJ9NK4JTgREWYGhY6","PlayOnSpin");var i=t("GameTriggers"),a=i.GAME_EVENTS,o=i.UI_EVENTS,r=t("CustomAction"),s=t("SimulationInitializer");cc.Class({"extends":cc.Component,properties:{ReversedScale:!1,ExplodeTime:.3,ExplodeToScale:10,ExplodeParticle:cc.Node,ExplodeFadeout:.2,PlayOnFinish:!1},start:function(){this.ExplodeParticle.active=!1,this.SetupEventsUI()},SetupEventsUI:function(){i.AddEvent(o.OnClickButton,this.OnClickButton.bind(this)),i.AddEvent(a.OnGameChangeSate,this.OnGameChangeSate.bind(this))},ClearEventsUI:function(){i.RemoveEventFunction(this,"OnClickButton"),i.RemoveEventFunction(this,"OnGameChangeSate")},OnClickButton:function(t){if(!this.PlayOnFinish){var e=t.GetParam(0);if(null!=e){var n=e.node.name;"sprite_button_spin"==n?this.PlayAction():"BtnSpin"==n&&2==s.m_pInstance.m_pCurrentGame.m_iState&&this.PlayAction()}}},OnGameChangeSate:function(t){if(this.PlayOnFinish){var e=t.GetParam(0);"PlayFinished"==e.GetGameState()&&this.PlayAction()}},PlayAction:function(){null!=this.ExplodeParticle&&(this.ExplodeParticle.active=!0,this.ReversedScale?r.reverseExplosionEffect(this.ExplodeParticle,this.ExplodeToScale,this.ExplodeTime,this.ExplodeFadeout,function(){this.ExplodeParticle.active=!1}.bind(this)):r.explosionEffect(this.ExplodeParticle,this.ExplodeToScale,this.ExplodeTime,this.ExplodeFadeout,function(){this.ExplodeParticle.active=!1}.bind(this)))}}),cc._RFpop()},{CustomAction:"CustomAction",GameTriggers:"GameTriggers",SimulationInitializer:"SimulationInitializer"}],PlayPhApiApi:[function(t,e,n){"use strict";cc._RFpush(e,"7657eFxzDBKs7Hw/SlIYUOj","PlayPhApiApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/PlayPhGameJackpot","model/PlayPhGameUser","model/PlayPhGameUserInventory","model/PlayPhGetUserSimulationResponse","model/PlayPhPutSimulationResponse","model/PlayPhSimulation","model/PlayPhSimulationsPutParam"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/Error"),t("../model/PlayPhGameJackpot"),t("../model/PlayPhGameUser"),t("../model/PlayPhGameUserInventory"),t("../model/PlayPhGetUserSimulationResponse"),t("../model/PlayPhPutSimulationResponse"),t("../model/PlayPhSimulation"),t("../model/PlayPhSimulationsPutParam")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhApiApi=i(n.PlayPhoneApi.ApiClient,n.PlayPhoneApi.Error,n.PlayPhoneApi.PlayPhGameJackpot,n.PlayPhoneApi.PlayPhGameUser,n.PlayPhoneApi.PlayPhGameUserInventory,n.PlayPhoneApi.PlayPhGetUserSimulationResponse,n.PlayPhoneApi.PlayPhPutSimulationResponse,n.PlayPhoneApi.PlayPhSimulation,n.PlayPhoneApi.PlayPhSimulationsPutParam))}(this,function(t,e,n,i,a,o,r,s,l){var c=function(l){this.apiClient=l||t.instance,this.inventoryUserIdGet=function(t,n){var i=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'userId' when calling inventoryUserIdGet");var o={user_id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=[a];return this.apiClient.callApi("/inventory/{user_id}","GET",o,r,s,l,i,c,u,h,d,n)},this.jackpotsGet=function(t){var e=null,i={},a={},o={},r={},s=[],l=[],c=["application/json"],u=[n];return this.apiClient.callApi("/jackpots","GET",i,a,o,r,e,s,l,c,u,t)},this.jackpotsIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling jackpotsIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=n;return this.apiClient.callApi("/jackpots/{id}","GET",o,r,s,l,a,c,u,h,d,i)},this.simulationsIdGet=function(t,n){var i=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling simulationsIdGet");var a={id:t},o={},r={},l={},c=[],u=[],h=["application/json"],d=s;return this.apiClient.callApi("/simulations/{id}","GET",a,o,r,l,i,c,u,h,d,n)},this.simulationsIdPut=function(t,n,i){var a=n;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling simulationsIdPut");if(void 0==n||null==n)throw new e("Missing the required parameter 'body' when calling simulationsIdPut");var o={id:t},s={},l={},c={},u=[],h=[],d=["application/json"],p=r;return this.apiClient.callApi("/simulations/{id}","PUT",o,s,l,c,a,u,h,d,p,i)},this.userSimulationsUserIdGet=function(t,n){var i=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'userId' when calling userSimulationsUserIdGet");var a={user_id:t},r={},s={},l={},c=[],u=["application/x-www-form-urlencoded"],h=["application/json"],d=[o];return this.apiClient.callApi("/user_simulations/{user_id}","GET",a,r,s,l,i,c,u,h,d,n)},this.usersIdGet=function(t,n){var a=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling usersIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=i;return this.apiClient.callApi("/users/{id}","GET",o,r,s,l,a,c,u,h,d,n)}};return c}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/PlayPhGameJackpot":"PlayPhGameJackpot","../model/PlayPhGameUser":"PlayPhGameUser","../model/PlayPhGameUserInventory":"PlayPhGameUserInventory","../model/PlayPhGetUserSimulationResponse":"PlayPhGetUserSimulationResponse","../model/PlayPhPutSimulationResponse":"PlayPhPutSimulationResponse","../model/PlayPhSimulation":"PlayPhSimulation","../model/PlayPhSimulationsPutParam":"PlayPhSimulationsPutParam"}],PlayPhApi:[function(t,e,n){"use strict";cc._RFpush(e,"28fa29x10VLIpnOhB1iWRc3","PlayPhApi"),function(n){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/PlayPhCardUsed","model/PlayPhGameJackpot","model/PlayPhGameUser","model/PlayPhGameUserInventory","model/PlayPhGetUserSimulationResponse","model/PlayPhPutSimulationResponse","model/PlayPhSimulation","model/PlayPhSimulationsPutParam","api/PlayPhApiApi"],n):"object"==typeof e&&e.exports&&(e.exports=n(t("./ApiClient"),t("./model/Error"),t("./model/PlayPhCardUsed"),t("./model/PlayPhGameJackpot"),t("./model/PlayPhGameUser"),t("./model/PlayPhGameUserInventory"),t("./model/PlayPhGetUserSimulationResponse"),t("./model/PlayPhPutSimulationResponse"),t("./model/PlayPhSimulation"),t("./model/PlayPhSimulationsPutParam"),t("./api/PlayPhApiApi")))}(function(t,e,n,i,a,o,r,s,l,c,u){var h={ApiClient:t,Error:e,PlayPhCardUsed:n,PlayPhGameJackpot:i,PlayPhGameUser:a,PlayPhGameUserInventory:o,PlayPhGetUserSimulationResponse:r,PlayPhPutSimulationResponse:s,PlayPhSimulation:l,PlayPhSimulationsPutParam:c,PlayPhApiApi:u};return h}),cc._RFpop()},{"./ApiClient":"ApiClient","./api/PlayPhApiApi":"PlayPhApiApi","./model/Error":"Error","./model/PlayPhCardUsed":"PlayPhCardUsed","./model/PlayPhGameJackpot":"PlayPhGameJackpot","./model/PlayPhGameUser":"PlayPhGameUser","./model/PlayPhGameUserInventory":"PlayPhGameUserInventory","./model/PlayPhGetUserSimulationResponse":"PlayPhGetUserSimulationResponse","./model/PlayPhPutSimulationResponse":"PlayPhPutSimulationResponse","./model/PlayPhSimulation":"PlayPhSimulation","./model/PlayPhSimulationsPutParam":"PlayPhSimulationsPutParam"}],PlayPhCardUsed:[function(t,e,n){"use strict";cc._RFpush(e,"91e6dkRfxZMXaxf7t/Piv6G","PlayPhCardUsed"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhCardUsed=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("position")&&(i.position=t.convertToType(n.position,"Number"))),i},e.prototype.id=void 0,e.prototype.position=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhClientAPIManager:[function(t,e,n){"use strict";cc._RFpush(e,"42cb3lsCv1Jv7RvfWtzp1Pw","PlayPhClientAPIManager");var i=t("PlayPhApi"),a=t("ApiClient"),o=t("CardUtility"),r=(t("InventoryApi"),t("GameUserInventory"),t("TransactionManager")),s=t("GameTriggers"),l=s.GAME_EVENTS,c={_ClientAPI:null,_UserId:1,initialize:function(){e.exports.instance=this,a.instance.basePath="http://api.plyph.me/jackpot".replace(/\/+$/,""),this._ClientAPI=new i.PlayPhApiApi,cc.log("%cPlayphone's New New Server API loaded.","color:green;")},inventoryUserIdGet:function(t,e){this._ClientAPI.inventoryUserIdGet(t,function(t,n,i){for(var a=new Array,r=new Array,s=0;s<n.length;s++){var l=n[s].client_id,c=r.indexOf(l);if(c>=0)a[c].amount++,a[c].dataList.push(n[s]);else{var u=o.parseCardId(l);u.dataList=new Array,u.dataList.push(n[s]),r.push(l),a.push(u)}}e(t,a,i)}.bind(this))},transactionsIdGet:function(t,e,n){cc.log("%c---> UserId: "+t,"color:green"),this._ClientAPI.userSimulationsUserIdGet(t,function(t,i,a){if(i.length<=0)return void this.hasNoSimulationError();var o=this.getCurrentTransaction(i,e);if(null==o)return void this.hasNoSimulationError();var r=o.id,s=this.getMode(o.identifier),l=this.getRound(o.identifier);this._ClientAPI.simulationsIdGet(r,function(t,e,i){if(null!=e.error)return void(null!=n&&n(t,e,i));e.mode=this.getMode(e.identifier),e.options=this.getOptions(e.mode),e.round=l;var a={simulations:[e],mode:s,id:o.id};null!=n&&n(t,a,i)}.bind(this))}.bind(this))},usersIdGet:function(t,e){this._ClientAPI.usersIdGet(t,e)},simulationsIdPut:function(t,e,n,i){var a={id:t,wheel_arrangement:e,cards_used:n};this._ClientAPI.simulationsIdPut(t,a,function(t,e,n){var a;e.mode=this.getMode(e.identifier),e.options=this.getOptions(e.mode),e.round=this.getRound(e.identifier),a=null!=e.new_transaction_id?[e,{id:e.new_transaction_id}]:[e],null!=i&&i(t,a,n)}.bind(this))},usersIdPut:function(t,e,n){},hasNoSimulationError:function(){s.TriggerEvent(l.OnResponseError,{error:"Has no simulation",exception:"",message:"Has no simulation"})},getMode:function(t){return"minijackpot"==t||"money"==t?"MiniJackpot":"basicspin"==t?"MiniSpin":t.indexOf("megajackpot")!==-1?"BigJackpot":(cc.log("-------------------------"),cc.log("-------------------------"),cc.log("NEW MODE FOUND: "+t),cc.log("-------------------------"),void cc.log("-------------------------"))},getRound:function(t){var e=t.substring(t.length-1);return parseInt(e)>=0?parseInt(e):1},getOptions:function(t){return"MiniJackpot"==t?42:"MiniSpin"==t?328:42},getCurrentTransaction:function(t,e){var n=r.instance.getParameterByName("identifier"),i=r.instance.getParameterByName("simulation");if(null!=e&&e.length>5)for(var a=0;a<t.length;a++)if(t[a].id===e)return t[a];if(null!=n)for(var a=0;a<t.length;a++)if(t[a].identifier.indexOf(n)!==-1)return t[a];if(null!=i)for(var a=0;a<t.length;a++)if(t[a].id===i)return t[a];return t[0]},temp_getSimulation:function(t,e){cc.log("indo fake_getSimulation"),this.getOkt("http://api.plyph.me/jackpot/user_simulations/"+t,e);
},getOkt:function(t,e){var n;n=new XMLHttpRequest,n.onreadystatechange=function(){cc.log("--> rst:"+n.readyState+"    st: "+n.status),4==n.readyState&&200==n.status&&(cc.log("aeeeeeeeeeeeee"),cc.log(JSON.stringify(JSON.parse(n.responseText),null,4),"green"),null!=e&&e(null,JSON.parse(n.responseText),null))},n.open("GET",t,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({}))}};e.exports=c,cc._RFpop()},{ApiClient:"ApiClient",CardUtility:"CardUtility",GameTriggers:"GameTriggers",GameUserInventory:"GameUserInventory",InventoryApi:"InventoryApi",PlayPhApi:"PlayPhApi",TransactionManager:"TransactionManager"}],PlayPhGameJackpot:[function(t,e,n){"use strict";cc._RFpush(e,"ffea2He7Z1A7I45nQcXe6T/","PlayPhGameJackpot"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhGameJackpot=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("value")&&(i.value=t.convertToType(n.value,"Number"))),i},e.prototype.id=void 0,e.prototype.value=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhGameUserInventory:[function(t,e,n){"use strict";cc._RFpush(e,"5ee3f5nb7dDJavY1V7Bvbrg","PlayPhGameUserInventory"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhGameUserInventory=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("client_id")&&(i.client_id=t.convertToType(n.client_id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"String")),n.hasOwnProperty("type")&&(i.type=t.convertToType(n.type,"Number"))),i},e.prototype.id=void 0,e.prototype.client_id=void 0,e.prototype.user_id=void 0,e.prototype.type=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhGameUser:[function(t,e,n){"use strict";cc._RFpush(e,"02b65HRuAlJM7MZwiqC4BAf","PlayPhGameUser"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhGameUser=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("name")&&(i.name=t.convertToType(n.name,"String")),n.hasOwnProperty("portrait_url")&&(i.portrait_url=t.convertToType(n.portrait_url,"String")),n.hasOwnProperty("game_tutorial_data")&&(i.game_tutorial_data=t.convertToType(n.game_tutorial_data,"String"))),i},e.prototype.id=void 0,e.prototype.name=void 0,e.prototype.portrait_url=void 0,e.prototype.game_tutorial_data=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhGetUserSimulationResponse:[function(t,e,n){"use strict";cc._RFpush(e,"d3100QdAjNAl7GSVCp4FCBw","PlayPhGetUserSimulationResponse"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhGetUserSimulationResponse=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"String")),n.hasOwnProperty("mode")&&(i.mode=t.convertToType(n.mode,"String")),n.hasOwnProperty("round")&&(i.round=t.convertToType(n.round,"Number")),n.hasOwnProperty("identifier")&&(i.identifier=t.convertToType(n.identifier,"String"))),i},e.prototype.id=void 0,e.prototype.user_id=void 0,e.prototype.mode=void 0,e.prototype.round=void 0,e.prototype.identifier=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhPutSimulationResponse:[function(t,e,n){"use strict";cc._RFpush(e,"8bf2dmNv0JHm4G9xUbkEn3Q","PlayPhPutSimulationResponse"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhPutSimulationResponse=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"String")),n.hasOwnProperty("mode")&&(i.mode=t.convertToType(n.mode,"String")),n.hasOwnProperty("jackpot")&&(i.jackpot=t.convertToType(n.jackpot,"Number")),n.hasOwnProperty("processed")&&(i.processed=t.convertToType(n.processed,"Boolean")),n.hasOwnProperty("target_slot_index")&&(i.target_slot_index=t.convertToType(n.target_slot_index,"Number")),n.hasOwnProperty("options")&&(i.options=t.convertToType(n.options,"Number")),n.hasOwnProperty("new_transaction_id")&&(i.new_transaction_id=t.convertToType(n.new_transaction_id,"String")),n.hasOwnProperty("wheel_arrangement")&&(i.wheel_arrangement=t.convertToType(n.wheel_arrangement,["String"])),n.hasOwnProperty("round")&&(i.round=t.convertToType(n.round,"Number")),n.hasOwnProperty("identifier")&&(i.identifier=t.convertToType(n.identifier,"String"))),i},e.prototype.id=void 0,e.prototype.user_id=void 0,e.prototype.mode=void 0,e.prototype.jackpot=void 0,e.prototype.processed=void 0,e.prototype.target_slot_index=void 0,e.prototype.options=void 0,e.prototype.new_transaction_id=void 0,e.prototype.wheel_arrangement=void 0,e.prototype.round=void 0,e.prototype.identifier=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlayPhSimulationsPutParam:[function(t,e,n){"use strict";cc._RFpush(e,"cc857cSCmlIMp8CHeA+NdP4","PlayPhSimulationsPutParam"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/PlayPhCardUsed"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("./PlayPhCardUsed")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhSimulationsPutParam=i(n.PlayPhoneApi.ApiClient,n.PlayPhoneApi.PlayPhCardUsed))}(this,function(t,e){var n=function(){};return n.constructFromObject=function(i,a){return i&&(a=a||new n,i.hasOwnProperty("id")&&(a.id=t.convertToType(i.id,"String")),i.hasOwnProperty("wheel_arrangement")&&(a.wheel_arrangement=t.convertToType(i.wheel_arrangement,["String"])),i.hasOwnProperty("cards_used")&&(a.cards_used=t.convertToType(i.cards_used,[e]))),a},n.prototype.id=void 0,n.prototype.wheel_arrangement=void 0,n.prototype.cards_used=void 0,n}),cc._RFpop()},{"../ApiClient":"ApiClient","./PlayPhCardUsed":"PlayPhCardUsed"}],PlayPhSimulation:[function(t,e,n){"use strict";cc._RFpush(e,"c58feJOktlEBJyjeDeqB/OD","PlayPhSimulation"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient")):(n.PlayPhoneApi||(n.PlayPhoneApi={}),n.PlayPhoneApi.PlayPhSimulation=i(n.PlayPhoneApi.ApiClient))}(this,function(t){var e=function(){};return e.constructFromObject=function(n,i){return n&&(i=i||new e,n.hasOwnProperty("id")&&(i.id=t.convertToType(n.id,"String")),n.hasOwnProperty("user_id")&&(i.user_id=t.convertToType(n.user_id,"String")),n.hasOwnProperty("mode")&&(i.mode=t.convertToType(n.mode,"String")),n.hasOwnProperty("jackpot")&&(i.jackpot=t.convertToType(n.jackpot,"Number")),n.hasOwnProperty("round")&&(i.round=t.convertToType(n.round,"Number")),n.hasOwnProperty("processed")&&(i.processed=t.convertToType(n.processed,"Boolean")),n.hasOwnProperty("wheel_arrangement")&&(i.wheel_arrangement=t.convertToType(n.wheel_arrangement,["String"])),n.hasOwnProperty("identifier")&&(i.identifier=t.convertToType(n.identifier,"String"))),i},e.prototype.id=void 0,e.prototype.user_id=void 0,e.prototype.mode=void 0,e.prototype.jackpot=void 0,e.prototype.round=void 0,e.prototype.processed=void 0,e.prototype.wheel_arrangement=void 0,e.prototype.identifier=void 0,e}),cc._RFpop()},{"../ApiClient":"ApiClient"}],PlaySounder:[function(t,e,n){"use strict";cc._RFpush(e,"db9d0McLAtIe6HTZgj/1mL+","PlaySounder");var i=t("AudioSourceManager");cc.Class({"extends":i,properties:{m_Audio:{"default":null,url:cc.AudioClip,tooltip:"Audio list"},m_AudioNameTest:"",m_AudioNameTest2:""},onLoad:function(){this.setupSounds()},onClickPreload:function(){cc.audioEngine.preload(this.m_Audio,this.OnPreload.bind(this))},OnPreload:function(){cc.log("yoooo")},onClick:function(){cc.audioEngine.playEffect(this.m_Audio,!1),cc.log(cc.audioEngine)},onClickPlayBGM:function(){this.playAudioSource(this.m_AudioNameTest,!0)},onClickPlayBGMFade:function(){this.setVolumeFadeAudioSource(this.m_AudioNameTest,1)},onClickStopBGM:function(){this.stopAudioSource(this.m_AudioNameTest)},onClickStopBGMFade:function(){this.setVolumeFadeAudioSource(this.m_AudioNameTest,0)},onClickVolumeOneBGM:function(){this.setVolumeAudioSource(this.m_AudioNameTest,1)},onClickVolumeZeroBGM:function(){this.setVolumeAudioSource(this.m_AudioNameTest,.5)},onClickPlayBGM2:function(){this.playAudioSource(this.m_AudioNameTest2,!0)},onClickStopBGM2:function(){this.stopAudioSource(this.m_AudioNameTest2)},onClickVolumeOneBGM2:function(){this.setVolumeAudioSource(this.m_AudioNameTest2,1)},onClickVolumeZeroBGM2:function(){this.setVolumeAudioSource(this.m_AudioNameTest2,.2)}}),cc._RFpop()},{AudioSourceManager:"AudioSourceManager"}],PrefabClone:[function(t,e,n){"use strict";cc._RFpush(e,"e6c8dpwEh9AyL1MyxvRCiXR","PrefabClone");t("TransactionManager"),cc.Class({"extends":cc.Component,properties:{m_pPrefab:{"default":null,type:cc.Prefab},m_pPrefabs:{"default":[],type:cc.Prefab}},editor:!1,onLoad:function(){var t=this.m_pPrefab;if(null!=t){var e=cc.instantiate(t);e.parent=this.node.parent}if(null!=this.m_pPrefabs)for(var n=0;n<this.m_pPrefabs.length;n++)if(null!=this.m_pPrefabs[n]){var e=cc.instantiate(this.m_pPrefabs[n]);e.parent=this.node.parent,e.position=cc.p(0,0)}this.node.destroy()}});cc._RFpop()},{TransactionManager:"TransactionManager"}],PrefabInstantiator:[function(t,e,n){"use strict";cc._RFpush(e,"2af008yoWpDr5KC7ym35uve","PrefabInstantiator");var i=t("CachedResource"),a=!1,o={InstantiatorList:null,Instantiate:function(t,e,n,i){if(a){var o={sPrefabName:t,pOnInstantiate:i,bInstantiate:e,pExtraData:n};null==this.InstantiatorList&&(this.InstantiatorList=new Array),this.InstantiatorList.push(o),this._instantiateNext()}else this._instantiate(t,e,n,i)},_onInstantiate:function(){this.CurrentInstantiator=null,this._instantiateNext()},_instantiateNext:function(){if(null==this.CurrentInstantiator&&this.InstantiatorList.length>0){var t=this.InstantiatorList[0];this.InstantiatorList.splice(0,1),this._instantiateQueued(t)}},_instantiateQueued:function(t){this.CurrentInstantiator=t;var e=this;cc.loader.loadRes;i.loadRes(t.sPrefabName,function(n,i){if(null!=n&&cc.log("%c prefab loadRes error: "+n,"color:red;"),null!==i)if(t.bInstantiate){var a=cc.instantiate(i);null!==a?null!==t.pOnInstantiate&&t.pOnInstantiate(a,t.pExtraData):cc.log("%c prefab not instantiated, ont sure why...","color:red;")}else null!==t.pOnInstantiate&&t.pOnInstantiate(i,t.pExtraData);else cc.log("%c prefab not found: "+t.sPrefabName,"color:red;"),null!==t.pOnInstantiate&&t.pOnInstantiate(null,t.pExtraData);e._onInstantiate()}.bind(this))},_instantiate:function(t,e,n,a){cc.loader.loadRes;i.loadRes(t,function(i,o){if(null!=i&&(cc.log("%c prefab loadRes error: "+i,"color:red;"),cc.log(o)),null!==o)if(e){var r=cc.instantiate(o);null!==r?(r.active=!0,null!==a&&a(r,n)):cc.log("%c prefab not instantiated, ont sure why...","color:red;")}else null!==a&&a(o,n);else cc.log("%c prefab not found: "+t,"color:red;"),null!==a&&a(null,n)}.bind(this))}};e.exports=o,cc._RFpop()},{CachedResource:"CachedResource"}],PrintInfos:[function(t,e,n){"use strict";cc._RFpush(e,"c2d73N0/JZBlazM/9Aa/TlU","PrintInfos");var i=t("PlatformUtil");cc.Class({"extends":cc.Component,properties:{Text:cc.Label},onLoad:function(){this.dump()},dump:function(){this.Text.string="\n"+(new Date).toString()+"\n-------- PlatformUtil\nisFullscreen: "+i.isFullscreen()+"\n-------- cc.sys\nisMobile : "+cc.sys.isMobile+"\nlanguage : "+cc.sys.language+"\nbrowserType : "+cc.sys.browserType+"\nbrowserVersion : "+cc.sys.browserVersion+"\ncapabilities.canvas: "+cc.sys.capabilities.canvas+"\ncapabilities.opengl: "+cc.sys.capabilities.opengl+"\ncapabilities.mouse: "+cc.sys.capabilities.mouse+"\ncapabilities.keyboard: "+cc.sys.capabilities.keyboard+"\ncapabilities.accelerometer: "+cc.sys.capabilities.accelerometer+"\nos : "+cc.sys.os+"\nosVersion : "+cc.sys.osVersion+"\nplatform : "+cc.sys.platform+"\n-------- navigator\n navigator.userAgent: "+navigator.userAgent}}),cc._RFpop()},{PlatformUtil:"PlatformUtil"}],Profiller:[function(t,e,n){"use strict";cc._RFpush(e,"497aeM+dIJF+o0Wy/BQ5aiC","Profiller");var i={};t("okt"),i.m_sCurrent=null,i.BeginSample=function(t){i.EndSample(),null!=t&&""!=t&&(i.m_sCurrent=t)},i.EndSample=function(){null!=i.m_sCurrent,i.m_sCurrent=null},OKT_DEBUG||(i.BeginSample=function(){},i.EndSample=function(){}),e.exports=i,cc._RFpop()},{okt:"okt"}],RealTimeRotation:[function(t,e,n){"use strict";cc._RFpush(e,"7f521bOFlNMBZuJUjFFtVeP","RealTimeRotation");t("Profiller"),cc.Class({"extends":cc.Component,properties:{m_vSpeeds:[],m_fTransitionDuration:0,m_iSpeedIndex:0,m_iSpeedPrevious:0,m_fCurrentSpeed:0,m_fTransitionTimer:null},editor:!1,update:function(t){this.Update(t)},getRotation:function(){return null!=this.node?this.node.getRotation():0},setRotation:function(t){if(null!=this.node)return this.node.setRotation(t)},Update:function(t){var e=this.GetSpeed();if(null!=this.m_fTransitionTimer){var n=this.GetCurrentDuration(),i=this.m_vSpeeds[this.m_iSpeedPrevious],a=this.m_fTransitionTimer/n,o=cc.lerp(i,e,a);this.m_fTransitionTimer=this.m_fTransitionTimer+t,a=this.m_fTransitionTimer/n;var r=cc.lerp(i,e,a);e=.5*(o+r),a>=1&&(this.m_fTransitionTimer=null,delete this.m_fCurrentDuration)}this.Rotate(e*t)},Rotate:function(t){var e=this.getRotation()+t;e>360?e-=360:e<0&&(e+=360),this.setRotation(e)},GetSpeed:function(){var t=0;return this.m_iSpeedIndex<0||this.m_iSpeedIndex>=this.m_vSpeeds.length||(t=this.m_vSpeeds[this.m_iSpeedIndex]),t},GetCurrentSpeed:function(){var t=this.GetSpeed();if(null!=this.m_fTransitionTimer){var e=this.m_fTransitionTimer/this.GetCurrentDuration();t=cc.lerp(this.m_vSpeeds[this.m_iSpeedPrevious],t,e)}return t},SetSpeedIndex:function(t){this.m_fTransitionTimer=0,this.m_iSpeedPrevious=this.m_iSpeedIndex,this.m_iSpeedIndex=t},GetCurrentDuration:function(){return null!=this.m_fCurrentDuration?this.m_fCurrentDuration:this.m_fTransitionDuration},CalcStopAtRotation:function(t,e){var n,i=0,a=0,o=this.getRotation(),r=t,s=this.GetSpeed(),l=this.m_vSpeeds[i];null==e&&(e=0);for(var n=o-r;n>360;)n-=360;for(;n<0;)n+=360;var c=s-l;return okt.log("fDeltaSpeed",c),s>0?n-=360*e:n+=360*e,a=2*n/c,a=Math.abs(a)},StopAtRotation:function(t,e){var n=0,i=this.CalcStopAtRotation(t,e);this.m_fCurrentDuration=i,this.SetSpeedIndex(n)},StopAtRotationMinDuration:function(t,e){var n=0,i=-1,a=0;(null==e||e<0)&&(e=0);do i++,a=this.CalcStopAtRotation(t,i);while(a<e);this.m_fCurrentDuration=a,this.SetSpeedIndex(n)}});cc._RFpop()},{Profiller:"Profiller"}],RotateComp:[function(t,e,n){"use strict";cc._RFpush(e,"988287v745Cp4ssSzsLDg1H","RotateComp"),cc.Class({"extends":cc.Component,editor:!1,properties:{Root:{"default":null,type:cc.Node},RotationValue:{"default":1,type:cc.Float}},onLoad:function(){null==this.Root&&(this.Root=this.node)},update:function(t){this.Root.rotation+=this.RotationValue}}),cc._RFpop()},{}],RouletteEffects:[function(t,e,n){"use strict";cc._RFpush(e,"c268dEeKFVBbptAkVHVkylL","RouletteEffects");var i=t("ShakeComp"),a=t("GameTriggers"),o=a.GAME_EVENTS;cc.Class({"extends":i,properties:{},onLoad:function(){a.AddEvent(o.OnBallCollide,this.OnBallCollide.bind(this)),a.AddEvent(o.OnArrowCollide,this.OnArrowCollide.bind(this)),a.AddEvent(o.OnActiveComponent,this.OnActiveComponent.bind(this))},onDestroy:function(){a.RemoveEventOwner(this)},OnActiveComponent:function(t){this.shake(.2,1,2,this.node)},OnBallCollide:function(t){},OnArrowCollide:function(t){}}),cc._RFpop()},{GameTriggers:"GameTriggers",ShakeComp:"ShakeComp"}],Roulette:[function(t,e,n){"use strict";cc._RFpush(e,"ec56aDcEMNImYoffnPcQIIC","Roulette");var i=t("RealTimeRotation"),a=t("CardUtility"),o=t("CardDefs");cc.Class({"extends":i,properties:{m_vSlots:[]},editor:!1,GetSlot:function(t){return this.m_vSlots[t]},GetSlotCount:function(){return this.m_vSlots.length},SetSlotType:function(t,e,n){var i=this.GetSlot(t);null!=i&&(i.m_iType=e,i.m_pData=n)},RemoveSlotType:function(t){this.SetSlotType(t,null)},GetSlotAngle:function(t){return this.GetSlotAngularDistance()*t},GetSlotAngularDistance:function(){var t=360/this.GetSlotCount();return t},GetFreeSlotAmount:function(){for(var t=this.m_vSlots,e=0,n="",i=0;i<t.length;i++)n+="["+t[i].m_iType+"]",this.IsSlotFree(i)&&e++;return e},IsSlotFree:function(t){var e=this.m_vSlots;return null==e[t]||null==e[t].m_iType||0==e[t].m_iType},GetSlotsJson:function(t){var e=[];null==t&&(t=0);for(var n=this.m_vSlots,i=0;i<n.length;i++){var a=(i+t)%n.length,o=n[a],r=0;null!=o&&null!=o.m_iType&&(r=o.m_iType),e.push(r)}return e},GetSlotsDataList:function(t){var e=[];null==t&&(t=0);for(var n=this.m_vSlots,i=0;i<n.length;i++){var a=(i+t)%n.length,o=n[a],r=null;null!=o&&null!=o.m_iType&&(r=o.m_pData),e.push(r)}return e},GetBlockedSlots:function(){for(var t=this.m_vSlots,e=[],n=0;n<t.length;n++){var i=t[n].m_iType;if(null!=i&&0!=i){var r=!1,s=a.parseCardId(i);s.effect==o.effect.Block&&(r=!0),r&&e.push(n)}}return 0==e.length&&(e=[-1]),e},DebugMarkSlot:function(t){var e=this.GetSlot(t);if(this.m_pDebugLastestSlot!=e){if(null!=this.m_pDebugLastestSlot&&(this.m_pDebugLastestSlot.stopAllActions(),this.m_pDebugLastestSlot.setScale(this.m_pDebugLastestSlot._debug_m_fOriginalScaleX,this.m_pDebugLastestSlot._debug_m_fOriginalScaleY),delete this.m_pDebugLastestSlot._debug_m_fOriginalScaleX,delete this.m_pDebugLastestSlot._debug_m_fOriginalScaleY),null!=e){var n=e.getScaleX(),i=e.getScaleY();e._debug_m_fOriginalScaleX=n,e._debug_m_fOriginalScaleY=i;var a=1.2,o=cc.repeatForever(cc.sequence(cc.scaleTo(.2,n*a,i*a),cc.scaleTo(.2,n,i)));e.runAction(o)}this.m_pDebugLastestSlot=e}},StartHighlightFreeSpaces:function(){},StopHighlightFreeSpaces:function(){},GetFreeSlots:function(){for(var t=new Array,e=this.m_vSlots,n=0;n<e.length;n++)this.IsSlotFree(n)&&t.push(e[n]);return t}});cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",RealTimeRotation:"RealTimeRotation"}],SFSChatController:[function(t,e,n){"use strict";cc._RFpush(e,"d64132YMhlJ6YJa3Dxg3NBM","SFSChatController");cc.Class({properties:{MessageTemplate:{"default":'<div id="message"><font size="3" color="#Color#"><b>#UserName#</b></font> says:<font size="1" color="grey">(#ServerDateTime#)</font> <font color="black"><br><span style="width:20px;display:inline-block"></span>#Message#</div>',serializable:!1}},Initialize:function(){SFSChat.SFSChatEvents.OnAdminMessageReceived=this.OnAdminMessageReceived,SFSChat.SFSChatEvents.OnModeratorMessageReceived=this.OnChatMessageReceived,SFSChat.SFSChatEvents.OnChatMessageReceived=this.OnChatMessageReceived,SFSChat.SFSChatEvents.OnGameMessageReceived=this.OnChatMessageReceived,SFSChat.SFSChatEvents.OnUserEnter=this.OnUserEnter,SFSChat.SFSChatEvents.OnUserLeft=this.OnUserLeft,SFSChat.ConnectorModel.Nickname="Guest_"+Math.floor(99999*Math.random()+1),SFSChat.Init()},SendRandomMessage:function(){SFSChat.SendPublicMessage("messs "+Math.floor(99999*Math.random()+1))},SendPublicMessage:function(t){SFSChat.SendPublicMessage(t)},OnAdminMessageReceived:function(t){},OnModeratorMessageReceived:function(t){},OnChatMessageReceived:function(t){SFSChatView.writeChatMessage(t.UserName,t.Message,t.ServerDate,t.ServerTime)},OnGameMessageReceived:function(t){},OnUserEnter:function(t){SFSChatView.writeMessage("> user "+t+" enter room :]")},OnUserLeft:function(t){SFSChatView.writeMessage("> user "+t+" left room.    :[")},trace:function(t,e){console.log(t),e&&alert(t)}});cc._RFpop()},{}],SFSChatView:[function(t,e,n){"use strict";cc._RFpush(e,"d27ceC65LJIRLknU1ZxucHx","SFSChatView");var i=null,a=null,o=(cc.Layer.extend({TextList:new Array,PlayerNameLayer:null,BtnConnect:null,BtnSendRandom:null,TxtFieldMessageInput:null,ctor:function(){this._super(),a=this;var t=cc.winSize;i=t;var e={x:t.width/2,y:t.height-50};this.PlayerNameLayer=new cc.LabelTTF("not connected","Arial",14),this.PlayerNameLayer.x=t.width/2,this.PlayerNameLayer.y=t.height-70,this.addChild(this.PlayerNameLayer,5);for(var n=0;n<15;n++)this.TextList[n]=new cc.LabelTTF(">>","Arial",14),this.TextList[n].x=t.width/2,this.TextList[n].y=t.height-50-20*(n+2),this.TextList[n].string=">>",this.addChild(this.TextList[n],5);this.TxtFieldMessageInput=new ccui.TextField,this.TxtFieldMessageInput.setTouchEnabled(!0),this.TxtFieldMessageInput.fontName="Arial",this.TxtFieldMessageInput.placeHolder="write the message here...",this.TxtFieldMessageInput.fontSize=30,this.TxtFieldMessageInput.x=t.width/2,this.TxtFieldMessageInput.y=30,this.TxtFieldMessageInput.addEventListener(o.onTextFieldEvent,this),this.addChild(this.TxtFieldMessageInput),this.BtnConnect=new cc.MenuItemImage(res.ConnectBtn_png,res.ConnectBtn_png,o.onClickConnect,this),this.BtnConnect.attr({x:e.x+80,y:e.y,anchorX:.5,anchorY:.5}),this.BtnSendRandom=new cc.MenuItemImage(res.SendRandomBtn_png,res.SendRandomBtn_png,o.onClickSendRandomMessage,this),this.BtnSendRandom.attr({x:e.x+120,y:e.y,anchorX:.5,anchorY:.5,visible:!1});var r=new cc.Menu(this.BtnConnect,this.BtnSendRandom);return r.x=0,r.y=0,this.addChild(r,1),!0},Add:function(t){this.addChild(t,5)},Listen:function(){trace("aaaaaaaaa"),this.node.on("say-hello",function(t){console.log(t.detail.msg)})}}),{onClickConnect:function(){SFSChatController.Initialize(),a.PlayerNameLayer.string="Connected: "+SFSChat.ConnectorModel.Nickname,a.BtnConnect.visible=!1,a.BtnSendRandom.visible=!0},onClickSendRandomMessage:function(){SFSChatController.SendPublicMessage(this.TxtFieldMessageInput.string),this.TxtFieldMessageInput.string=""},writeChatMessage:function(t,e,n,i){this.writeMessage(t+"said("+(n+i)+"): "+e)},writeMessage:function(t){for(var e=0;e<a.TextList.length-1;e++)a.TextList[e].string=a.TextList[parseInt(e+1)].string;a.TextList[a.TextList.length-1].string=t},onTextFieldEvent:function(t,e){switch(e){case ccui.TextField.EVENT_ATTACH_WITH_IME:cc.log("Activate");break;case ccui.TextField.EVENT_DETACH_WITH_IME:cc.log("Deactivate");break;case ccui.TextField.EVENT_INSERT_TEXT:cc.log("Insert character");break;case ccui.TextField.EVENT_DELETE_BACKWARD:cc.log("Delect character")}}});cc._RFpop()},{}],SFSChat:[function(t,e,n){"use strict";cc._RFpush(e,"4a6cedgEZBOjJHp/CiC+bAt","SFSChat");cc._RFpop()},{}],SceneSpriteLight:[function(t,e,n){"use strict";cc._RFpush(e,"0eef0Bi2X9LZYSjBAk3CiQo","SceneSpriteLight");var i=t("BaseInteraction");cc.Class({"extends":i,properties:{m_bWasEnabled:{"default":null,visible:0},m_pShadowLight:{tooltip:"the pShadowLight to fade out when light off","default":null,type:cc.Node}},editor:!1,SetColliderEnabled:function(t){this._super(t);var e=this.m_pShadowLight;null!=e&&t!=this.m_bWasEnabled&&(t?(e.stopAllActions(),e.setOpacity(255)):e.runAction(cc.fadeOut(.5))),this.m_bWasEnabled=t}});cc._RFpop()},{BaseInteraction:"BaseInteraction"}],ShakeComp:[function(t,e,n){"use strict";cc._RFpush(e,"06aebf4foZHWIqdFyTjvnxA","ShakeComp");var i=t("Mathf");cc.Class({"extends":cc.Component,properties:{_fDuration:0,_fSpeed:0,_fMagnitude:0,_fElapsed:0,_target:null,_fOrigPosition:null,_bRunning:!1},onLoad:function(){},shakeAuto:function(){this.shake(.2,6,4,this.node)},shake:function(t,e,n,i){this._bRunning&&this.OnFinish(),this._fDuration=t,this._fSpeed=e,this._fMagnitude=n,this._fElapsed=0,this._target=i,this._vOrigPosition=i.position,this._bRunning=!0},update:function(t){if(this._bRunning!==!1){var e=2e3*Math.random()+-1e3;if(this._target){this._fElapsed+=t;var n=this._fElapsed/this._fDuration,a=1-i.Clamp(2*n-1,0,1),o=e+this._fSpeed*n,r=2*this.noise(o,0)-1,s=2*this.noise(0,o)-1;r*=this._fMagnitude*a,s*=this._fMagnitude*a,this._target.position=cc.p(r,s),this._fElapsed>=this._fDuration&&this.OnFinish()}}},OnFinish:function(){this._fElapsed=0,this._target.position=this._vOrigPosition,this._bRunning=!1},findnoise:function(t,e){var n=parseInt(t)+57*parseInt(e);n=n<<13^n;var i=n*(n*n*60493+19990303)+1376312589&2147483647;return 1-i/1073741824},noise:function(t,e){var n,a,o,r,s=Math.floor(t),l=Math.floor(e);n=this.findnoise(s,l),a=this.findnoise(s+1,l),o=this.findnoise(s,l+1),r=this.findnoise(s+1,l+1);var c=i.Lerp(n,a,t-s),u=i.Lerp(o,r,t-s);return i.Lerp(c,u,e-l)}}),cc._RFpop()},{Mathf:"Mathf"}],SimulationApi:[function(t,e,n){"use strict";cc._RFpush(e,"fbafdkGDXhLJJouqdA3HS5d","SimulationApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameSimulation","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameSimulation"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.SimulationApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameSimulation,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.simulationsIdPut=function(t,i,a,o){var r=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'id' when calling simulationsIdPut");if(void 0==i||null==i)throw new n("Missing the required parameter 'wheelArrangement' when calling simulationsIdPut");if(void 0==a||null==a)throw new n("Missing the required parameter 'cardsUsed' when calling simulationsIdPut");var s={id:t},l={},c={},u={wheel_arrangement:i,cards_used:a},h=["api_key"],d=["application/x-www-form-urlencoded"],p=["application/json"],f=[e];return this.apiClient.callApi("/simulations/{id}","PUT",s,l,c,u,r,h,d,p,f,o)},this.simulationsPost=function(t,i,a,o){var r=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'transactionId' when calling simulationsPost");if(void 0==i||null==i)throw new n("Missing the required parameter 'wheelArrangement' when calling simulationsPost");if(void 0==a||null==a)throw new n("Missing the required parameter 'mode' when calling simulationsPost");var s={},l={},c={},u={transaction_id:t,wheel_arrangement:i,mode:a},h=["api_key"],d=["application/x-www-form-urlencoded"],p=["application/json"],f=[e];return this.apiClient.callApi("/simulations","POST",s,l,c,u,r,h,d,p,f,o)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameSimulation":"GameSimulation"}],SimulationInitializer:[function(t,e,n){"use strict";cc._RFpush(e,"6db6c6oQSZPnoJaWm/yRoYN","SimulationInitializer");var i=t("BallSimulationScene"),a=t("SpinnerScene"),o=cc.Enum({None:0,Spin:1,MiniJackpot:2,BigJackpot:3}),r=cc.Class({"extends":cc.Component,editor:!1,properties:{m_eDefaultStart:{tooltip:"For tests, include the game mode to start.","default":o.None,type:o},m_pCurrentGame:{"default":null,visible:0},m_pBallSimulationScene:i,m_pSpinnerScene:a},onLoad:function(){r.m_pInstance=this},start:function(){this.m_eDefaultStart==o.None||(this.m_eDefaultStart==o.BigJackpot?this.LoadBigJackpot():this.m_eDefaultStart==o.MiniJackpot?this.LoadMiniJackpot():this.m_eDefaultStart==o.Spin&&this.LoadSpin())},LoadBigJackpot:function(){var t=this.m_pCurrentGame,e=this.m_pBallSimulationScene;null!=t&&t.Deinit(),this.m_pCurrentGame=e,e.m_sGameMode="BigJackpot",e.Init()},LoadMiniJackpot:function(){var t=this.m_pCurrentGame,e=this.m_pBallSimulationScene;null!=t&&t.Deinit(),this.m_pCurrentGame=e,e.m_sGameMode="MiniJackpot",e.Init()},LoadSpin:function(){var t=this.m_pCurrentGame,e=this.m_pSpinnerScene;null!=t&&t.Deinit(),this.m_pCurrentGame=e,e.Init()}});r.m_pInstance,e.exports=r,cc._RFpop()},{BallSimulationScene:"BallSimulationScene",SpinnerScene:"SpinnerScene"}],SimulationOptions:[function(t,e,n){"use strict";cc._RFpush(e,"9a44feLtD1H1qLUNtnl0Qaf","SimulationOptions"),e.exports.Flags={None:0,DROP_CARD:2,PULL_JACKPOT:4,PULL_SIMULATION_REALTIME:8,RETRY:16,PULL_INVENTORY:32,ANIMATE_SYSTEMCARDS:64,SKIP_WIN_POPUP:128,CUSTOM_CARDCOLORS:256},cc._RFpop()},{}],SpinButtonEffect:[function(t,e,n){"use strict";cc._RFpush(e,"992b1KtlSRBI7KUdcSCRH3g","SpinButtonEffect");var i=t("CustomAction");cc.Class({"extends":cc.Component,properties:{},onEnable:function(){i.blinkCircle(this.node,1,.2,1.5)}}),cc._RFpop()},{CustomAction:"CustomAction"}],SpinnerScene:[function(t,e,n){"use strict";cc._RFpush(e,"cf4397tbolAcIqvUf4d/Lx8","SpinnerScene");var i={},a=t("JackpotSceneBase"),o=t("mJackpotUtils"),r=t("Mathf"),s=t("TransactionManager").instance,l=t("GameTriggers"),c=l.GAME_EVENTS,u=a.GAME_STATE,h=cc.Class({"extends":a,properties:{m_fAccelerateTime:{tooltip:"(seconds) The time until accelerates to m_fRotationSpeed","default":1,type:cc.Float},m_fRotationSpeed:{tooltip:"(degrees per sec) The Rotation Speed when accellerated","default":360,type:cc.Float,range:[0,3600]},m_fDelayDeceleration:{tooltip:"(seconds) After this amount of time, the roulette starts to stop","default":2,type:cc.Float,range:[0,10]},m_iRotateAmount:{tooltip:"how many rotations to do before actually stopping the roulette","default":2,type:cc.Integer,range:[2,20]},m_fArrowRotation:{tooltip:"(degrees) when arrow 'collide', will rotate until this amount","default":50,type:cc.Float},m_spriteRoulette:cc.Node,m_iState:{"default":null,visible:0}},editor:!1,start:function(){this.m_fArrowRotation=Math.abs(this.m_fArrowRotation),o.Init()},update:function(t){this.UpdateCheckCollision(t)},Init:function(){this._super(),h.m_pInstance=this,o.Init(),this.LoadStage(0),this.node.m_pSpinnerScene=this},LoadScene:function(t){this._super(t);var e=this.m_pRoulette;null!=e&&(e.m_vSpeeds[0]=0,e.m_vSpeeds[1]=this.m_fRotationSpeed,e.m_fTransitionDuration=this.m_fAccelerateTime),this.SetLightType("Default",1),this.SetGameState(u.WaitingPlay)},CreateSprite:function(t,e){var n=this._super(t,e);return"sprite_spin_arrow"==t.m_sType&&(this.m_spriteArrow=n),n},OnCreateRoulette:function(){this._super()},OnClickButton:function(t){this._super(t);var e=t.GetParam(0);if(null!=e){var n=e.node.name;"sprite_button_spin"==n&&this.OnTapScreen()}},OnTapScreen:function(){var t=this.GetGameState();t==u.WaitingPlay?(this.PrepareGame(),this.SetGameState(u.PlayStarted)):t==u.PlayFinished&&this.SetGameState(u.Completed)},PrepareGame:function(){var t=-1;s.isLoaded()?s.hasPullSimulation()?this.RequestResults():t=s.getCurrentSimulation().target_slot_index:t=0,t>=0&&this.StartSpinAndStopAt(t)},OnRequestResultsSuccess:function(t){this._super(t),this.StartSpinAndStopAt(t)},StartSpinAndStopAt:function(t){null!=t&&this.SetIndexToStop(t);var e=this.m_pRoulette;e.SetSpeedIndex(1),this.m_iState=1;var n=this.m_fAccelerateTime+this.m_fDelayDeceleration;this.SetLightType("Sequential",-.1,2),this.scheduleOnce(function(){this.StopAtIndex(this.GetIndexToStop())}.bind(this),n)},OnStopAtIndex:function(t){this.SetGameState(u.PlayFinished),this.SetLightType("Default",.5),console.log("OnStopAtIndex",t)},UpdateCheckCollision:function(t){var e=this.m_pRoulette;if(null!=e){var n=e.getRotation();n+=5;var i=e.GetSlotAngularDistance(),a=n%i,o=i-a,r=t*e.GetCurrentSpeed();o<r&&this.OnCollideArrow(this.m_spriteArrow)}},OnCollideArrow:function(t){l.TriggerEvent(c.OnArrowCollide,t);var e=this.m_pRoulette.GetCurrentSpeed(),n=Math.abs(e),i=n/300;if(n>0){t.stopAllActions();var a,o=.1,r=.2,s=.05,s=cc.lerp(r,o,i);a=e>0?-this.m_fArrowRotation:this.m_fArrowRotation;var u=t.getRotation(),h=cc.lerp(s,0,Math.abs(u)/Math.abs(a)),d=cc.sequence(cc.rotateTo(h,a,0),cc.rotateTo(s,0));t.runAction(d)}},StopAtIndex:function(t){null==t&&(t=0);var e=this.m_pRoulette;t>=e.GetSlotCount()&&(okt.log("Called StopAtIndex("+t+"), but index "+t+" does not exists! Will stop at index 0"),
t=0);var n=e.GetSlotAngle(t),i=e.GetSlotAngularDistance(),a=-90+.5*i,o=.5*i*.7,s=0;s=r.Range(-o,o),a+=s;var l=this.m_iRotateAmount;(null==l||l<0)&&(l=1),e.StopAtRotation(n+a,this.m_iRotateAmount);var c=e.GetCurrentDuration();this.scheduleOnce(function(){this.OnStopAtIndex(t)}.bind(this),c),this.scheduleOnce(this.OnAlmostStopping.bind(this),c-1),this.scheduleOnce(this.OnAlmostStopping5.bind(this),c-3.5)},OnAlmostStopping:function(){l.TriggerEvent(c.OnAlmostStoppingRoulette)},OnAlmostStopping5:function(){l.TriggerEvent(c.OnAlmostStoppingRoulette5)}});i=h,e.exports=i,cc._RFpop()},{GameTriggers:"GameTriggers",JackpotSceneBase:"JackpotSceneBase",Mathf:"Mathf",TransactionManager:"TransactionManager",mJackpotUtils:"mJackpotUtils"}],StartScript:[function(t,e,n){"use strict";cc._RFpush(e,"b8d1b31GU5DE7Iz3EzdMd55","StartScript");var i=t("Api"),a=t("FlagUtility"),o=t("SimulationOptions"),r=t("InventoryManager"),s=t("CardUtility");cc.Class({"extends":cc.Component,properties:{InventoryApi:null,TransactionApi:null},$_GET:function(t,e){e=e?e:window.location.search;var n=new RegExp("&amp;"+t+"=([^&amp;]*)","i");return e=(e=e.replace(/^\?/,"&amp;").match(n))?e[1]:""},onLoad:function(){cc.log("teste: "+this.$_GET("transaction_id")),this.InventoryApi=new i.InventoryApi,this.TransactionApi=new i.TransactionApi;var t=this.$_GET("transaction_id");if(""!=t){var e=this;this.TransactionApi.transactionsIdGet(t,function(t,n,i){if(i.statusCode>=200&&i.statusCode<=300){var r=n.simulations;if(cc.log(n),r.length>0){var l=r[0];cc.log("Open "+l.mode),a.hasFlags(o.Flags.PULL_INVENTORY,l.options)&&e.pullInventory(l.user_id),a.hasFlags(o.Flags.ANIMATE_SYSTEMCARDS,l.options)&&cc.log("Animate Cards");var c=s.parseCardIdList(l.wheel_arrangement);cc.log(c)}else cc.log("this transaction has no simulations")}else cc.log("Error->>> "+t+" data: "+n.message,!0)})}},pullInventory:function(t){this.InventoryApi.inventoryUserIdGet(t,function(t,e,n){n.statusCode>=200&&n.statusCode<=300?(cc.log(e),r.setCards(e),cc.log(r.getAllCards())):cc.log("Error->>> "+t+" data: "+e.message,!0)})}}),cc._RFpop()},{Api:"Api",CardUtility:"CardUtility",FlagUtility:"FlagUtility",InventoryManager:"InventoryManager",SimulationOptions:"SimulationOptions"}],StringUtil:[function(t,e,n){"use strict";cc._RFpush(e,"bbc4dBIrrlD2LI7KeKGcEb5","StringUtil");var i={intToMoney:function(t){return"$ "+parseInt(t).toFixed(2)},floatToMoney:function(t){return"$ "+parseFloat(t).toFixed(2)}};e.exports=i,cc._RFpop()},{}],TabGroup:[function(t,e,n){"use strict";cc._RFpush(e,"037a7RkfbNGY78oIMVpg09p","TabGroup");var i=0;cc.Class({"extends":cc.Component,properties:{TabList:{"default":[],type:cc.Node},StartIndex:{"default":0,type:cc.Integer},SelectedOrder:{"default":10,type:cc.Integer},IdleOrder:{"default":0,type:cc.Integer}},onLoad:function(){i=this.StartIndex,this.selectIndex(i)},selectIndex:function(t){i=t;for(var e=0;e<this.TabList.length;e++)this.node.removeChild(this.TabList[e]),e!==i&&this.node.addChild(this.TabList[e]);this.node.addChild(this.TabList[i])},onClickSelectIndex:function(t){for(var e=0;e<this.TabList.length;e++)if(this.TabList[e]===t.target)return void this.selectIndex(e)}}),cc._RFpop()},{}],TemporaryInitializer:[function(t,e,n){"use strict";cc._RFpush(e,"e1f33Kmsc5PZ7L00BXpvNLI","TemporaryInitializer");var i=t("CardsJsonData"),a=t("InventoryManager");cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var t=i.CardBuilder.buildInventoryCardList();a.setCards(t),a.setGameMode("MiniJackpot")}}),cc._RFpop()},{CardsJsonData:"CardsJsonData",InventoryManager:"InventoryManager"}],ToggleButton:[function(t,e,n){"use strict";cc._RFpush(e,"0bf2d6YKiFCEodop2H7b/hm","ToggleButton");t("Events");cc.Class({"extends":cc.Component,properties:{uiToggleNode:{"default":null,type:cc.Node},isOn:{"default":!1}},onLoad:function(){this.updateButton(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this)},onTouchBegan:function(t){this.setIsOn(!this.isOn)},onCmdDisable:function(t){this.setIsOn(!1)},CmdEnable:function(t){this.setIsOn(!0)},updateButton:function(){null!==this.uiToggleNode&&(this.uiToggleNode.active=!this.isOn)},IsOn:function(){return this.isOn},setIsOn:function(t){this.isOn=t,this.updateButton()}}),cc._RFpop()},{Events:"Events"}],ToggleGroup:[function(t,e,n){"use strict";cc._RFpush(e,"0e73eOMjjdNgL8Tm/HyVUll","ToggleGroup");var i=t("ToggleButton"),a=t("Events");cc.Class({"extends":cc.Component,properties:{toggleList:{"default":[],type:i}},onLoad:function(){for(var t=0;t<this.toggleList.length;t++)this.toggleList[t].node.on(a.TglEvtOnEnable,this.evtOnEnable,this),this.toggleList[t].node.on(a.TglEvtOndisable,this.evtOnDisable,this)},evtOnEnable:function(t){for(var e=t.target.getComponent("ToggleButton"),n=0;n<this.toggleList.length;n++)this.toggleList[n]!==e&&this.toggleList[n].setIsOn(!1)},evtOnDisable:function(t){}}),cc._RFpop()},{Events:"Events",ToggleButton:"ToggleButton"}],TournamentApi:[function(t,e,n){"use strict";cc._RFpush(e,"35cfaXnILBO9rK5L9bDRuvk","TournamentApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameTournament","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameTournament"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.TournamentApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameTournament,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.tournamentIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'id' when calling tournamentIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=e;return this.apiClient.callApi("/tournament/{id}","GET",o,r,s,l,a,c,u,h,d,i)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameTournament":"GameTournament"}],TournamentContent:[function(t,e,n){"use strict";cc._RFpush(e,"ca2fbVFyM1FAbw2ZrJyPzcH","TournamentContent"),cc.Class({"extends":cc.Component,properties:{m_lblContentPosition:cc.Label,m_lblContentName:cc.Label,m_lblContentPoints:cc.Label},setContent:function(t,e,n){this.m_lblContentPosition.string=t,this.m_lblContentName.string=e,this.m_lblContentPoints.string=n}}),cc._RFpop()},{}],TrailComponent:[function(t,e,n){"use strict";cc._RFpush(e,"62f433tvN1NF6zvASAxsswI","TrailComponent");var i=t("DisableOnSpin");cc.Class({"extends":i,properties:{_StartPosition:cc.Vec2},start:function(){this._super(),this._StartPosition=this.m_RootObj.position},setActive:function(t){this._super(t);var e=this.m_RootObj;if(e.active){e.position=cc.p(this._StartPosition.x+e.getContentSize().width,this._StartPosition.y);var n=cc.moveTo(.8,this._StartPosition);n.easing(cc.easeBackOut(1)),e.runAction(n)}}}),cc._RFpop()},{DisableOnSpin:"DisableOnSpin"}],TransactionApi:[function(t,e,n){"use strict";cc._RFpush(e,"2ddb3HlEHpD+LiO8InrCC75","TransactionApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/GameTransaction","model/Error"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/GameTransaction"),t("../model/Error")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.TransactionApi=i(n.JackpotApi.ApiClient,n.JackpotApi.GameTransaction,n.JackpotApi.Error))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.transactionsGet=function(t){var n=null,i={},a={},o={},r={},s=[],l=[],c=["application/json"],u=[e];return this.apiClient.callApi("/transactions","GET",i,a,o,r,n,s,l,c,u,t)},this.transactionsIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'id' when calling transactionsIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=e;return this.apiClient.callApi("/transactions/{id}","GET",o,r,s,l,a,c,u,h,d,i)},this.transactionsIdPut=function(t,e,i){var a=null;if(void 0==t||null==t)throw new n("Missing the required parameter 'id' when calling transactionsIdPut");if(void 0==e||null==e)throw new n("Missing the required parameter 'jsonData' when calling transactionsIdPut");var o={id:t},r={},s={},l={json_data:e},c=[],u=["application/x-www-form-urlencoded"],h=["application/json"],d=null;return this.apiClient.callApi("/transactions/{id}","PUT",o,r,s,l,a,c,u,h,d,i)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameTransaction":"GameTransaction"}],TransactionManager:[function(t,e,n){"use strict";cc._RFpush(e,"13ce7svp0pCxqG5DgvKYpVc","TransactionManager");var i=t("FlagUtility"),a=t("SimulationOptions"),o={usesFadeOut:!0,transactionData:null,currentSimulationIdx:0,fakeInventory:!1,clientAPI:null,userId:null,setTransaction:function(t){this.currentSimulationIdx=0,this.transactionData=t;var e=this.getParameterByName("idx"),n=this.getParameterByName("usesFadeOut"),i=this.getParameterByName("fakeInventory"),a=this.getParameterByName("clearCache"),o=this.getParameterByName("id");cc.log("====> sIDx["+e+"] sUsesFadeOut["+n+"] sFakeCards["+i+"] sUserId["+o+"]"),"false"==n&&(TransactionManager.instance.usesFadeOut=!1),null!=e&&(this.currentSimulationIdx=parseInt(e)),"true"==i&&(this.fakeInventory=!0),"true"==a&&cc.sys.localStorage.clear(),null!=o&&(this.userId=o)},dumpIds:function(){for(var t=this.getSimulations(),e="",n=0;n<t.length;n++)e+="["+t[n].id+"] ";cc.log("++++++++++++ ids: "+e)},mergeTransaction:function(t){for(var e=this.getSimulations(),n=0;n<t.length;n++){for(var i=-1,a=0;a<e.length;a++)if(e[a].id==t[n].id){i=a;break}i>=0?this.getSimulations()[i]=t[n]:this.getSimulations().push(t[n])}},getTransaction:function(){return this.transactionData},getUserId:function(){return null!=this.transactionData&&null!=this.transactionData.user_id?this.transactionData.user_id:this.userId},getId:function(){return this.transactionData.id},getSimulations:function(){return null==this.transactionData?null:this.transactionData.simulations},getTransactionMode:function(){return this.getTransaction().mode},getTransactionFinishCommand:function(){var t=this.getTransaction().return_url;return(null==t||t.length<3)&&(t="uniwebview://close"),t},hasSimulations:function(){return this.getSimulations().length>0},hasNextSimulation:function(){return this.currentSimulationIdx<this.getSimulations().length},willHaveNextSimulation:function(){return this.currentSimulationIdx+1<this.getSimulations().length},setNextSimulation:function(){this.currentSimulationIdx++},isLoaded:function(){return null!=this.transactionData},getCurrentSimulationIdx:function(){return this.currentSimulationIdx},getCurrentSimulation:function(){return null==this.getSimulations()?null:this.getSimulations()[this.currentSimulationIdx]},getGameMode:function(){return null==this.getCurrentSimulation()?"":this.getCurrentSimulation().mode},getCurrentSlotSize:function(){return this.getCurrentSimulation().wheel_arrangement.length},getCurentRound:function(){return this.getCurrentSimulation().round},getCurrentJackpotValue:function(){return parseFloat(this.getCurrentSimulation().jackpot)/100},getWinSlotId:function(){return null==this.getCurrentSimulation()||null==this.getCurrentSimulation().wheel_arrangement?null:this.getCurrentSimulation().wheel_arrangement[this.getCurrentSimulation().target_slot_index]},getWinSlotIndex:function(){return null==this.getCurrentSimulation()?null:this.getCurrentSimulation().target_slot_index},isMiniSpin:function(){return"MiniSpin"==this.getGameMode()},isBigJackpot:function(){return"BigJackpot"==this.getGameMode()},isMiniJackpot:function(){return"MiniJackpot"==this.getGameMode()},hasFlagSimulation:function(t){return i.hasFlags(t,this.getCurrentSimulation().options)},hasDropCard:function(){return this.hasFlagSimulation(a.Flags.DROP_CARD)},hasJackpot:function(){return this.hasFlagSimulation(a.Flags.PULL_JACKPOT)},hasPullSimulation:function(){return this.hasFlagSimulation(a.Flags.PULL_SIMULATION_REALTIME)},hasRetry:function(){return this.hasFlagSimulation(a.Flags.RETRY)},hasPullInventory:function(){return this.hasFlagSimulation(a.Flags.PULL_INVENTORY)},hasAnimateSystemCards:function(){return this.hasFlagSimulation(a.Flags.ANIMATE_SYSTEMCARDS)},hasSkipWinPopup:function(){return this.hasFlagSimulation(a.Flags.SKIP_WIN_POPUP)},hasCustomCardColors:function(){return this.hasFlagSimulation(a.Flags.CUSTOM_CARDCOLORS)},getTournament:function(){return this.getTransaction().tournament},getTournamentUsers:function(){return this.getTransaction().tournament.users},getTournamentId:function(){return this.getTransaction().tournament.id},getTournamentWinnerId:function(){return this.getTransaction().tournament.winner_id},getTournamentWinner:function(){return this.getTournamentUsers()[this.getTournamentWinnerId()]},getTournamentName:function(){return this.getTransaction().tournament.name},getTournamentGameId:function(){return this.getTransaction().tournament.game_id},hasTournamentData:function(){return null!=this.getTournament()},setClientApi:function(t){this.clientAPI=t},getClientApi:function(){return this.clientAPI},dumpTransaction:function(){var t=" ",e=""+t+"-------------- request summary"+t+"-- DropCards["+this.hasDropCard()+"]"+t+"-- Jackpot["+this.hasJackpot()+"]"+t+"-- PullSimulation["+this.hasPullSimulation()+"]"+t+"-- Retry["+this.hasRetry()+"]"+t+"-- Inventory["+this.hasPullInventory()+"]"+t+"-- AnimateCards["+this.hasAnimateSystemCards()+"]"+t+"-- Current Simulation["+this.getCurrentSimulation()+"]"+t+"-------------- finish";cc.log(e)},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}};e.exports.instance=o,cc._RFpop()},{FlagUtility:"FlagUtility",SimulationOptions:"SimulationOptions"}],UIBaseAnimated:[function(t,e,n){"use strict";cc._RFpush(e,"525d4kIMphIrqth8HR72RGL","UIBaseAnimated");var i=t("UIBase");cc.Class({"extends":i,onLoad:function(){this._super()},ShowAnimation:function(){this.node.setPosition(new cc.p(0,(-cc.winSize.height)));var t=cc.moveTo(.6,cc.p(0,0));t.easing(cc.easeBackOut(1)),this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.OnShow()}.bind(this))))},CloseAnimation:function(){var t=cc.moveTo(.6,cc.p(0,-cc.winSize.height));t.easing(cc.easeBackIn(1)),this.node.runAction(t),this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.OnClose()}.bind(this))))}}),cc._RFpop()},{UIBase:"UIBase"}],UIBase:[function(t,e,n){"use strict";cc._RFpush(e,"83b68D+FvNLfqcgVUlRnery","UIBase");var i=t("UITriggers"),a=i.UI_EVENTS,o=t("UIManager");cc.Class({"extends":cc.Component,properties:{m_bShown:{"default":!1,serializable:!1},m_pOnShowContext:null,m_sOnShowMethod:null,m_pOnCloseContext:null,m_sOnCloseMethod:null,m_bAutoTriggerSound:!0},onLoad:function(){o.instance.registerUI(this)},isVisible:function(){return this.m_bShown},setShowCallback:function(t,e){this.m_pOnShowContext=t,this.m_sOnShowMethod=e},setCloseCallback:function(t,e){this.m_pOnCloseContext=t,this.m_sOnCloseMethod=e},Show:function(t,e){this.setShowCallback(t,e),this.m_bShown=!0,this.node.active=!0,this.ShowAnimation(),i.TriggerEvent(a.UIBase_Show,this)},Close:function(t,e){this.setShowCallback(t,e),this.m_bShown=!1,this.CloseAnimation(),i.TriggerEvent(a.UIBase_Close,this)},OnClickClose:function(){this.Close(null,null)},Hide:function(){this.node.active=!1,this.m_bShown=!1},Toggle:function(){this.m_bShown?this.Close():this.Show()},ShowAnimation:function(){this.OnShow()},OnShow:function(){null!=this.m_pOnShowContext&&null!=this.m_sOnShowMethod&&this.m_pOnShowContext[this.m_sOnShowMethod](this),this.m_pOnShowContext=null,this.m_sOnShowMethod=null,i.TriggerEvent(a.UIBase_OnShow,this)},CloseAnimation:function(){this.OnClose()},OnClose:function(){this.Hide(),null!=this.m_pOnCloseContext&&null!=this.m_sOnCloseMethod&&this.m_pOnCloseContext[this.m_sOnCloseMethod](this),this.m_pOnCloseContext=null,this.m_sOnCloseMethod=null,i.TriggerEvent(a.UIBase_OnClose,this)}}),cc._RFpop()},{UIManager:"UIManager",UITriggers:"UITriggers"}],UICardInfo:[function(t,e,n){"use strict";cc._RFpush(e,"f61c9D81UdLYpE736JTUB98","UICardInfo");var i=t("UIPopup"),a=t("Lokaki");cc.Class({"extends":i,properties:{cardPosition:new cc.Vec2(0,0),lblTitle:cc.Label,lblBody:cc.Label,m_pLastCardNode:{"default":null,serializable:!1}},showInfo:function(t){this.ClearCached(),this.lblTitle.string=a.GetText(t.getCardName()),this.lblBody.string=t.getCardDescription();var e=cc.instantiate(t.node);this.node.addChild(e),e.setPosition(this.cardPosition),this.m_pLastCardNode=e,this.Show()},Close:function(){this._super(),this.ClearCached()},ClearCached:function(){null!==this.m_pLastCardNode&&this.m_pLastCardNode.removeFromParent(),this.m_pLastCardNode=null}}),cc._RFpop()},{Lokaki:"Lokaki",UIPopup:"UIPopup"}],UICardResults:[function(t,e,n){"use strict";cc._RFpush(e,"616fcjlnyNEg7NvQ8ZnMa6G","UICardResults");var i=(t("UIBase"),t("Lokaki")),a=t("TransactionManager"),o=t("GameTriggers"),r=o.GAME_EVENTS,s=t("CardsFactory"),l=t("CardUtility"),c=t("CardDefs"),u=t("StringUtil"),h=t("UIPrize"),d=t("UIFinish");t("SimulationInitializer");cc.Class({"extends":d,properties:{m_PrizeRoot:cc.Node,m_RibonRoot:cc.Node,m_CardRoot:cc.Node,m_CardRoot1:cc.Node,m_CardRoot2:cc.Node,m_CashPrizeRoot:cc.Node,m_LblTitle1:cc.Label,m_LblTitle2:cc.Label,m_LblRibbonDescription:cc.Label,m_LblCardDescription:cc.Label,m_LblJackpotPrize:cc.Label,m_LblButtonContinue:cc.Label,m_LblCashPrize:cc.Label,m_UIPrize:h,m_AnimCardRevealWild:cc.Animation,_onContinueAction:null},start:function(){},Show:function(t,e){this._super(t,e),this.resetRoots(),this.buildUI()},onClickContinue:function(){null!=this._onContinueAction?(this._onContinueAction(),this._onContinueAction=null):null!=this._OnClickContinue&&this._OnClickContinue()},resetRoots:function(){this._onContinueAction=null,this.m_PrizeRoot.active=!1,this.m_RibonRoot.active=!1,this.m_CardRoot.active=!1,this.m_CardRoot1.active=!1,this.m_CardRoot2.active=!1,this.m_CashPrizeRoot.active=!1,this.m_LblCardDescription.node.active=!1,this.m_LblTitle1.node.active=!1},buildUI:function(){var t=a.instance.getTransactionMode(),e=a.instance.getGameMode(),n=this.getCurrentCardData();if(cc.log("card to win:"),cc.log(n),n.effect==c.effect.MoneySpin)this.buildEarnCard();else if("MiniSpin"==t){var i=n.effect==c.effect.Wild1||n.effect==c.effect.Wild2||n.effect==c.effect.Wild3;i?this.errorLog("Win WILD Card is nor prepared!"):this.buildEarnCard()}else if("MiniJackpot"==t){var o=c.winTable.isWinCard(n.effect),r=n.effect==c.effect.Cash||n.effect==c.effect.DigitalCash;r?this.buildEarnCash():o?this.buildEarnJackpot():this.buildEarnCard()}else if("BigJackpot"==t){var o=c.winTable.isWinCard(n.effect);o&&(cc.log("idx: "+a.instance.getCurrentSimulationIdx()),a.instance.getCurentRound()>=2&&cc.log("NOOOOOOO"),n.effect==c.effect.Bonus?this.buildJackpotBonus():"MiniSpin"==e&&0==a.instance.getCurrentSimulationIdx()?this.buildWinner():"MiniSpin"==e&&1==a.instance.getCurrentSimulationIdx()?this.buildJackpotBonus():this.buildMegaNextRound())}else cc.log("built nothing!!!!")},errorLog:function(t){cc.log("%c"+t,"color=red;")},buildMegaNextRound:function(){this.m_PrizeRoot.active=!0,this.m_LblTitle1.node.active=!0,this.m_LblButtonContinue.string=i.GetText(50),this.m_LblTitle1.string=i.GetText(53),this.m_LblTitle2.string=i.GetText(50)},buildEarnCard:function(){this.m_LblTitle1.node.active=!0,this.m_CardRoot.active=!0,this.m_LblCardDescription.node.active=!1;var t=this.getCurrentCardData();this.m_LblButtonContinue.string=i.GetText(36),this.m_LblTitle1.string=i.GetText(46),this.m_LblTitle2.string=t.effect+" Card",this.m_LblCardDescription.string=i.GetText(51);var t=this.getCurrentCardData();if(t.effect==c.effect.Wild1||t.effect==c.effect.Wild2||t.effect==c.effect.Wild3){this.m_LblButtonContinue.string=i.GetText(68);var e={id:4,amount:1,charge:1,type:"MiniJackpot",effect:"Retry",group:"Basic",value:0,level:0};s.InstantiateCard(t,function(t){t.position=cc.p(0,0),this.m_CardRoot1.addChild(t),this.m_CardRoot1.active=!0}.bind(this)),s.InstantiateCard(e,function(t){t.position=cc.p(0,0),this.m_CardRoot2.addChild(t)}.bind(this)),this._onContinueAction=function(){this.m_AnimCardRevealWild.play("UICardRevealWild"),this.m_LblButtonContinue.string=i.GetText(36),o.TriggerEvent(r.OnClickRevealWildCard,this)}}else this.buildCurrentCard()},buildEarnCash:function(){this.m_RibonRoot.active=!0,this.m_CashPrizeRoot.active=!0;var t=this.getCurrentCardData();this.m_LblCashPrize.string=u.floatToMoney(parseInt(t.value)/100),this.m_LblRibbonDescription.string=""},buildEarnJackpot:function(){this.m_RibonRoot.active=!0,this.m_CashPrizeRoot.active=!0,this.m_LblCashPrize.string=u.intToMoney(parseInt(a.instance.getCurrentJackpotValue())),this.m_LblRibbonDescription.string=""},buildWinner:function(){this.m_RibonRoot.active=!0,this.m_CardRoot.active=!0,this.m_LblButtonContinue.string=i.GetText(36),this.m_LblRibbonDescription.string=i.GetText(48),this.buildCurrentCard()},buildJackpotBonus:function(){this.m_LblTitle1.node.active=!0,this.m_PrizeRoot.active=!0,this.m_CardRoot.active=!0;var t=this.getCurrentCardData();this.m_LblTitle1.string=i.GetText(49),this.m_LblTitle2.string=i.GetText(54,{value:t.value}),this.m_LblButtonContinue.string=i.GetText(50),this.buildCurrentCard()},getCurrentCardData:function(){var t=a.instance.getWinSlotId();return null==t||0==t?null:l.parseCardId(t)},buildCurrentCard:function(){var t=this.getCurrentCardData();null!=t&&s.InstantiateCard(t,this.OnCreateCard.bind(this))},OnCreateCard:function(t){t.position=cc.p(0,0);t.getComponent("UICard");this.m_CardRoot.addChild(t)}}),cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",CardsFactory:"CardsFactory",GameTriggers:"GameTriggers",Lokaki:"Lokaki",SimulationInitializer:"SimulationInitializer",StringUtil:"StringUtil",TransactionManager:"TransactionManager",UIBase:"UIBase",UIFinish:"UIFinish",UIPrize:"UIPrize"}],UICardsContent:[function(t,e,n){"use strict";cc._RFpush(e,"e5999yZyFREOrGINE1nJoUJ","UICardsContent");var i=new Array,a=null,o=t("GameTriggers"),r=o.GAME_EVENTS;cc.Class({"extends":cc.Component,properties:{Content:{"default":null,type:cc.Node},View:{"default":null,type:cc.Node},IsHorizontal:{"default":!0},IsVertical:{"default":!1},MaxItenLine:{"default":0,type:cc.Integer},SpaceX:{"default":0,type:cc.Float},SpaceY:{"default":0,type:cc.Float},OffsetX:{"default":0,type:cc.Float},OffsetY:{"default":0,type:cc.Float},ExtraX:{"default":0,type:cc.Float},ExtraY:{"default":0,type:cc.Float},ScaleItens:{"default":1,type:cc.Float}},onLoad:function(){a=this.Content.getPosition()},clearContent:function(){if(null!==i&&i.length>0)for(var t=0;t<i.length;t++)this.Content.removeChild(i[t])},showCards:function(t,e){return this.clearContent(),null===t?void cc.log("showCards with invalid list"):(this.IsHorizontal&&this.bakeHorizontal(t,e),this.IsVertical&&this.bakeVertical(t,e),void(this.IsHorizontal||this.IsVertical||this.addCards(t,e)))},addCards:function(t,e){i=new Array;for(var n=0;n<t.length;n++)this.addContent(t[n],n,e);this.addChildReversed(i)},bakeHorizontal:function(t,e){i=new Array,this.adjustWidth(t);for(var n=0;n<t.length;n++){this.addContent(t[n],n,e);var a=t[n].getContentSize().width,o=t[n].getContentSize().height;t[n].setPosition(n*this.SpaceX+(this.OffsetX+a/2)+a*n*this.ScaleItens,-o/2*this.ScaleItens+this.OffsetY)}this.addChildReversed(i)},bakeVertical:function(t,e){i=new Array,this.adjustHeight(t);for(var n=this.Content.getContentSize().width,a=0;a<t.length;a++){this.addContent(t[a],a,e);var o=a%this.MaxItenLine,r=Math.floor(a/this.MaxItenLine),s=t[a].getContentSize().width,l=t[a].getContentSize().height;t[a].setPosition(n/this.MaxItenLine*o+s/2,-(l*r+l/2)+this.OffsetY+r*this.SpaceY)}this.addChildReversed(i)},addContent:function(t,e,n){if(t.removeFromParent(),this.Content.addChild(t),t.setRotation(0),t.opacity=255,t.setScale(this.ScaleItens,this.ScaleItens),t.active=!0,n){t.setScale(0,0);var a=cc.scaleTo(.2,this.ScaleItens);a.easing(cc.easeBackOut(1));var s=cc.delayTime(.05*e),l=function(){o.TriggerEvent(r.OnShowCardOnInventory,this)}.bind(this),c=cc.sequence(s,cc.callFunc(l),a);t.runAction(c)}i.push(t)},addChildReversed:function(t){for(var e=t.length-1;e>=0;e--);},adjustHeight:function(t){if(null===t||t.length<=0)return void this.Content.setContentSize(this.Content.getContentSize().width,0);var e=t[0].getContentSize().height,n=this.Content.getContentSize().width+this.ExtraX,i=Math.ceil(t.length/this.MaxItenLine)*e+this.ExtraY;this.Content.setContentSize(new cc.Size(n,i)),this.Content.setPosition(a)},adjustWidth:function(t){if(null===t||t.length<=0)return void this.Content.setContentSize(0,this.Content.getContentSize().height);var e=t.length*this.SpaceX+this.OffsetX+t[0].getContentSize().width*t.length*this.ScaleItens+this.ExtraX,n=this.Content.getContentSize().height+this.ExtraY;this.Content.setContentSize(new cc.Size(e,n)),this.Content.setPosition(new cc.p(-this.View.getContentSize().width/2,this.Content.getPosition().y))},fitBottonPosition:function(t,e){var n=t.parent.convertToWorldSpaceAR(t.getPosition());if(this.IsVertical){var i=e.height/2,a=n.y-i;if(a<0){var o=cc.moveBy(.3,new cc.p(0,-a+50));o.easing(cc.easeBackOut(1)),this.node.runAction(o)}}if(this.IsHorizontal){var r=e.width/2,a=n.x+r+30;if(a>cc.view.getDesignResolutionSize().width){var o=cc.moveBy(.2,new cc.p(cc.view.getDesignResolutionSize().width-a,0));this.node.runAction(o)}}}}),cc._RFpop()},{GameTriggers:"GameTriggers"}],UICardsLayoultView:[function(t,e,n){"use strict";cc._RFpush(e,"d11d0N7Bk1L049Ivtcop5T/","UICardsLayoultView");var i=t("UIPopup"),a=t("UICardInfo");cc.Class({"extends":cc.Component,properties:{goShowPosition:new cc.Vec2(0,0),goClosePosition:new cc.Vec2(0,(-1200)),nodeShiftButton:cc.Node,uiCategoriesLayoult:i,uiCardInfo:a,m_bShown:{"default":!1,serializable:!1}},onLoad:function(){this.uiCategoriesLayoult.Hide(),this.uiCardInfo.Hide()},Show:function(){this.node.active=!0,this.Hide(),this.m_bShown=!0;var t=cc.moveTo(.4,new cc.p(this.goShowPosition.x,this.goShowPosition.y));t.easing(cc.easeBackOut(1)),this.node.runAction(t),this.nodeShiftButton.runAction(cc.rotateTo(.4,0)),this.uiCategoriesLayoult.Show()},Close:function(){this.m_bShown=!1,this.node.active=!0;var t=cc.moveTo(.4,new cc.p(this.goClosePosition.x,this.goClosePosition.y));t.easing(cc.easeBackIn(1)),this.node.runAction(t),this.nodeShiftButton.runAction(cc.rotateTo(.4,180)),this.uiCategoriesLayoult.Close(),this.uiCardInfo.isVisible()&&this.uiCardInfo.Close()},Hide:function(){this.m_bShown=!1,this.node.setPosition(new cc.p(this.goClosePosition.x,this.goClosePosition.y)),this.nodeShiftButton.rotation=180,this.uiCategoriesLayoult.Hide(),this.uiCardInfo.Hide()},ShowFilter:function(){},ToggleFilter:function(){this.uiCardInfo.isVisible()&&this.uiCardInfo.Close()},isVisible:function(){return this.m_bShown},ShowInfo:function(t){this.uiCardInfo.showInfo(t)},OnClickToggleFilter:function(){this.ToggleFilter()},onSelectCard:function(t){this.ShowInfo(t)},onUnselectCard:function(){this.uiCardInfo.isVisible()&&this.uiCardInfo.Close()}}),cc._RFpop()},{UICardInfo:"UICardInfo",UIPopup:"UIPopup"}],UICard:[function(t,e,n){"use strict";cc._RFpush(e,"fc6543W07FMdrUWZQLqpU6c","UICard");var i=(t("CardDefs"),t("CardComponent")),a=(t("UISlot"),t("CardsFactory")),o=t("UIChooseCard"),r=t("CardSlotModel"),s=t("TransactionManager"),l=t("GameTriggers"),c=l.GAME_EVENTS;cc.Class({"extends":i,properties:{m_pAttackSlotTarget:{"default":null,serializable:!1,type:cc.Node},m_vUsePosition:{"default":null,serializable:!1},m_uiChooseCard:{"default":null,serializable:!1,type:o},m_iLastSlotIdSet:{"default":-1,serializable:!1},m_pCardSlotModel:{"default":null,serializable:!1}},setup:function(t){this.m_uiChooseCard=t,this.m_pCardSlotModel=new r,this.m_pCardSlotModel.bakeCard(this)},getRemainingCharge:function(){return this.m_pCardSlotModel.getRemainingCharge()},getUsedCharges:function(){return this.m_pCardSlotModel.getUsedCharges()},isUsed:function(){return this.getUsedCharges()>0},canAddToSelectUI:function(){return this.m_pCardSlotModel.canAddToSelectUI()},updateModel:function(){this.m_pCardSlotModel.updateModel();var t=this.m_pCardSlotModel.getRemainingAmount();this.setAmount(t)},getAmountOfCards:function(){return this.m_pCardSlotModel.getRemainingAmount()},getUserCardList:function(){return this.m_pCardSlotModel.getUserCardList()},selectCard:function(t){var e=this.node,n=cc.moveTo(.2,cc.p(e.x,e.y+t));n.easing(cc.easeBackOut(1)),e.runAction(n)},unselctCard:function(t){if(t>0){var e=this.node,n=cc.moveTo(.2,cc.p(e.x,e.y-t));n.easing(cc.easeBackOut(1)),this.node.runAction(n)}},useCardAnim:function(t,e){this.m_vUsePosition=new cc.Vec2(t,e),this.node.stopAllActions();var n=cc.scaleTo(.5,1.5),i=cc.moveTo(.5,this.m_vUsePosition),a=cc.scaleTo(.5,1),o=cc.delayTime(.5);a.easing(cc.easeBackOut(1));var r=cc.sequence(o,a),s=cc.spawn(n,i,r);this.node.runAction(s),l.TriggerEvent(c.OnClickUseCard,this)},backToUseCard:function(){this.node.removeFromParent(),this.m_uiChooseCard.node.addChild(this.node),this.node.opacity=0,this.node.rotation=0,this.node.setPosition(this.m_vUsePosition);var t=cc.spawn(cc.scaleTo(.1,1),cc.fadeIn(.1));this.node.runAction(t),this.m_uiChooseCard.onCardSetOnUsePosition(this),this.setAmount(this.getAmountOfCards()),l.TriggerEvent(c.OnClickUseCard,this)},setPositionCardAnim:function(t,e){this.m_iLastSlotIdSet=e;var n=this.node;n.stopAllActions();var i=t.parent.convertToWorldSpaceAR(t.getPosition()),a=n.parent.convertToNodeSpaceAR(i),o=cc.moveTo(.4,a),r=t.parent.parent.rotation+t.parent.rotation,s=cc.rotateTo(.4,r);o.easing(cc.easeBackIn(1)),s.easing(cc.easeBackInOut(1));var u=cc.spawn(cc.scaleTo(.2,1.5),s,o,cc.sequence(cc.delayTime(.2),cc.scaleTo(.3,.7)),cc.sequence(cc.delayTime(.2),cc.fadeOut(.3)));this.node.runAction(cc.sequence(u,cc.callFunc(this.onFnishAddSlotAnim,this))),this.instantiateSlot(t),l.TriggerEvent(c.OnClickUseCardToSlot,this)},onFnishAddSlotAnim:function(){this.node.setPosition(new cc.p(999,999)),this.getRemainingCharge()>0&&this.m_uiChooseCard.hasFreeSlot()?this.backToUseCard():this.m_uiChooseCard.onClickShowCards()},onCancelUsage:function(){this.node.removeFromParent(),this.removeSlots(),l.TriggerEvent(c.OnClickUseCancelCard,this)},blinkAnimation:function(){this.node.runAction(cc.sequence(cc.scaleTo(.1,1.9),cc.scaleTo(.1,1)))},instantiateSlot:function(t){this.m_pAttackSlotTarget=t,a.InstantiateSlotByTemplate(this.getData(),s.instance.getCurrentSlotSize(),this.onInstantiateSlot.bind(this))},onInstantiateSlot:function(t){var e=t.getComponent("UISlot");this.m_pCardSlotModel.addSlot(e),this.m_pAttackSlotTarget.parent.addChild(t,10),t.setPosition(new cc.p(0,t.getContentSize().height/2)),e.setSlotId(this.m_iLastSlotIdSet),e.spawnAnimate(),e.setButtonDelegates(this,"onClickSlot")},removeSlotFromArray:function(t){var e=this.m_pCardSlotModel.removeSlotFromArray(t);this.m_uiChooseCard.onRemoveSlotId(e)},removeSlot:function(t){this.m_pCardSlotModel.removeSlot(t)},removeSlots:function(){this.m_pCardSlotModel.removeSlots()},onClickSlot:function(t){this.m_uiChooseCard.isUsingCard()||(this.m_pCardSlotModel.removeSlot(t),this.backToUseCard(),this.m_uiChooseCard.unselctCard())}}),cc._RFpop()},{CardComponent:"CardComponent",CardDefs:"CardDefs",CardSlotModel:"CardSlotModel",CardsFactory:"CardsFactory",GameTriggers:"GameTriggers",TransactionManager:"TransactionManager",UIChooseCard:"UIChooseCard",UISlot:"UISlot"}],UIChangeOnGameMode:[function(t,e,n){"use strict";cc._RFpush(e,"8ef9cr6DnJGkpYsY25KdyGP","UIChangeOnGameMode");var i=t("mJackpotUtils"),a=t("GameTriggers"),o=a.GAME_EVENTS;cc.Class({"extends":cc.Component,properties:{m_sColorBigJackpot:{tooltip:"the hex color for BigJackpot","default":"009900"},m_sColorMiniJackpot:{tooltip:"the hex color for MiniJackpot","default":"336699"},m_sColorSpin:{tooltip:"the hex color for Spin","default":"336699"}},editor:!1,start:function(){a.AddEvent(o.OnGameChangeSate,this.OnGameChangeSate.bind(this))},OnGameChangeSate:function(t){var e=t.GetParam(0);if(null!=e){var n="m_sColor"+e.m_sGameMode,a=this[n];null!=this.GetSprite()&&this.GetSprite().setColor(i.HexToRgb(a));
}},GetSprite:function(){return this.node}});cc._RFpop()},{GameTriggers:"GameTriggers",mJackpotUtils:"mJackpotUtils"}],UIChatLayout:[function(t,e,n){"use strict";cc._RFpush(e,"1f2ece75wxJdIr1hxIrzIha","UIChatLayout");var i=t("UIBaseAnimated"),a=t("UIBase");cc.Class({"extends":i,properties:{uiMiniChatView:{"default":null,type:a},uiBigChatView:{"default":null,type:a}},onLoad:function(){this.uiBigChatView.Hide()},Show:function(t,e){this._super(t,e)},onClickToggleView:function(){this.uiBigChatView.isVisible()?this.uiBigChatView.Close():this.uiBigChatView.Show()}}),cc._RFpop()},{UIBase:"UIBase",UIBaseAnimated:"UIBaseAnimated"}],UIChooseCardSelectedBG:[function(t,e,n){"use strict";cc._RFpush(e,"dd6bfPd3ktCG5O/oKlif/Tz","UIChooseCardSelectedBG");var i=(t("UIChooseCard"),null),a=0;cc.Class({"extends":cc.Component,properties:{LabelUse:{"default":null,type:cc.Label},LabelInfo:{"default":null,type:cc.Label}},onLoad:function(){this.node.active=!1},onClickInfo:function(){cc.log("onClickUse")},onClickUse:function(){cc.log("onClickUse")},attachToCard:function(t){this.node.active=!0,i=t,this.node.parent.removeChild(this.node),t.node.addChild(this.node,-1),this.node.setPosition(0,0),a=t.node.getLocalZOrder(),t.node.setLocalZOrder(30),this.node.setScale(0,0);var e=cc.scaleTo(.3,1);e.easing(cc.easeBackOut(1)),this.node.runAction(e)},deatach:function(t){this.node.active=!1,null!==i&&i.node.setLocalZOrder(a)}}),cc._RFpop()},{UIChooseCard:"UIChooseCard"}],UIChooseCard:[function(t,e,n){"use strict";cc._RFpush(e,"64c91WnoedC5KD6UmNvk4M6","UIChooseCard");var i=t("UIBaseAnimated"),a=t("UICardsContent"),o=t("CardsFactory"),r=t("UIChooseCardSelectedBG"),s=t("CardDefs"),l=t("UICardsLayoultView"),c=t("InventoryManager"),u=t("Profiller"),h=t("UIGenericPopup"),d=t("SimulationInitializer"),p=(t("TransactionManager"),t("CardUtility")),f=t("CustomAction"),m=new Array,g=null,_=null;cc.Class({"extends":i,properties:{lblTitle:{"default":null,type:cc.Label},cardsContent:{"default":null,type:a},uiChooseCardSelectedBG:{"default":null,type:r},nodeCancelLayoult:{"default":null,type:cc.Node},lblRemainingCharges:cc.Label,CardSelectionMoveY:{"default":0,type:cc.Integer},SelectedCartPositionX:{"default":0,type:cc.Float},SelectedCartPositionY:{"default":0,type:cc.Float},SelectedCartPosition:{"default":new cc.Vec2(0,0)},uiCardsLayouldView:{"default":null,type:l},_isFirstShow:!1,_lastFreeSlotList:null},onLoad:function(){m=new Array,g=null,_=null,this.uiCardsLayouldView.Hide(),this.nodeCancelLayoult.active=!1},start:function(){this.setupCards(),this.scheduleOnce(function(){this.setupRoulete()}.bind(this),1)},onEnable:function(){},getCardList:function(){return m},getUsingCard:function(){return _},isUsingCard:function(){return null!==_},getSelectedCard:function(){return g},isCardSelected:function(){return null!==g},hasCardToSelect:function(){return cc.log("====> cards: "+c.getModeCards().length),c.getModeCards().length>0},canSelectCard:function(){return null==g&&null==_||!this.isUsingCard()},getUsedCards:function(){for(var t=(new Array,this.getCardList()),e=d.m_pInstance.m_pCurrentGame.m_pRoulette.GetSlotsDataList(0),n={},i=0;i<e.length;i++)if(null!=e[i]&&null!=e[i].dataList){var a=e[i].dataList[0].client_id;null==n[a]&&(n[a]={dataList:e[i].dataList,positionList:new Array,usedAmount:0}),n[a].positionList.push(i)}for(var i=0;i<t.length;i++)if(null!=t[i]){var o=t[i].getComponent("UICard"),r=o.getUserCardList();null==r||r.length<=0||(n[o.getId()].usedAmount=r.length)}var s=new Array;for(var l in n)if(n.hasOwnProperty(l))for(var c=n[l],u=0,i=0;i<c.positionList.length;i++)s.push({id:c.dataList[u].id,position:c.positionList[i]}),u=++u>=c.usedAmount?0:u;return s},setupRoulete:function(){var t=d.m_pInstance.m_pCurrentGame;if(null!=t&&null!=t.m_sGameMode&&!(null!=t&"Spin"==t.m_sGameMode)){for(var e=t.m_pRoulette.m_vSlots,n=0;n<e.length;n++)for(var i=e[n].children,a=0;a<i.length;a++){var o=i[a].getComponent("cc.Button");if(null!=o){var r=new cc.Component.EventHandler;r.component="UIChooseCard",r.handler="onClickSlotButton",r.target=this.node,o.clickEvents.push(r)}}return-1}},setupCards:function(){m=new Array;for(var t=c.getModeCards(),e=0;e<t.length;e++)o.InstantiateCard(t[e],this.onInstantiate.bind(this))},onInstantiate:function(t){if(null!==t){var e=t.getComponent("UICard");e.setButtonDelegates(this,"onClickUICard"),e.setup(this),m.push(t),this.node.addChild(t),t.setPosition(new cc.p(999,999)),t.active=!1}},onInstantiationFinish:function(){},StartHighlightFreeSpaces:function(){this.StopHighlightFreeSpaces(),this._lastFreeSlotList=new Array;for(var t=d.m_pInstance.m_pCurrentGame.m_pRoulette.GetFreeSlots(),e=0;e<t.length;e++){for(var n=null,i=0;i<t[e].children.length;i++)if(t[e].children[i].name.startsWith("Slot_")){if(n=t[e].children[i].getComponent("CardComponent"),n.getEffect()==s.effect.None)break;n=null}f.highlightScaleLoop(n.ImgIcon.node,1.5,1.4,1,2,.2*e+1),this._lastFreeSlotList.push(n.ImgIcon.node)}},StopHighlightFreeSpaces:function(){if(null!=this._lastFreeSlotList)for(var t=0;t<this._lastFreeSlotList.length;t++)this._lastFreeSlotList[t].stopAllActions(),this._lastFreeSlotList[t].scale=1},onClickUICard:function(t){return g===t?(this.unselctCard(),void this.uiCardsLayouldView.onUnselectCard()):null!=_?void this.getUsingCard().blinkAnimation():(null!==g&&this.unselctCard(),void this.selectCard(t))},onClickToggleCards:function(){this.uiCardsLayouldView.isVisible()?this.onClickCloseCards():this.onClickShowCards()},onClickShowCardsFilter:function(){this.uiCardsLayouldView.isVisible()?this.uiCardsLayouldView.ToggleFilter():(this.onClickShowCards(),this.uiCardsLayouldView.ShowFilter())},onClickShowCards:function(){this._isFirstShow=!0,this.isUsingCard()&&_.onCancelUsage(),this.unselctCard(),_=null,this.nodeCancelLayoult.active=!1,this.StopHighlightFreeSpaces(),this.showCardsWithEffect(null),this.uiCardsLayouldView.Show()},onClickCloseCards:function(){this.unselctCard(),this.uiCardsLayouldView.Close()},onClickUseCard:function(){if(!this.canSelectCard())return void this.getUsingCard().blinkAnimation();if(!this.hasFreeSlot())return void h.ShowConfirmLokaki(5,7,2);_=g;var t=g.node,e=t.parent.convertToWorldSpaceAR(t.getPosition()),n=this.node.convertToNodeSpaceAR(e);t.removeFromParent(),this.node.addChild(t),t.setPosition(n),g.useCardAnim(this.SelectedCartPosition.x,this.SelectedCartPosition.y),this.onClickCloseCards(),this.showWarningMessageIfNeeded(),this.showUseCardScheduled()},onClickInfoCard:function(){this.uiCardsLayouldView.ShowInfo(g)},onClickCanceUseCard:function(){this.onClickShowCards()},onClickTestButton:function(){cc.log("test:"),cc.log("------"),cc.log("------"),cc.log(this.getUsedCards()),cc.log("------"),cc.log("------")},onClickSlotButton:function(t){if(null!==_){var e=this.findSlotId(t.target);if(!d.m_pInstance.m_pCurrentGame.m_pRoulette.IsSlotFree(e))return void cc.log("not free slot..");var n=p.generateCardId(_.getType(),_.getEffect(),_.getValue(),_.getCharge());d.m_pInstance.m_pCurrentGame.m_pRoulette.SetSlotType(e,n,_.getData()),e>=0?(_.setPositionCardAnim(t.target,e),this.nodeCancelLayoult.active=!1):cc.log("Noooooooooooo! didn't find right slot id"),_=null,this.StopHighlightFreeSpaces()}},onRemoveSlotId:function(t){d.m_pInstance.m_pCurrentGame.m_pRoulette.RemoveSlotType(t)},findSlotId:function(t){for(var e=d.m_pInstance.m_pCurrentGame.m_pRoulette.m_vSlots,n=0;n<e.length;n++)for(var i=e[n].children,a=0;a<i.length;a++)if(i[a]==t)return n;return-1},hasFreeSlot:function(){var t=d.m_pInstance.m_pCurrentGame.m_pRoulette.GetFreeSlotAmount();return t>0},showUseCardScheduled:function(){this.nodeCancelLayoult.setScale(0);var t=cc.scaleTo(.3,1),e=cc.delayTime(.4),n=cc.sequence(e,t);this.nodeCancelLayoult.active=!0,this.nodeCancelLayoult.runAction(n),this.lblRemainingCharges.string=_.getUsedCharges()+1+" / "+_.getCharge(),this.uiCardsLayouldView.isVisible()&&this.uiCardsLayouldView.Close(),this.StartHighlightFreeSpaces()},showWarningMessageIfNeeded:function(){if(null!=_){var t=d.m_pInstance.m_pCurrentGame.m_pRoulette.GetFreeSlotAmount();if(t<_.getCharge()){cc.log("iFreeSlots["+t+"] charge["+_.getCharge()+"]");_.getCharge()-t;h.ShowConfirmLokaki(4,8,2)}}},selectCard:function(t){g=t,g.selectCard(this.CardSelectionMoveY),this.uiChooseCardSelectedBG.attachToCard(t),this.uiCardsLayouldView.onSelectCard(t),this.cardsContent.fitBottonPosition(t.node,this.uiChooseCardSelectedBG.node.getContentSize())},unselctCard:function(){null!==g&&(g.unselctCard(this.CardSelectionMoveY),this.uiChooseCardSelectedBG.deatach()),g=null},onCardSetOnUsePosition:function(t){_=t,this.showUseCardScheduled()},filteredCards:function(t){for(var e=new Array,n=0;n<t.length;n++)if(null!=t[n]){var i=t[n].getComponent("UICard");i.updateModel(),i.canAddToSelectUI()?e.push(t[n]):cc.log(t[n].name+" wasn't added")}return e},showCardsWithEffect:function(t){u.BeginSample("showCardsWithEffect");var e=this.filteredCards(m);if(null===t)return this.cardsContent.showCards(e,!this._isFirstShow),u.EndSample(),void(this._isFirstShow=!1);this.uiChooseCardSelectedBG.deatach();for(var n=new Array,i=0;i<e.length;i++)for(var a=e[i].getComponent("CardComponent"),o=0;o<t.length;o++)a.getEffect()===t[o]&&n.push(e[i]);this.cardsContent.showCards(n,!0),u.EndSample()}}),cc._RFpop()},{CardDefs:"CardDefs",CardUtility:"CardUtility",CardsFactory:"CardsFactory",CustomAction:"CustomAction",InventoryManager:"InventoryManager",Profiller:"Profiller",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIBaseAnimated:"UIBaseAnimated",UICardsContent:"UICardsContent",UICardsLayoultView:"UICardsLayoultView",UIChooseCardSelectedBG:"UIChooseCardSelectedBG",UIGenericPopup:"UIGenericPopup"}],UIFinish:[function(t,e,n){"use strict";cc._RFpush(e,"88817eZ/FhFBpiOm2jRank8","UIFinish");var i=t("UIBaseAnimated"),a=t("SimulationInitializer");cc.Class({"extends":i,properties:{_OnClickContinue:null},setClickContinueCallback:function(t){this._OnClickContinue=t},onClickContinue:function(){null!=this._OnClickContinue&&this._OnClickContinue()},Show:function(t,e){this._super(t,e),a.m_pInstance.node.destroy()}}),cc._RFpop()},{SimulationInitializer:"SimulationInitializer",UIBaseAnimated:"UIBaseAnimated"}],UIGenericPopup:[function(t,e,n){"use strict";cc._RFpush(e,"fed8cnoNjhKZopj6LtBrldi","UIGenericPopup");var i=t("UIPopup"),a=t("Lokaki"),o=t("UIManager"),r=cc.Class({"extends":i,properties:{lblTitle:cc.Label,lblBody:cc.Label,btnInfo:cc.Button,lblInfo:cc.Label,btnClose:cc.Button,lblClose:cc.Label,btnOk:cc.Button,btnOk2:cc.Button,lblOk:cc.Label,lblOk2:cc.Label,LayoultOkCancel:cc.Node,LayoultOk:cc.Node,m_pContext:{"default":null,serializable:!1},m_pCallbackOk:{"default":null,serializable:!1},m_pCallbackCancel:{"default":null,serializable:!1},m_pCallbackInfo:{"default":null,serializable:!1}},onLoad:function(){var t=this.m_vPosition;this._super(),this.m_vPosition=t},onClickInfo:function(){null!=this.m_pContext&&null!=this.m_pCallbackInfo&&this.m_pContext[this.m_pCallbackInfo](),this.Close()},onClickCancel:function(){null!=this.m_pContext&&null!=this.m_pCallbackCancel&&this.m_pContext[this.m_pCallbackCancel](),this.Close()},onClickOk:function(){null!=this.m_pContext&&null!=this.m_pCallbackOk&&this.m_pContext[this.m_pCallbackOk](),this.Close()},Show:function(){this._super(),this.lblTitle.string=s.m_slblTitle,this.lblBody.string=s.m_slblBody,null!=this.lblInfo&&(this.lblInfo.string=s.m_slblInfo),this.lblClose.string=s.m_slblClose,this.lblOk.string=s.m_slblOk,this.lblOk2.string=s.m_slblOk,this.m_pContext=s.m_pContext,this.m_pCallbackOk=s.m_pCallbackOk,this.m_pCallbackCancel=s.m_pCallbackCancel,this.m_pCallbackInfo=s.m_pCallbackInfo,null!=this.btnInfo&&(this.btnInfo.node.active=!1),this.btnClose.node.active=null!=this.lblClose.string,this.btnOk.node.active=null!=this.lblOk.string,this.btnOk2.node.active=null!=this.lblOk.string,s.m_slblTitle=s.m_slblBody=s.m_slblInfo=s.m_slblClose=s.m_slblOk=null,s.m_pContext=s.m_pCallbackOk=s.m_pCallbackCancel=s.m_pCallbackInfo=null,null==s.m_slblClose||s.m_slblClose.length<=2?(this.LayoultOkCancel.active=!1,this.LayoultOk.active=!0):(this.LayoultOkCancel.active=!0,this.LayoultOk.active=!1)},Close:function(){this._super(),this.m_pContext=null,this.m_pCallbackOk=null,this.m_pCallbackCancel=null,this.m_pCallbackInfo=null}});e.exports=r,e.exports.ShowConfirmLokaki=function(t,n,i,o,r){e.exports.ShowConfirm(a.GetText(t),a.GetText(n),a.GetText(i),o,r)},e.exports.ShowConfirmCancelLokaki=function(t,n,i,o,r,s,l){e.exports.ShowConfirmCancel(a.GetText(t),a.GetText(n),a.GetText(i),a.GetText(o),r,s,l)},e.exports.ShowConfirm=function(t,n,i,a,o){e.exports.ShowPopup(t,n,i,null,null,a,o,null,null)},e.exports.ShowConfirmCancel=function(t,n,i,a,o,r,s){e.exports.ShowPopup(t,n,i,a,null,o,r,s,null)},e.exports.ShowBlock=function(t,n){e.exports.ShowPopup(t,n,null,null,null,null,null,null,null)},e.exports.ShowPopup=function(t,e,n,i,a,r,l,c,u){s.m_slblTitle=t,s.m_slblBody=e,s.m_slblInfo=a,s.m_slblClose=i,s.m_slblOk=n,s.m_pContext=r,s.m_pCallbackOk=l,s.m_pCallbackCancel=c,s.m_pCallbackInfo=u,o.instance.Show("UIGenericPopup",null,null)};var s={m_slblTitle:null,m_slblBody:null,m_slblInfo:null,m_slblClose:null,m_slblOk:null,m_pContext:null,m_pCallbackOk:null,m_pCallbackCancel:null,m_pCallbackInfo:null};cc._RFpop()},{Lokaki:"Lokaki",UIManager:"UIManager",UIPopup:"UIPopup"}],UIGroupFilter:[function(t,e,n){"use strict";cc._RFpush(e,"348dfEPO2tOwaDUhAqPWXyQ","UIGroupFilter");var i=t("UIChooseCard"),a=t("CardDefs"),o=t("ToggleButton"),r=t("UIPopup"),s=t("GameTriggers"),l=s.GAME_EVENTS;cc.Class({"extends":r,properties:{TabList:{"default":[],type:o},uiChooseCard:{"default":null,type:i}},onLoad:function(){this.selectIndex(0)},onClickFilterBonus:function(t){this.setFilterTab(t,a.effect.Bonus)},onClickFilterCash:function(t){this.setFilterTab(t,a.effect.Cash)},onClickFilterChallenge:function(t){this.setFilterTab(t,a.effect.Challenge)},onClickFilterBlock:function(t){this.setFilterTab(t,a.effect.Block)},onClickFilterRetry:function(t){this.setFilterTab(t,a.effect.Retry)},onClickFilterAll:function(t){this.setFilterTab(t)},onClickFilterWild:function(t){this.setFilterTab(t,a.effect.Wild1,a.effect.Wild2,a.effect.Wild3)},onClickFilterDouble:function(t){this.setFilterTab(t,a.effect.Multiply)},selectIndex:function(t){for(var e=0;e<this.TabList.length;e++){var n=this.TabList[e].getComponent("ToggleButton");null!==n&&(e!==t?n.setIsOn(!0):n.setIsOn(!1))}},setFilterTab:function(t){for(var e=new Array,n=1;n<arguments.length;n++)e.push(arguments[n]);for(var n=0;n<this.TabList.length;n++)if(this.TabList[n].node===t.target)return this.selectIndex(n),this.uiChooseCard.showCardsWithEffect(e.length>0?e:null),void s.TriggerEvent(l.OnClickFilterCardGroup);cc.log("not found...")}}),cc._RFpop()},{CardDefs:"CardDefs",GameTriggers:"GameTriggers",ToggleButton:"ToggleButton",UIChooseCard:"UIChooseCard",UIPopup:"UIPopup"}],UIIntroAnimation:[function(t,e,n){"use strict";cc._RFpush(e,"1b077mDiztJj4XDuNeyKqSY","UIIntroAnimation");var i=t("UIPopup"),a=(t("Lokaki"),t("TransactionManager")),o=(t("UIManager"),t("CardsFactory")),r=t("SimulationInitializer"),s=t("CardUtility"),l=(t("DebugUtil"),t("GameFSM"),t("GameTriggers")),c=l.GAME_EVENTS;t("Profiller"),cc.Class({"extends":i,properties:{m_vNodeAnimPath:{"default":[],type:cc.Node},m_pCards:null,m_pSlots:null,m_iSlotsToInstantiate:0,m_iSlotsToInstantiateCounter:0,m_pLastShownSlot:null},onLoad:function(){this._super()},OnShow:function(){this._super();var t=s.parseCardIdList(a.instance.getCurrentSimulation().wheel_arrangement);this.m_pCards=[],this.m_pSlots=[],this.m_iSlotsToInstantiate=t.length,this.m_iSlotsToInstantiateCounter=0;for(var e=0;e<t.length;e++)(null==t[e].type||"None"==t[e].effect&&"None"==t[e].type)&&(t[e].effect="Lose"),r.m_pInstance.m_pCurrentGame.m_pRoulette.SetSlotType(e,t[e].id,t[e]),t[e].slotId=e,o.InstantiateSlotByTemplate(t[e],a.instance.getCurrentSlotSize(),this.onInstantiateSlot.bind(this)),o.InstantiateCard(t[e],this.onInstantiateCard.bind(this))},onInstantiateCard:function(t){null!=t&&(this.m_pCards[t.getComponent("CardComponent").getData().slotId]=t,t.setPosition(cc.p(999,999)),this.node.parent.addChild(t)),this.m_iSlotsToInstantiateCounter++,this.m_iSlotsToInstantiateCounter>=this.m_iSlotsToInstantiate&&this.scheduleOnce(this.animateCardsIntro.bind(this),1)},onInstantiateSlot:function(t){null!=t&&(t.setPosition(cc.p(999,999)),this.node.parent.addChild(t),this.m_pSlots[t.getComponent("CardComponent").getData().slotId]=t)},animateCardsIntro:function(){if(this.m_pCards.length<=0)return cc.log("HAs no valid card to show!"),void this.onSlotAnimFinish();for(var t=0,e=0;e<this.m_pCards.length;e++)null!=this.m_pCards[e]&&(this.animateCardIntro(this.m_pCards[e],t),t++)},animateCardIntro:function(t,e){if(null==t)return void cc.log("Nooooo!!");t.removeFromParent(),this.node.addChild(t);var n=.5,i=t.getComponent("CardComponent"),a=r.m_pInstance.m_pCurrentGame.m_pRoulette.m_vSlots[i.getData().slotId],o=a.parent.convertToWorldSpaceAR(a.getPosition()),s=t.parent.convertToNodeSpaceAR(o);t.setPosition(this.m_vNodeAnimPath[0].getPosition()),t.rotation=this.m_vNodeAnimPath[0].rotation,t.setLocalZOrder(0);var l=new Array;l.push(new cc.delayTime(e*(n/2))),l.push(new cc.callFunc(function(){this.OnSpawnAnimStart(i)}.bind(this)));for(var c=1;c<this.m_vNodeAnimPath.length;c++)l.push(new cc.spawn(new cc.moveTo(n,this.m_vNodeAnimPath[c].getPosition()),new cc.rotateTo(n,this.m_vNodeAnimPath[c].rotation)));l.push(new cc.spawn(new cc.moveTo(n,s),new cc.rotateTo(n,0))),l.push(cc.callFunc(function(){this.onFinishCardAnim(t)}.bind(this),this));var u=cc.sequence.apply(cc.sequence,l);t.runAction(u)},onFinishCardAnim:function(t){var e=t.getComponent("CardComponent"),n=this.m_pSlots[e.getData().slotId];if(null!=n){var i=n.getComponent("UISlot"),a=r.m_pInstance.m_pCurrentGame.m_pRoulette.m_vSlots[i.getData().slotId];this.m_pLastShownSlot=i,n.removeFromParent(),a.addChild(n,-1),n.setPosition(new cc.p(0,n.getContentSize().height/2)),n.setLocalZOrder(1),i.spawnAnimateIntro(this,"onSlotAnimFinish")}else cc.log("noooooo");t.active=!1},onSlotAnimFinish:function(t){t==this.m_pLastShownSlot&&(this.clearCards(),this.Close())},clearCards:function(){for(var t=0;t<this.m_pCards.length;t++)null!=this.m_pCards[t]&&this.m_pCards[t].destroy();this.m_pCards=null},OnSpawnAnimStart:function(t){l.TriggerEvent(c.OnDrawCardAnimation,t)}});cc._RFpop()},{CardUtility:"CardUtility",CardsFactory:"CardsFactory",DebugUtil:"DebugUtil",GameFSM:"GameFSM",GameTriggers:"GameTriggers",Lokaki:"Lokaki",Profiller:"Profiller",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIManager:"UIManager",UIPopup:"UIPopup"}],UILoading:[function(t,e,n){"use strict";cc._RFpush(e,"b6055ntFxpPBLUEFsxyNWRW","UILoading");var i=t("OktTriggerManager"),a=(t("TransactionManager"),t("Lokaki")),o=cc.Class({"extends":cc.Component,properties:{m_MiniJPLogo:cc.Node,m_MegaJPLogo:cc.Node,m_SpinLogo:cc.Node,m_nodeTip:cc.Node,m_lblTip:cc.Label,m_iChangeTipTimeout:15,_iChangeTime:0,_bIsClosing:!1},onLoad:function(){cc.game.addPersistRootNode(this.node),e.exports.Instance=this,this.node.position=cc.p(cc.winSize.width/2,cc.winSize.height/2),this.showTip(),i.AddEvent(i.GAME_EVENTS.OnChangeGameState,this.onGameChangeSate.bind(this))},update:function(t){this.node.position=cc.p(cc.winSize.width/2,cc.winSize.height/2)},show:function(t){this.showTip(),this.node.opacity=0,this.node.active=!0,this.node.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){null!=t&&t(),this.onFadeIn.bind(this)}.bind(this))))},onFadeIn:function(){},close:function(){this.closeTip(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(this.onFadeOut.bind(this))))},onFadeOut:function(){this.node.active=!1},isVisible:function(){return this.node.active},showTip:function(){this._bIsClosing=!1,this.m_lblTip.string=a.GetText(this.getNewTip()),this.m_nodeTip.position=cc.p(0,-750);var t=cc.moveTo(.4,cc.p(0,-500));t.easing(cc.easeBackOut()),this.m_nodeTip.runAction(t),this._iChangeTime=(new Date).getTime(),this.scheduleOnce(this.autoChangeTip.bind(this),this.m_iChangeTipTimeout)},closeTip:function(){var t=cc.moveTo(.2,cc.p(0,-750));t.easing(cc.easeBackIn()),this.m_nodeTip.runAction(t),this._bIsClosing=!0},changeTip:function(){this.showTip()},autoChangeTip:function(){if(!this._bIsClosing){var t=((new Date).getTime()-this._iChangeTime)/1e3;t>this.m_iChangeTipTimeout-.2&&this.changeTip()}},getNewTip:function(){if(null==this._TipIndexArray||this._TipIndexArray.length<=0){for(var t=new Array,e=0;e<30;e++)t.push(127+e);this._TipIndexArray=this.shuffle(t)}var n=this._TipIndexArray[0];return this._TipIndexArray.splice(0,1),n},shuffle:function(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),i-=1,e=t[i],t[i]=t[n],t[n]=e;return t},onGameChangeSate:function(t){var e=t.GetParam(0);"IntroAnimation"==e&&this.close()},getMainCanvas:function(){return cc.director.getScene().children[0]}});e.exports.Instance=o,cc._RFpop()},{Lokaki:"Lokaki",OktTriggerManager:"OktTriggerManager",TransactionManager:"TransactionManager"}],UILose:[function(t,e,n){"use strict";cc._RFpush(e,"e36ecQILEVEpq8xQxsNg7B2","UILose");var i=t("UIFinish");cc.Class({"extends":i,properties:{},onLoad:function(){}}),cc._RFpop()},{UIFinish:"UIFinish"}],UIManager:[function(t,e,n){"use strict";cc._RFpush(e,"724dbD/WqtM8bcXyaNBvaR/","UIManager");var i=t("PrefabInstantiator"),a="prefab/UI/",o={m_dictInstances:{},m_pCanvas:null,Show:function(t,e,n,i,a){var o=this.getUI(t);null==o?this.loadPrefab(t,!0,e,n,i,a):(o.node.removeFromParent(),this.getCanvas().addChild(o.node,i),o.Show(e,n),null!=a&&a(o))},Close:function(t){var e=this.getUI(t);null!=e&&e.isVisible()&&e.Close()},loadPrefab:function(t,e,n,o,r,s){var l=e,c=this.getUI(t);if(null!=c)l&&this.Show(t,n,o,r,s);else{var u=a+t;i.Instantiate(u,!0,null,function(i,a){if(null!=i){var l=i.getComponent("UIBase");null!=l?(this.m_dictInstances[t]=l,e&&(this.getCanvas().addChild(i),this.Show(t,n,o,r,s))):cc.log("%cERROR> this UI does not contains UIBase: "+t,"color:red;")}}.bind(this))}},registerUI:function(t){null==this.m_dictInstances[t.node.name]&&(this.m_dictInstances[t.node.name]=t)},getUI:function(t){return null==this.m_dictInstances[t]||null==this.m_dictInstances[t].node?null:this.m_dictInstances[t]},toggleUI:function(t){var e=this.getUI(t);null!=e&&e.isVisible()?e.Close():this.Show(t,!0)},getCanvas:function(){if(null==this.m_pCanvas||null==this.m_pCanvas.name||this.m_pCanvas.name.length<2)for(var t=0;t<cc.director.getScene().children.length;t++)if(cc.director.getScene().children[t].name.indexOf("Canvas")!==-1){this.m_pCanvas=cc.director.getScene().children[t];break}return null==this.m_pCanvas&&cc.log("CANVAS NOTTT FOUND!"),this.m_pCanvas},isThereAnyUIOpenWith:function(t){for(var e in this.m_dictInstances)if(null!=this.m_dictInstances[e]&&this.m_dictInstances[e].isVisible()&&e.indexOf(t)!==-1)return!0;return!1},clearInstances:function(){this.m_pCanvas=null,this.m_dictInstances=[]}};e.exports.instance=o,cc._RFpop()},{PrefabInstantiator:"PrefabInstantiator"}],UIOktButton:[function(t,e,n){"use strict";cc._RFpush(e,"be9ee5/hjxDrqpMYtlCdzg/","UIOktButton");var i=t("UITriggers");cc.Class({"extends":cc.Button,properties:{},editor:!1,_onTouchEnded:function(t){var e=this._pressed;this._super(t),e&&i.TriggerEvent(i.UI_EVENTS.OnClickButton,this)}});cc._RFpop()},{UITriggers:"UITriggers"}],UIOktLabel:[function(t,e,n){"use strict";cc._RFpush(e,"b609eqLkLREEI4uiDRFDHL9","UIOktLabel");var i=t("Lokaki");cc.Class({"extends":cc.Label,editor:!1,properties:{m_sText:{"default":null,visible:0},textKey:{"default":"TEXT_KEY",tooltip:"Enter Lokaki key here",notify:function(){this.SetText(this.string)}},string:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return i.GetText(this.textKey)},set:function(t){this.textKey=t,cc.warn("Please set label text key in Text Key property.")}}},GetText:function(){return this.m_sText},SetText:function(t){this.m_sText=t,this._sgNode&&(this._sgNode.setString(t),this._updateNodeSize())},SetLokaki:function(t,e){var n=i.GetText(t,e);this.SetText(n)}}),cc._RFpop()},{Lokaki:"Lokaki"}],UIPopup:[function(t,e,n){"use strict";cc._RFpush(e,"61f0cGNT5VM/oj06HRxZXcp","UIPopup");var i=t("UIBase");cc.Class({"extends":i,properties:{m_vPosition:{"default":new cc.Vec2(0,0),serializable:!1}},onLoad:function(){this._super(),this.m_vPosition=this.node.getPosition()},ShowAnimation:function(){var t=this.m_vPosition.y-this.node.getContentSize().height;this.node.setPosition(new cc.p(this.m_vPosition.x,t));var e=cc.moveTo(.3,this.m_vPosition);e.easing(cc.easeBackOut(1));var n=cc.spawn(e,cc.fadeIn(.3));this.node.runAction(cc.sequence(n,cc.callFunc(this.OnShow.bind(this))))},CloseAnimation:function(){var t=this.m_vPosition.y-this.node.getContentSize().height,e=cc.moveTo(.3,new cc.p(this.m_vPosition.x,t));e.easing(cc.easeBackIn(1));var n=cc.spawn(e,cc.fadeOut(.3));this.node.runAction(cc.sequence(n,cc.callFunc(this.OnClose.bind(this))))}}),cc._RFpop()},{UIBase:"UIBase"}],UIPrize:[function(t,e,n){"use strict";cc._RFpush(e,"8e62frJrQpJtpthWLXlq56/","UIPrize");var i=t("UIPopup"),a=t("OktTriggerManager"),o=(t("Lokaki"),t("TransactionManager"));cc.Class({"extends":i,properties:{lblPrize:cc.Label,lblRounds:[cc.Sprite],m_nodePrizeDisplay:cc.Node,m_iCurrentPrize:0,m_fStartPositionY:0,m_fFinishPositionY:0,m_nodeRoundShift:cc.Node},setPrize:function(t){null!=this.lblPrize&&(this.lblPrize.string="$ "+t.toFixed(2))},start:function(){this.m_fFinishPositionY=this.m_nodePrizeDisplay.position.y,a.AddEvent(a.GAME_EVENTS.OnClickUseCard,this.onUseCard.bind(this)),a.AddEvent(a.GAME_EVENTS.OnClickUseCancelCard,this.onCancelUseCard.bind(this)),a.AddEvent(a.GAME_EVENTS.OnClickUseCardToSlot,this.onCancelUseCard.bind(this)),this.FormattRoundsLabel();try{this.setRound(o.instance.getCurentRound()),this.setPrize(o.instance.getCurrentJackpotValue())}catch(t){}},onDestroy:function(){a.RemoveEventOwner(this)},onUseCard:function(t){this.closePrize()},onCancelUseCard:function(t){this.showPrize()},showPrize:function(){var t=this.m_nodePrizeDisplay.position;t.y=this.m_fFinishPositionY,this.m_nodePrizeDisplay.runAction(cc.moveTo(.4,t)).easing(cc.easeBackOut(1))},closePrize:function(){var t=this.m_nodePrizeDisplay.position;t.y=this.m_fStartPositionY,this.m_nodePrizeDisplay.runAction(cc.moveTo(.4,t)).easing(cc.easeBackIn(1))},FormattRoundsLabel:function(){if(null!=this.lblRounds&&null!=this.lblRounds.length)for(var t=0;t<this.lblRounds.length;t++)null!=this.lblRounds[t]},setRound:function(t){if(null!=this.lblRounds&&null!=this.lblRounds.length){t-=1;for(var e=0;e<this.lblRounds.length;e++)null!=this.lblRounds[e]&&(e==t?this.lblRounds[e].node.opacity=255:this.lblRounds[e].node.opacity=100)}}}),cc._RFpop()},{Lokaki:"Lokaki",OktTriggerManager:"OktTriggerManager",TransactionManager:"TransactionManager",UIPopup:"UIPopup"}],UIResults:[function(t,e,n){"use strict";cc._RFpush(e,"98ff2v4yBhA4JOUdimCLEtf","UIResults");var i=(t("UIBase"),t("Lokaki")),a=t("TransactionManager"),o=t("GameTriggers"),r=o.GAME_EVENTS,s=t("CardsFactory"),l=t("CardUtility"),c=t("CardDefs"),u=t("StringUtil"),h=(t("UIPrize"),t("UIFinish"));t("SimulationInitializer"),t("CardComponent");cc.Class({"extends":h,properties:{Layoult_Winner:cc.Node,Layoult_NextRound:cc.Node,Layoult_CardDouble:cc.Node,Layoult_CardWin:cc.Node,Layoult_Lose:cc.Node,Layoult_Info:cc.Node,lblLayoult_Winner_Prize:cc.Label,lblLayoult_CardWin_CardName:cc.Label,lblLayoult_CardWin_CardMessage:cc.Label,nodeLayoult_CardWin_CardPosition:cc.Node,m_CardRoot1:cc.Node,m_CardRoot2:cc.Node,lblLayoult_Info:cc.Label,m_LblButtonContinue:cc.Label,m_AnimCardRevealWild:cc.Animation,m_FxConfettiNode:cc.Node,_onContinueAction:null},Show:function(t,e){this._super(t,e),this.resetRoots(),this.buildUI()},ShowInfo:function(){this.Layoult_Info.active=!this.Layoult_Info.active,this.Layoult_Info.active},onClickContinue:function(){o.TriggerEvent(r.OnClickContinueResults,null),null!=this._onContinueAction?(this._onContinueAction(),this._onContinueAction=null):null!=this._OnClickContinue&&this._OnClickContinue()},resetRoots:function(){this._onContinueAction=null,this.Layoult_Winner.active=!1,this.Layoult_NextRound.active=!1,this.Layoult_CardDouble.active=!1,this.Layoult_CardWin.active=!1,this.Layoult_Lose.active=!1,this.Layoult_Info.active=!1},onClickHelp:function(){this.ShowInfo()},buildUI:function(){var t=a.instance.getTransactionMode(),e=a.instance.getGameMode(),n=this.getCurrentCardData();if(cc.log(n),null==n||"None"==n.type)return cc.log("----- we lose because card data is null..."),void this.buildLayoult_Lose();var i=n.effect==c.effect.Wild1||n.effect==c.effect.Wild2||n.effect==c.effect.Wild3,o=c.winTable.isWinCard(n.effect),r=n.effect==c.effect.Cash||n.effect==c.effect.DigitalCash,s=n.effect==c.effect.MoneySpin;if(cc.log("bIsWild["+i+"] bIsWinCard["+o+"] bWinMoney["+r+"] sGameMode["+e+"] sTransMode["+t+"] card["+n.effect+"] bIsMoneySpin["+s+"]"),o=!1,this.lblLayoult_Info.string=l.getCardDescription(n),cc.log("card to win:"),cc.log(n),n.effect==c.effect.MoneySpin)this.buildLayoult_CardWin();else if("MiniSpin"==t)i?this.errorLog("Win WILD Card is nor prepared!"):this.buildLayoult_CardWin();else if("MiniJackpot"==t)r?this.buildLayoult_CardWin():n.effect==c.effect.Win?this.buildLayoult_Winner():this.buildLayoult_CardWin();else if("BigJackpot"==t){var o=c.winTable.isWinCard(n.effect);if(o){var u=a.instance.getCurrentSimulationIdx(),h=a.instance.getCurentRound();"MiniSpin"==e?0==u?this.buildLayoult_Winner():1==u?this.buildLayoult_CardBonus():cc.log("------------->> something went wrong here.."):h>2?this.buildLayoult_Winner():n.effect==c.effect.Bonus?this.buildLayoult_CardBonus():n.effect==c.effect.Retry||n.effect==c.effect.RetrySpecial?this.buildLayoult_CardWin():this.buildLayoult_NextRound()}else n.effect!=c.effect.Retry&&n.effect!=c.effect.RetrySpecial||this.buildLayoult_CardWin()}else cc.log("built nothing!!!!")},errorLog:function(t){cc.log("%c"+t,"color:red;")},buildLayoult_Winner:function(){this.Layoult_Winner.active=!0,this.lblLayoult_Winner_Prize.string=u.intToMoney(parseInt(a.instance.getCurrentJackpotValue()))},buildLayoult_NextRound:function(){this.Layoult_NextRound.active=!0},buildLayoult_CardDouble:function(){this.Layoult_CardDouble.active=!0,this.lblLayoult_CardWin_CardName.value="",this.lblLayoult_CardWin_CardMessage.value="",this.lblLayoult_CardWin_CardPosition.value="",this.buildCurrentCard()},buildLayoult_CardBonus:function(){this.Layoult_CardDouble.active=!0,this.lblLayoult_CardWin_CardName.value="",this.lblLayoult_CardWin_CardMessage.value="",this.lblLayoult_CardWin_CardPosition.value="",this.buildCurrentCard()},buildLayoult_CardWin:function(){this.Layoult_CardWin.active=!0,this.buildEarnCard()},buildLayoult_Lose:function(){this.Layoult_Lose.active=!0,this.m_FxConfettiNode.destroy()},buildEarnCard:function(){var t=this.getCurrentCardData(),e=i.GetText(l.getCardName(t.effect,t.value));if(e=i.GetText(125,{CardName:e}),this.lblLayoult_CardWin_CardName.string=e,t.effect==c.effect.Wild1||t.effect==c.effect.Wild2||t.effect==c.effect.Wild3){cc.log("--- WARNING!"),cc.log("--- Wild card is showing temporary cards!!"),this.m_LblButtonContinue.string=i.GetText(68);var n={id:4,amount:1,charge:1,type:"MiniJackpot",effect:"Retry",group:"Basic",value:0,level:0};s.InstantiateCard(t,function(t){this.m_CardRoot1.addChild(t),this.m_CardRoot1.active=!0,t.position=cc.p(0,0)}.bind(this)),s.InstantiateCard(n,function(t){this.m_CardRoot2.addChild(t),this.m_CardRoot2.active=!1,t.position=cc.p(0,0)}.bind(this)),this._onContinueAction=function(){this.m_AnimCardRevealWild.play("UICardRevealWild"),this.m_LblButtonContinue.string=i.GetText(36),o.TriggerEvent(r.OnClickRevealWildCard,this)}}else this.buildCurrentCard()},getCurrentCardData:function(){var t=a.instance.getWinSlotId();return null==t||0==t?null:l.parseCardId(t)},buildCurrentCard:function(){var t=this.getCurrentCardData();null!=t&&s.InstantiateCard(t,this.OnCreateCard.bind(this))},OnCreateCard:function(t){this.nodeLayoult_CardWin_CardPosition.addChild(t),
t.position=cc.p(0,0)}}),cc._RFpop()},{CardComponent:"CardComponent",CardDefs:"CardDefs",CardUtility:"CardUtility",CardsFactory:"CardsFactory",GameTriggers:"GameTriggers",Lokaki:"Lokaki",SimulationInitializer:"SimulationInitializer",StringUtil:"StringUtil",TransactionManager:"TransactionManager",UIBase:"UIBase",UIFinish:"UIFinish",UIPrize:"UIPrize"}],UISlot:[function(t,e,n){"use strict";cc._RFpush(e,"fd772Q/P2BGQq8lpUabfgNK","UISlot");var i=(t("CardDefs"),t("CardComponent")),a=t("GameTriggers"),o=a.GAME_EVENTS;cc.Class({"extends":i,properties:{m_iCurrentSlotId:{"default":-1,serializable:!1},m_TopBorder:cc.Sprite},onLoad:function(){this._super()},setSlotId:function(t){this.m_iCurrentSlotId=t},getSlotId:function(t){return this.m_iCurrentSlotId},setRefernceCard:function(t){m_pRefernceCard=t},spawnAnimate:function(){var t=cc.scaleTo(.2,1.2),e=cc.scaleTo(.2,1),n=cc.delayTime(.4),i=cc.sequence(cc.callFunc(function(){this.node.opacity=255}.bind(this)),t,e),r=cc.sequence(n,i);this.node.opacity=0,this.node.runAction(r),a.TriggerEvent(o.OnSetSlotOnCardAnimation,this)},spawnAnimateIntro:function(t,e){var n=cc.scaleTo(.2,1.3),i=cc.scaleTo(.2,1),r=cc.sequence(n,i);this.node.opacity=255,this.node.runAction(cc.sequence(r,cc.callFunc(function(){t[e](this)}.bind(this)))),a.TriggerEvent(o.OnSetSlotOnCardAnimation,this)}}),cc._RFpop()},{CardComponent:"CardComponent",CardDefs:"CardDefs",GameTriggers:"GameTriggers"}],UISpinSlot:[function(t,e,n){"use strict";cc._RFpush(e,"5312aztJaxCCKgIhL7n9mNP","UISpinSlot");var i=t("UISlot");cc.Class({"extends":i,properties:{},bakeCard:function(){this._super(),this.btnRoot.node.rotation=180}}),cc._RFpop()},{UISlot:"UISlot"}],UITapToPlay:[function(t,e,n){"use strict";cc._RFpush(e,"6fc35G3z3FNjacbg+72VD65","UITapToPlay");var i=t("UIManager"),a=t("UIBase"),o=t("PlatformUtil"),r=(t("AudioTriggers"),t("GameTriggers")),s=r.GAME_EVENTS;cc.Class({"extends":a,properties:{},onLoad:function(){},OnShow:function(){this._super(),cc.view.enableAutoFullScreen(cc.sys.browserType!==cc.sys.BROWSER_TYPE_BAIDU)},onClickToPlay:function(){r.TriggerEvent(s.OnClickTapToPlay),this.Close()}}),e.exports.ShowIfNeed=function(t,n){if(!o.isFullscreen()&&o.fullscreenRequested()){var a=i.instance.getUI("UITapToPlay");return null==a?void setTimeout(function(){e.exports.ShowIfNeed(t,n)},500):(cc.director.getScene().addChild(a.node),a.Show(),a.setCloseCallback(t,n),a.node.position=cc.p(cc.winSize.width/2,cc.winSize.height/2),void o.setFullscreenRequested(!0))}null!=t&&null!=n&&t[n]()},cc._RFpop()},{AudioTriggers:"AudioTriggers",GameTriggers:"GameTriggers",PlatformUtil:"PlatformUtil",UIBase:"UIBase",UIManager:"UIManager"}],UIToggleShow:[function(t,e,n){"use strict";cc._RFpush(e,"effe1K5W5pEM4hq211KdK5T","UIToggleShow");var i=t("UIManager");cc.Class({"extends":cc.Component,properties:{sUiShowName:""},onLoad:function(){},onClickToggleUI:function(){i.instance.toggleUI(this.sUiShowName)},onClickShowUI:function(){i.instance.Show(this.sUiShowName)},onClickCloseUI:function(){i.instance.Close(this.sUiShowName)}}),cc._RFpop()},{UIManager:"UIManager"}],UITournament:[function(t,e,n){"use strict";cc._RFpush(e,"1249aR8DNdFZYW4tblHhFd6","UITournament");var i=t("UIBaseAnimated"),a=t("TournamentContent"),o=t("TransactionManager"),r=t("Lokaki");cc.Class({"extends":i,properties:{m_lblWinner:cc.Label,m_lblPoints:cc.Label,m_ContentView:cc.Node,m_ContentTemplate:a,_PlayerList:new Array},onLoad:function(){this.buildUI()},onClickClose:function(){this.Close()},buildUI:function(){this.m_ContentTemplate.node.active=!1;for(var t=o.instance.getTournamentUsers(),e=0;e<t.length;e++){var n=null==t[e].position?e+1:t[e].position,i=null==t[e].points?0:t[e].points;this.addPlayer(n,t[e].name,i)}var a=o.instance.getTournamentWinner();this.m_lblWinner.string=r.GetText(72,{value:a.name}),this.m_lblPoints.string=r.GetText(73,{value:null==a.points?0:a.points})},addPlayer:function(t,e,n){var i=cc.instantiate(this.m_ContentTemplate.node),a=i.getComponent("TournamentContent");a.setContent(t,e,n),this.m_ContentView.addChild(i),i.active=!0,this._PlayerList.push(i)}}),cc._RFpop()},{Lokaki:"Lokaki",TournamentContent:"TournamentContent",TransactionManager:"TransactionManager",UIBaseAnimated:"UIBaseAnimated"}],UITriggers:[function(t,e,n){"use strict";cc._RFpush(e,"3f219FpBL1KYJ0GdGIzc9Wc","UITriggers");var i=t("OktTriggerManager"),a=t("okt");i.UI_EVENTS=a.Enum("UI_EVENTS",{UIBase_Show:["UIBase"],UIBase_OnShow:["UIBase"],UIBase_Close:["UIBase"],UIBase_OnClose:["UIBase"],OnClickButton:[cc.Button]}),e.exports=i,cc._RFpop()},{OktTriggerManager:"OktTriggerManager",okt:"okt"}],UITutorialMessage:[function(t,e,n){"use strict";cc._RFpush(e,"a7177gmd4hHXbSUTpSpszOu","UITutorialMessage");var i=t("UIPopup");cc.Class({"extends":i,properties:{labelBodyMessage:cc.Label,labelContinueButton:cc.Label,nodeRootPanel:cc.Node,btnClose:cc.Button,btnContinue:cc.Button,_OnFinishTutorial:null},onLoad:function(){},Show:function(t,e){this._super(t,e),this.setContinueButtonActive(!1),this.setCloseButtonActive(!1)},setBodyMessage:function(t){this.labelBodyMessage.string=t},setPosition:function(t){this.nodeRootPanel.position=t},setCloseButtonActive:function(t,e){this.btnClose.node.active=t,this._OnFinishTutorial=e},setContinueButtonActive:function(t){this.btnContinue.node.active=t},onClickCloseTutorial:function(){this.Close()}}),cc._RFpop()},{UIPopup:"UIPopup"}],UITutorialShift:[function(t,e,n){"use strict";cc._RFpush(e,"4af6c9h2NxI057z3Nb0r3D/","UITutorialShift");var i=t("UIBase"),a=t("GameTriggers"),o=a.GAME_EVENTS;cc.Class({"extends":i,properties:{ShiftTemplate:cc.Node,_ShiftList:new Array},onLoad:function(){this._super(),this._ShiftList.push(this.ShiftTemplate),this.disableShifts(),this.node.active=!0},disableShifts:function(){for(var t=0;t<this._ShiftList.length;t++)this._ShiftList[t].active=!1},BuildShifts:function(){for(var t=Array.prototype.slice.call(arguments,1),e=0;e<t.length;e++){var n=this.getShift();n.active=!0,n.position=t[e]}},BuildShift:function(t,e){var n=this.getShift(),i=0,s=cc.p(0,0),l=cc.p(0,0);switch(t){case r.Left:i=90,s=cc.p(15,0),l=cc.p(5,0);break;case r.Right:i=270,s=cc.p(15,0),l=cc.p(5,0);break;case r.Down:i=0,s=cc.p(0,15),l=cc.p(0,5);break;case r.Up:i=180,s=cc.p(0,15),l=cc.p(0,5)}n.rotation=i,n.position=e;var c=n.getComponent("MoveSinComp");c.setProperties(s,l,e),n.opacity=0,n.scale=0;var u=cc.scaleTo(.4,1);return u.easing(cc.easeBackOut(1)),n.runAction(cc.spawn(cc.fadeIn(.4),u)),a.TriggerEvent(o.Tutorial_ShowShift,n),n},CloseShifts:function(){for(var t=0;t<this._ShiftList.length;t++){var e=this._ShiftList[t],n=cc.sequence(cc.fadeOut(.4),cc.callFunc(function(){e.active=!1}.bind(this)));e.runAction(n)}},getShift:function(){for(var t=0;t<this._ShiftList.length;t++)if(!this._ShiftList[t].active)return this._ShiftList[t].active=!0,this._ShiftList[t];var e=cc.instantiate(this.ShiftTemplate);return this.ShiftTemplate.parent.addChild(e),this._ShiftList.push(e),e}});var r={Up:1,Down:2,Left:3,Right:4};cc._RFpop()},{GameTriggers:"GameTriggers",UIBase:"UIBase"}],UITutorialSlideShow:[function(t,e,n){"use strict";cc._RFpush(e,"7c9183Ci3JAkLFsHc8jvuKT","UITutorialSlideShow");var i=t("UIBase"),a=t("UserDataManager");cc.Class({"extends":i,properties:{SlideShowList:[cc.Node],_CurrentSlide:cc.Node,_CurrentSlideIdx:0},onLoad:function(){this._super(),this.node.active=!1},Show:function(t,e){this._super(t,e),this.disableScreens(),this._CurrentSlideIdx=-1,this.onClickNext()},disableScreens:function(){for(var t=0;t<this.SlideShowList.length;t++)this.SlideShowList[t].active=!1},onClickNext:function(){this._CurrentSlideIdx++,this.showSlide()},showSlide:function(){var t=.5,e=this.SlideShowList[this._CurrentSlideIdx],n=0;null!=this._CurrentSlide&&(this.closeOneSlide(t,this._CurrentSlide),n=t+.1,this._CurrentSlide=null),null!=e&&(this.showOneSlide(t,n,e),this._CurrentSlide=e)},showOneSlide:function(t,e,n){n.active=!0,n.position=cc.p(cc.winSize.width,0);var i=cc.moveTo(t,cc.p(0,0)),a=i;e>0&&(a=cc.sequence(cc.delayTime(e),i));n.runAction(a);i.easing(cc.easeBackOut(1))},closeOneSlide:function(t,e){var n=e.runAction(cc.sequence(cc.moveTo(t,cc.p(-cc.winSize.width,0)),cc.callFunc(function(){e.active=!1,null==this._CurrentSlide&&this.onFinishTutorial()}.bind(this))));n.easing(cc.easeBackIn(1))},onFinishTutorial:function(){null!=this.node.name&&a.setTutorialCompleted(this.node.name),this.Close()}}),cc._RFpop()},{UIBase:"UIBase",UserDataManager:"UserDataManager"}],UITutorialTimeout_BigJackpot:[function(t,e,n){"use strict";cc._RFpush(e,"d8aeenHj3BEnIz/xB7kQS7g","UITutorialTimeout_BigJackpot");var i=t("UITutorialTimeout"),a=(t("UITutorialShift"),t("BallSimulationScene")),o=t("UIManager"),r=t("GameTriggers"),s=r.UI_EVENTS,l=r.GAME_EVENTS,c=t("Lokaki"),u=t("SimulationInitializer"),h=(t("UserDataManager"),t("TransactionManager"));cc.Class({"extends":i,properties:{},properties:{_CanShow:!1,_TutorialMessageLokaki:0,_TutorialMessagePosition:null,_CloseOnOpenUIName:null,_CloseOnCloseUIName:null,_WillFinishTutorial:!1,_EnableCloseOnMessage:!1,_EnableContinueOnMessage:!1},onLoad:function(){this.node.on("mousedown",function(t){console.log("Hello!")}),r.AddEvent(l.OnGameChangeSate,this.onGameChangeSate.bind(this)),r.AddEvent(l.OnGameSimulationStateChange,this.OnGameSimulationStateChange.bind(this)),r.AddEvent(s.UIBase_Show,this.onUIBase_Show.bind(this)),r.AddEvent(s.UIBase_Close,this.onUIBase_Close.bind(this)),r.AddEvent(l.OnClickFilterCardGroup,this.rescheduleTutorialEvt.bind(this))},onDestroy:function(){r.RemoveEventOwner(this)},getSaveKey:function(){return this.node.name+"_"+h.instance.getCurentRound()},Show:function(t,e){this._super(t,e)},onUIBase_Show:function(t){var e=t.GetParam(0);null!=this._CloseOnOpenUIName&&this._CloseOnOpenUIName==e.node.name&&o.instance.Close("UITutorialMessage"),this.rescheduleIfRunning()},onUIBase_Close:function(t){var e=t.GetParam(0);null!=this._CloseOnCloseUIName&&this._CloseOnCloseUIName==e.node.name&&o.instance.Close("UITutorialMessage"),this.rescheduleIfRunning()},OnGameSimulationStateChange:function(t){var e=t.GetParam(0);if(2==e){o.instance.getUI("UITutorialShift").CloseShifts();var n=o.instance.getUI("UITutorialMessage");n&&n.setCloseCallback(null,null),o.instance.Close("UITutorialMessage"),this.node.destroy()}this.rescheduleIfRunning()},onGameChangeSate:function(t){var e=t.GetParam(0);"PlayStarted"==e.GetGameState()&&o.instance.getUI("UITutorialShift").CloseShifts(),this.rescheduleIfRunning()},onTimeOut:function(){if(null!=this)switch(this._super(),h.instance.getCurentRound()){case 1:this.OnTimeoutFirstRound();break;case 2:this.OnTimeoutSecondRound()}},OnTimeoutSecondRound:function(){this.isStepFinished("Round2_1")?this.isStepFinished("Round2_2")||(this._EnableCloseOnMessage=!0,this._EnableContinueOnMessage=!0,this.showMessage(100,cc.p(0,-350)),this._CloseOnCloseUIName="UITutorialMessage",this.setStepFinished("Round2_2")):(this._EnableCloseOnMessage=!0,this._EnableContinueOnMessage=!0,this.showMessage(99,cc.p(0,-350)),this._CloseOnCloseUIName="UITutorialMessage",this.setStepFinished("Round2_1"))},OnTimeoutFirstRound:function(){var t=o.instance.getUI("UIChooseCard"),e=t.uiCardsLayouldView.isVisible(),n=t.isCardSelected(),i=t.isUsingCard(),s=(t.nodeCancelLayoult.active,"PlayStarted"==a.GetInstance().m_sState),c=t.hasCardToSelect();this._CloseOnOpenUIName=null,this._CloseOnCloseUIName=null,c||!e||n||(this._WillFinishTutorial=!0,cc.log("no cards!")),this._WillFinishTutorial?this.showMessage(90,cc.p(0,0)):s?(this.showMessage(91,cc.p(0,150)),this.showShift(2,cc.p(0,-200))):e||i?e&&!n?(this.showMessage(87,cc.p(0,80)),this._CloseOnOpenUIName="UICardInfo"):n?(this.showMessage(88,cc.p(0,80)),r.AddEvent(l.OnClickUseCard,this.OnClickUseCardEvent.bind(this))):i&&(this.showMessage(89,cc.p(0,-420)),this._CloseOnOpenUIName="UIGroupFilter",this._WillFinishTutorial=!0):(this.showMessage(97,cc.p(0,-150)),this.showShift(2,cc.p(280,-480)),this._CloseOnOpenUIName="UIGroupFilter")},showShift:function(t,e){o.instance.Show("UITutorialShift");var n=o.instance.getUI("UITutorialShift");n.BuildShift(t,e)},showMessage:function(t,e){this._TutorialMessageLokaki=c.GetText(t),this._TutorialMessagePosition=e,o.instance.Show("UITutorialMessage",null,null,null,this.OnShowTutorialMessage.bind(this))},OnShowTutorialMessage:function(t){null!=t&&(null!=this._TutorialMessageLokaki&&t.setBodyMessage(this._TutorialMessageLokaki),null!=this._TutorialMessagePosition&&t.setPosition(this._TutorialMessagePosition),this.isFirstTime()&&!this._EnableCloseOnMessage||t.setCloseButtonActive(!0,this.OnForceFinish.bind(this)),(this._WillFinishTutorial||this._EnableContinueOnMessage)&&(t.setContinueButtonActive(!0),this._WillFinishTutorial&&this.saveTutorialComplete()),this._WillFinishTutorial=!1,this._EnableCloseOnMessage=!1,this._EnableContinueOnMessage=!1,t.setCloseCallback(this,"OnCloseTutorialMessage"))},OnCloseTutorialMessage:function(){u.m_pInstance.m_pCurrentGame.m_pRoulette.StopHighlightFreeSpaces(),this.startTimeout(),o.instance.getUI("UITutorialShift").CloseShifts()},OnClickUseCardEvent:function(t){o.instance.Close("UITutorialMessage"),r.RemoveEventFunction(this,"OnClickUseCardEvent")},OnForceFinish:function(){}}),cc._RFpop()},{BallSimulationScene:"BallSimulationScene",GameTriggers:"GameTriggers",Lokaki:"Lokaki",SimulationInitializer:"SimulationInitializer",TransactionManager:"TransactionManager",UIManager:"UIManager",UITutorialShift:"UITutorialShift",UITutorialTimeout:"UITutorialTimeout",UserDataManager:"UserDataManager"}],UITutorialTimeout_MiniJackpot:[function(t,e,n){"use strict";cc._RFpush(e,"f0e9cEIG7NMsbq5FAmPjC//","UITutorialTimeout_MiniJackpot");var i=t("UITutorialTimeout"),a=(t("UITutorialShift"),t("BallSimulationScene")),o=t("UIManager"),r=t("GameTriggers"),s=r.UI_EVENTS,l=r.GAME_EVENTS,c=t("Lokaki"),u=t("SimulationInitializer");cc.Class({"extends":i,properties:{_CanShow:!1,_TutorialMessageLokaki:0,_TutorialMessagePosition:null,_CloseOnOpenUIName:null,_WillFinishTutorial:!1},onLoad:function(){this.node.on("mousedown",function(t){console.log("Hello!")}),r.AddEvent(l.OnGameChangeSate,this.onGameChangeSate.bind(this)),r.AddEvent(l.OnGameSimulationStateChange,this.OnGameSimulationStateChange.bind(this)),r.AddEvent(s.UIBase_Show,this.onUIBase_Show.bind(this)),r.AddEvent(s.UIBase_Close,this.onUIBase_Close.bind(this)),r.AddEvent(l.OnClickFilterCardGroup,this.rescheduleTutorialEvt.bind(this))},onDestroy:function(){r.RemoveEventOwner(this)},Show:function(t,e){this._super(t,e)},onUIBase_Show:function(t){var e=t.GetParam(0);null!=this._CloseOnOpenUIName&&this._CloseOnOpenUIName==e.node.name&&o.instance.Close("UITutorialMessage"),this.rescheduleIfRunning()},onUIBase_Close:function(t){var e=t.GetParam(0);null!=this._CloseOnCloseUIName&&this._CloseOnCloseUIName==e.node.name&&o.instance.Close("UITutorialMessage"),this.rescheduleIfRunning()},OnGameSimulationStateChange:function(t){var e=t.GetParam(0);if(2==e){o.instance.getUI("UITutorialShift").CloseShifts();var n=o.instance.getUI("UITutorialMessage");n&&n.setCloseCallback(null,null),o.instance.Close("UITutorialMessage"),this.node&&this.node.destroy()}this.rescheduleIfRunning()},onGameChangeSate:function(t){var e=t.GetParam(0);"PlayStarted"==e.GetGameState()&&o.instance.getUI("UITutorialShift").CloseShifts(),this.rescheduleIfRunning()},onTimeOut:function(){if(null!=this){this._super();var t=o.instance.getUI("UIChooseCard"),e=t.uiCardsLayouldView.isVisible(),n=t.isCardSelected(),i=t.hasCardToSelect(),s=t.isUsingCard(),c=(t.nodeCancelLayoult.active,"PlayStarted"==a.GetInstance().m_sState);this._CloseOnOpenUIName=null,i||!e||n||(this._WillFinishTutorial=!0,cc.log("no cards!")),this._WillFinishTutorial?this.showMessage(90,cc.p(0,0)):c?(this.showMessage(91,cc.p(0,150)),this.showShift(2,cc.p(0,-200))):e||s?e&&!n?(this.showMessage(87,cc.p(0,80)),this._CloseOnOpenUIName="UICardInfo"):n?(this.showMessage(88,cc.p(0,80)),r.AddEvent(l.OnClickUseCard,this.OnClickUseCardEvent.bind(this))):s&&(this.showMessage(89,cc.p(0,-420)),this._CloseOnOpenUIName="UIGroupFilter",this._WillFinishTutorial=!0,u.m_pInstance.m_pCurrentGame.m_pRoulette.StartHighlightFreeSpaces()):(this.showMessage(86,cc.p(0,-150)),this.showShift(2,cc.p(280,-480)),this._CloseOnOpenUIName="UIGroupFilter")}},showShift:function(t,e){o.instance.Show("UITutorialShift");var n=o.instance.getUI("UITutorialShift");n.disableShifts(),n.BuildShift(t,e)},showMessage:function(t,e){this._TutorialMessageLokaki=c.GetText(t),this._TutorialMessagePosition=e,o.instance.Show("UITutorialMessage",null,null,null,this.OnShowTutorialMessage.bind(this))},OnShowTutorialMessage:function(t){null!=t&&(null!=this._TutorialMessageLokaki&&t.setBodyMessage(this._TutorialMessageLokaki),null!=this._TutorialMessagePosition&&t.setPosition(this._TutorialMessagePosition),this.isFirstTime()||t.setCloseButtonActive(!0,this.OnForceFinish.bind(this)),this._WillFinishTutorial&&(t.setContinueButtonActive(!0),this.saveTutorialComplete(),this._WillFinishTutorial=!1),t.setCloseCallback(this,"OnCloseTutorialMessage"))},OnCloseTutorialMessage:function(){u.m_pInstance.m_pCurrentGame.m_pRoulette.StopHighlightFreeSpaces(),this.startTimeout(),o.instance.getUI("UITutorialShift").CloseShifts()},OnClickUseCardEvent:function(t){o.instance.Close("UITutorialMessage"),r.RemoveEventFunction(this,"OnClickUseCardEvent")},OnForceFinish:function(){}}),cc._RFpop()},{BallSimulationScene:"BallSimulationScene",GameTriggers:"GameTriggers",Lokaki:"Lokaki",SimulationInitializer:"SimulationInitializer",UIManager:"UIManager",UITutorialShift:"UITutorialShift",UITutorialTimeout:"UITutorialTimeout"}],UITutorialTimeout_Spin:[function(t,e,n){"use strict";cc._RFpush(e,"ca63bGraa9CeoQId5Hg8fsg","UITutorialTimeout_Spin");var i=t("UITutorialTimeout"),a=(t("UITutorialShift"),t("BallSimulationScene"),t("UIManager")),o=t("GameTriggers"),r=o.GAME_EVENTS;cc.Class({"extends":i,properties:{_CanShow:!1},onDisable:function(){this._super(),this.saveTutorialComplete()},Show:function(t,e){this._super(t,e),o.AddEvent(r.OnGameChangeSate,this.onGameChangeSate.bind(this))},onGameChangeSate:function(t){var e=t.GetParam(0);if("PlayStarted"==e.GetGameState()){this.node&&this.node.destroy();var n=a.instance.getUI("UITutorialShift");n&&n.CloseShifts()}},onTimeOut:function(){if(this._super(),!this._CanShow){this._CanShow=!1;var t=a.instance.getUI("UITutorialShift");t.disableShifts(),t.BuildShift(4,cc.p(-150,0))}}}),cc._RFpop()},{BallSimulationScene:"BallSimulationScene",GameTriggers:"GameTriggers",UIManager:"UIManager",UITutorialShift:"UITutorialShift",UITutorialTimeout:"UITutorialTimeout"}],UITutorialTimeout:[function(t,e,n){"use strict";cc._RFpush(e,"2cb95EPOZxFerK2AiJLs5FK","UITutorialTimeout");var i=t("UIBase"),a=t("UserDataManager"),o=t("UIManager");cc.Class({"extends":i,properties:{Timout:7,_TimeoutScheduled:!1,_ScheduleMethod:null},Show:function(t,e){this._super(t,e),this.startTimeout()},onDisable:function(){this._TimeoutScheduled=!1},startTimeout:function(){var t=this.Timout;this.isFirstTime()&&(t=.3),null!=this._ScheduleMethod&&this.unschedule(this._ScheduleMethod),this._ScheduleMethod=this.onTimeOutCalled.bind(this),this.schedule(this._ScheduleMethod,t),this._TimeoutScheduled=!0},rescheduleIfRunning:function(){this._TimeoutScheduled&&this.startTimeout()},rescheduleTutorialEvt:function(t){this.rescheduleIfRunning()},isFirstTime:function(){return!a.isTutorialCompleted(this.getSaveKey())},saveTutorialComplete:function(){a.setTutorialCompleted(this.getSaveKey())},isStepFinished:function(t){return a.isTutorialCompleted(this.getSaveKey()+"_"+t)},setStepFinished:function(t){a.setTutorialCompleted(this.getSaveKey()+"_"+t)},getSaveKey:function(){return this.node.name},onTimeOutCalled:function(){o.instance.isThereAnyUIOpenWith("UITutorialSlideShow")||o.instance.isThereAnyUIOpenWith("UILockLoading")||this.onTimeOut()},onTimeOut:function(){this.unschedule(this._ScheduleMethod),this._TimeoutScheduled=!1}}),cc._RFpop()},{UIBase:"UIBase",UIManager:"UIManager",UserDataManager:"UserDataManager"}],UserApi:[function(t,e,n){"use strict";cc._RFpush(e,"2d710bI6VVP5oo1FOHS2xTS","UserApi"),function(n,i){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/GameUser"],i):"object"==typeof e&&e.exports?e.exports=i(t("../ApiClient"),t("../model/Error"),t("../model/GameUser")):(n.JackpotApi||(n.JackpotApi={}),n.JackpotApi.UserApi=i(n.JackpotApi.ApiClient,n.JackpotApi.Error,n.JackpotApi.GameUser))}(this,function(t,e,n){var i=function(i){this.apiClient=i||t.instance,this.usersIdGet=function(t,i){var a=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling usersIdGet");var o={id:t},r={},s={},l={},c=[],u=[],h=["application/json"],d=n;return this.apiClient.callApi("/users/{id}","GET",o,r,s,l,a,c,u,h,d,i)},this.usersIdPut=function(t,i,a){var o=null;if(void 0==t||null==t)throw new e("Missing the required parameter 'id' when calling usersIdPut");if(void 0==i||null==i)throw new e("Missing the required parameter 'jsonData' when calling usersIdPut");var r={id:t},s={},l={},c={json_data:i},u=[],h=["application/x-www-form-urlencoded"],d=["application/json"],p=n;return this.apiClient.callApi("/users/{id}","PUT",r,s,l,c,o,u,h,d,p,a)}};return i}),cc._RFpop()},{"../ApiClient":"ApiClient","../model/Error":"Error","../model/GameUser":"GameUser"}],UserDataManager:[function(t,e,n){"use strict";cc._RFpush(e,"f0fd0XfCjxHlJHKipY+hIZ/","UserDataManager");var i=t("TransactionManager"),a=!0,o={userData:null,setUserData:function(t){null!=t&&(this.userData=t,null==this.userData||null==this.userData.game_tutorial_data||""==this.userData.game_tutorial_data?cc.log("this.userData is null!"):this.userData.game_tutorial_data=JSON.parse(this.userData.game_tutorial_data),"object"!=typeof this.getTutorialData()&&(this.userData.game_tutorial_data=cc.sys.localStorage.getItem("UserDataManager")))},clearSave:function(){this.userData.game_tutorial_data="{}",this.saveData()},getTutorialData:function(){return this.userData.game_tutorial_data},getUserName:function(){return this.userData.name},getUserId:function(){return this.userData.id},setTutorialCompleted:function(t){if(a)cc.sys.localStorage.setItem(t,!0);else{if(null==this.userData||null==this.getTutorialData())return void cc.log("userData NOT LOADED");"object"!=typeof this.getTutorialData()&&(this.userData.game_tutorial_data={}),1!=this.getTutorialData()[t]&&(this.getTutorialData()[t]=!0,this.saveData())}},isTutorialCompleted:function(t){return a?"true"==cc.sys.localStorage.getItem(t):null==this.userData||null==this.getTutorialData()?(cc.log("userData NOT LOADED"),!1):this.getTutorialData()[t]},saveData:function(){if(a);else{var t=JSON.parse(JSON.stringify(this.userData));t.game_tutorial_data=JSON.stringify(this.userData.game_tutorial_data);var e=JSON.stringify(t);cc.log(e),i.instance.getClientApi().usersIdPut(this.getUserId(),e,this.onSaveData.bind(this)),cc.sys.localStorage.setItem("UserDataManager",e)}},onSaveData:function(t,e,n){cc.log("++++++++++++++++++++++++++++"),cc.log("++++++++++ save ++++++++++++"),cc.log(e),cc.log("++++++++++++++++++++++++++++"),cc.log("++++++++++++++++++++++++++++")}};e.exports=o,cc._RFpop()},{TransactionManager:"TransactionManager"}],client:[function(t,e,n){"use strict";function i(){}function a(t){if(!_(t))return t;var e=[];for(var n in t)o(e,n,t[n]);return e.join("&")}function o(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(t,e,n)});else if(_(n))for(var i in n)o(t,e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function r(t){for(var e,n,i={},a=t.split("&"),o=0,r=a.length;o<r;++o)e=a[o],n=e.indexOf("="),n==-1?i[decodeURIComponent(e)]="":i[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return i}function s(t){var e,n,i,a,o=t.split(/\r?\n/),r={};o.pop();for(var s=0,l=o.length;s<l;++s)n=o[s],e=n.indexOf(":"),i=n.slice(0,e).toLowerCase(),a=C(n.slice(e+1)),r[i]=a;return r}function l(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function u(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),i=n.shift(),a=n.shift();return i&&a&&(t[i]=a),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}n.emit("response",e);var a;try{(e.status<200||e.status>=300)&&(a=new Error(e.statusText||"Unsuccessful HTTP response"),a.original=t,a.response=e,a.status=e.status)}catch(i){a=i}a?n.callback(a,e):n.callback(null,e)})}function p(t,e){var n=v("DELETE",t);return e&&n.end(e),n}cc._RFpush(e,"8689bF+Q7dP1qhuR1+u4+Ig","client");var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var m=t("emitter"),g=t("./request-base"),_=t("./is-object"),v=e.exports=t("./request").bind(null,d);v.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only verison of superagent could not find XHR")};var C="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=a,v.parseString=r,v.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":r,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype._setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=u(e);for(var i in n)this[i]=n[i]},h.prototype._parseBody=function(t){var e=v.parse[this.type];return!e&&l(this.type)&&(e=v.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype._setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",a=new Error(i);return a.status=this.status,a.method=e,a.url=n,a},v.Response=h,m(d.prototype);for(var S in g)d.prototype[S]=g[S];d.prototype.type=function(t){return this.set("Content-Type",v.types[t]||t),this},d.prototype.responseType=function(t){return this._responseType=t,this},d.prototype.accept=function(t){return this.set("Accept",v.types[t]||t),this},d.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var i=btoa(t+":"+e);this.set("Authorization","Basic "+i);break;case"auto":this.username=t,this.password=e}return this},d.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},d.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},d.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype._timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype._appendQueryString=function(){var t=this._query.join("&");t&&(this.url+=~this.url.indexOf("?")?"&"+t:"?"+t)},d.prototype.end=function(t){var e=this,n=this.xhr=v.getXHR(),a=this._timeout,o=this._formData||this._data;this._callback=t||i,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(i){t=0}if(0==t){if(e.timedout)return e._timeoutError();if(e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{n.onprogress=r.bind(null,"download"),n.upload&&(n.upload.onprogress=r.bind(null,"upload"))}catch(s){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),this._appendQueryString(),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!this._isHost(o)){var c=this._header["content-type"],u=this._serializer||v.serialize[c?c.split(";")[0]:""];!u&&l(c)&&(u=v.serialize["application/json"]),u&&(o=u(o))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof o?o:null),this},v.Request=d,v.get=function(t,e,n){var i=v("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},v.head=function(t,e,n){var i=v("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.options=function(t,e,n){var i=v("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.del=p,v["delete"]=p,v.patch=function(t,e,n){var i=v("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.post=function(t,e,n){var i=v("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.put=function(t,e,n){var i=v("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},cc._RFpop()},{"./is-object":"is-object","./request":"request","./request-base":"request-base",emitter:"emitter"}],emitter:[function(t,e,n){"use strict";function i(t){if(t)return a(t)}function a(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}cc._RFpush(e,"610b3ZNDWRPLaR8HN8xJhqE","emitter"),"undefined"!=typeof e&&(e.exports=i),i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};
var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length},cc._RFpop()},{}],index:[function(t,e,n){"use strict";cc._RFpush(e,"c0480bMHCdEV6lKllLlB/4S","index"),function(n){"function"==typeof define&&define.amd?define(["ApiClient","model/Error","model/PlayPhCardUsed","model/PlayPhGameJackpot","model/PlayPhGameUser","model/PlayPhGameUserInventory","model/PlayPhGetUserSimulationResponse","model/PlayPhPutSimulationResponse","model/PlayPhSimulation","model/PlayPhSimulationsPutParam","api/PlayPhApiApi"],n):"object"==typeof e&&e.exports&&(e.exports=n(t("./ApiClient"),t("./model/Error"),t("./model/PlayPhCardUsed"),t("./model/PlayPhGameJackpot"),t("./model/PlayPhGameUser"),t("./model/PlayPhGameUserInventory"),t("./model/PlayPhGetUserSimulationResponse"),t("./model/PlayPhPutSimulationResponse"),t("./model/PlayPhSimulation"),t("./model/PlayPhSimulationsPutParam"),t("./api/PlayPhApiApi")))}(function(t,e,n,i,a,o,r,s,l,c,u){var h={ApiClient:t,Error:e,PlayPhCardUsed:n,PlayPhGameJackpot:i,PlayPhGameUser:a,PlayPhGameUserInventory:o,PlayPhGetUserSimulationResponse:r,PlayPhPutSimulationResponse:s,PlayPhSimulation:l,PlayPhSimulationsPutParam:c,PlayPhApiApi:u};return h}),cc._RFpop()},{"./ApiClient":"ApiClient","./api/PlayPhApiApi":"PlayPhApiApi","./model/Error":"Error","./model/PlayPhCardUsed":"PlayPhCardUsed","./model/PlayPhGameJackpot":"PlayPhGameJackpot","./model/PlayPhGameUser":"PlayPhGameUser","./model/PlayPhGameUserInventory":"PlayPhGameUserInventory","./model/PlayPhGetUserSimulationResponse":"PlayPhGetUserSimulationResponse","./model/PlayPhPutSimulationResponse":"PlayPhPutSimulationResponse","./model/PlayPhSimulation":"PlayPhSimulation","./model/PlayPhSimulationsPutParam":"PlayPhSimulationsPutParam"}],"is-object":[function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}cc._RFpush(e,"5621clgzURIlL1g+YuAh3lp","is-object"),e.exports=i,cc._RFpop()},{}],lokaki_data:[function(t,e,n){"use strict";cc._RFpush(e,"176f0OCyUlBo7vCvGgGSh+x","lokaki_data"),e.exports={en:function(){return{0:"Confirm",1:"Cancel",2:"Ok",3:"Info",4:"Warning",5:"Error",6:"Use",7:"There is no free space to add this card. Remove some card before.",8:"You will lose slots by using this card because it is almost full!",9:"SELECT YOUR CARDS",10:"Big",11:"Mini",12:"Jackpot",13:"Wild",14:"Wild Card",15:"Multiply",16:"Retry",17:"Block",18:"Cash",19:"Challenge",20:"Special",21:"Bonus",22:"Choose a free slot",23:"CATEGORIES",24:"Card Info",25:"Money Spin",26:"Error on request. Please try again",27:"Locked",28:"Double",29:"Triple",30:"Single",31:"Global",32:"Friends",33:"Tournament",34:"<PlayerAmount> Players",35:"WINNER",36:"Continue",37:"Digital Money",38:"Spin To Win",39:"DAILY SPIN!",40:"GET YOUR\n DAILY CARDS",41:"SPIN",42:"MINI JACKPOT",43:"MEGA JACKPOT",44:"ROUND <round>",45:"Off",46:"You earned a",47:"SPIN ONE MORE TIME AND SE WHAT YOU GET",48:"YOU CAN NOW DOUBLE THE JACKPOT",49:"YOU JUST INCREASED",50:"NEXT ROUND",51:"RETRY CARD ALLOW YOU TO TRY ONE MORE TIME",52:"RETRY SPECIAL CARD ALLOW YOU TO TRY ONE MORE TIME WITHOUT LOOSING YOUR PREVIOUS CARDS",53:"You advanced",54:"THE JACKPOT BY <value>",55:"<charge> increase slot odds for player by blocking the slot",56:"try again <mode>",57:"Spin for money",58:"Payout bonus of JP <value>",59:"Challenge <type>",60:"Double or nothing Jackpot",61:"try again mini JP, cards retained",62:"Any basic card",63:"Any basic or medium card",64:"Any basic or medium card or high",65:"Gives an extra cash",66:"Multiply the jackpot by <value>",67:"Lose",68:"Reveal card",69:"Position",70:"Name",71:"Points",72:"Winner: <value>",73:"Points: <value>",74:"How to play Press spin button to start spin",75:"Win cards to use on mini jackpot and mega jackpot game",76:"You win where pointer stops",77:"Press Spin button to start",78:"Improve you chances of winning by placing cards on the wheel",79:"Tap here to see your cards",80:"Select a card",81:"Improve your chances by using it",82:"Tap to place on wheel",83:"When finished Tap to spin the wheel",84:"Wait for the right moment and tap again to drop the ball",85:"You win were the ball stops",86:"Tap here to see your cards. You can improve your chances by placing cards on the wheel",87:"Tap a card to select it",88:"Tap use to place the selected card",89:"Choose the slot where place the card. Remember, you can only place cards on Slots with Fish Graphics.",90:"Great! \nAdd more cards or just tap to spin the wheel!",91:"Remember that you drop the ball by tapping the Drop button. What are you waiting for?",92:"To win the MEGA Jackpot, you have to beat 3 rounds in a row.",93:"Every round is diferent from each other",94:"You only Get the MEGA Jackpot by winning the 3rd round!",95:"To help you, you can always use cards in order to improve you chances",96:"Cards used are consumed however new cards can be used every round",97:"What are you waiting for? To win the MEGA JP, you need to beat all the 3 rounds. Use some cards to improve your chances!",98:"To advance to next round, the ball needs to land in the Jackpot slots.\nTap Drop to try out.",99:"Congrats, you advance to Round 2! Only 2 more rounds to Go",100:"The Cards used in the previous round was consumed. You need to use new cards to keep improving your chances!",101:'Tap to "use" to select the card.',102:"Tap here to spin the wheel and drop the card.",103:"You can see the tournament ranking here.",104:"Tap to play",105:"Try to add more block cards to increase your chances to win.",106:"You lose!",107:"Running",108:"Spin",109:"Drop",110:"Start",111:"How to Play",112:"Press spin to spin wheel.",113:"Win cards to increase odds on the Jackpot!",114:"Place cards on the Jackpot wheel and spin to win prizes.",115:"Help",116:"Tap Spin to Win!",117:"Round",118:"Nice Win!",119:"Amount added to wallet",120:"You advanced next round!",121:"Bonus cards will increase the jackpot size.",122:"Better luck next time...",123:"Keep playing for more chances!",124:"Jackpot Prize increased <value>x!",125:"<CardName> Card!",126:"Retry Special",127:"On Mini Jackpot you can improve your chances by adding block cards!",128:'Do not forget to click on "drop" to drop the ball!',129:"Block card 5x can be used in 5 slots within a single card!",130:"As much you spend in the game bigger is the prize!",131:"Have fun, not addiction.",132:"Big Jackpot has 3 steps to the big win!",133:"Try to plan where the ball will fall to drop it in the right time.",134:"Keep calm and Jackpot",135:"On Mini Jackpot you can improve your chances by adding block cards!",136:'Do not forget to click on "drop" to drop the ball!',137:"Block card 5x can be used in 5 slots within a single card!",138:"As much you spend in the game bigger is the prize!",139:"Have fun, not addiction.",140:"Big Jackpot has 3 steps to the big win!",141:"Try to plan where the ball will fall to drop it in the right time.",142:"Keep calm and Jackpot!",143:"mSports is awesome!",144:"Oktagon is awesome!",145:"Use headphone to better experience.",146:"On Mini Jackpot you can improve your chances by adding block cards!",147:"As much you spend in the game bigger is the prize!",148:"Have fun, not addiction.",149:"Big Jackpot has 3 steps to the big win!",150:"Try to plan where the ball will fall to drop it in the right time.",151:"Keep calm and Jackpot!",152:"mSports is awesome!",153:"Oktagon is awesome!",154:"Use headphone to better experience.",155:"On Mini Jackpot you can improve your chances by adding block cards!",156:"Keep calm and Jackpot"}},pt:function(){return{0:"Confirmar",1:"Cancelar",2:"Ok",3:"3: translate please",4:"4: translate please",5:"5: translate please",6:"6: translate please",7:"7: translate please",8:"8: translate please",9:"9: translate please",10:"10: translate please",11:"11: translate please",12:"12: translate please",13:"13: translate please",14:"14: translate please",15:"15: translate please",16:"16: translate please",17:"17: translate please",18:"18: translate please",19:"19: translate please",20:"20: translate please",21:"21: translate please",22:"22: translate please",23:"23: translate please",24:"24: translate please",25:"25: translate please",26:"26: translate please",27:"27: translate please",28:"28: translate please",29:"29: translate please",30:"30: translate please",31:"31: translate please",32:"32: translate please",33:"33: translate please",34:"34: translate please",35:"35: translate please",36:"36: translate please",37:"37: translate please",38:"38: translate please",39:"39: translate please",40:"40: translate please",41:"41: translate please",42:"42: translate please",43:"43: translate please",44:"44: translate please",45:"45: translate please",46:"46: translate please",47:"47: translate please",48:"48: translate please",49:"49: translate please",50:"50: translate please",51:"51: translate please",52:"52: translate please",53:"53: translate please",54:"54: translate please",55:"55: translate please",56:"56: translate please",57:"57: translate please",58:"58: translate please",59:"59: translate please",60:"60: translate please",61:"61: translate please",62:"62: translate please",63:"63: translate please",64:"64: translate please",65:"65: translate please",66:"66: translate please",67:"67: translate please",68:"68: translate please",69:"69: translate please",70:"70: translate please",71:"71: translate please",72:"72: translate please",73:"73: translate please",74:"74: translate please",75:"75: translate please",76:"76: translate please",77:"77: translate please",78:"78: translate please",79:"79: translate please",80:"80: translate please",81:"81: translate please",82:"82: translate please",83:"83: translate please",84:"84: translate please",85:"85: translate please",86:"86: translate please",87:"87: translate please",88:"88: translate please",89:"89: translate please",90:"90: translate please",91:"91: translate please",92:"92: translate please",93:"93: translate please",94:"94: translate please",95:"95: translate please",96:"96: translate please",97:"97: translate please",98:"98: translate please",99:"99: translate please",100:"100: translate please",101:"101: translate please",102:"102: translate please",103:"103: translate please",104:"104: translate please",105:"105: translate please",106:"106: translate please",107:"107: translate please",108:"108: translate please",109:"109: translate please",110:"110: translate please",111:"111: translate please",112:"112: translate please",113:"113: translate please",114:"114: translate please",115:"115: translate please",116:"116: translate please",117:"117: translate please",118:"118: translate please",119:"119: translate please",120:"120: translate please",121:"121: translate please",122:"122: translate please",123:"123: translate please",124:"124: translate please",125:"125: translate please",126:"126: translate please",127:"127: translate please",128:"128: translate please",129:"129: translate please",130:"130: translate please",131:"131: translate please",132:"132: translate please",133:"133: translate please",134:"134: translate please",135:"135: translate please",136:"136: translate please",137:"137: translate please",138:"138: translate please",139:"139: translate please",140:"140: translate please",141:"141: translate please",142:"142: translate please",143:"143: translate please",144:"144: translate please",145:"145: translate please",146:"146: translate please",147:"147: translate please",148:"148: translate please",149:"149: translate please",150:"150: translate please",151:"151: translate please",152:"152: translate please",153:"153: translate please",154:"154: translate please",155:"155: translate please",156:"156: translate please"}}},cc._RFpop()},{}],mJackpotUtils:[function(t,e,n){"use strict";cc._RFpush(e,"db88e+wJoxGoo4sV+3Ld+M/","mJackpotUtils");var i=t("pako_min"),a=(t("Profiller"),{});a.Init=function(){this._InitDimensions()},a._InitDimensions=function(){var t=960,e=cc.winSize.height;this.m_fScaleDif=e/t,this.m_fScaleConversion=t*this.m_fScaleDif*.5,this.m_vCenter=cc.pMult(cc.pFromSize(cc.winSize),.5)},a.ConvertUnityPosition=function(t){return t=cc.pMult(t,this.m_fScaleConversion)},a.ConvertUnitySize=function(t){return null!=t.x&&null!=t.y?(t.x*=this.m_fScaleDif,t.y*=this.m_fScaleDif,t):(t*=this.m_fScaleDif,cc.p(t,t))},a.ConvertUnityRotation=function(t){if(null!=t){if(null==t.length)return-t;for(var e=0;e<t.length;e++)t[e]=a.ConvertUnityRotation(t[e]);return t}return 0},a.DecompressStringEncoded=function(t){var e=80,n=83;return t=a.SwapStringChars(t,e,n),a.DecompressString(t)},a.DecompressString=function(e){var n=t("Profiller");n.BeginSample("atob");var i=atob(e);n.BeginSample("split data");for(var o=new Array(i.length),r=0;r<i.length;r++)o[r]=i[r].charCodeAt(0);n.BeginSample("new Uint8Array");var s=new Uint8Array(o);return a.DecompressBytes(s)},a.DecompressBytes=function(e){var n=t("Profiller");n.BeginSample("pako.inflate");var a=i.inflate(e),o=1e3,r="",s=0;for(n.BeginSample("String.fromCharCode");s<a.length;){var l=a.subarray(s,s+o);s+=l.length,r+=String.fromCharCode.apply(null,l)}return n.EndSample(),r},a.GetSubArray=function(t,e,n){var i=cc.clampf(n,0,t.length);if(i==t.length)return t;for(var a=new Array(i),o=0;o<i;o++)a[o]=t[o+e];return a},a.ConvertCompressedAngle=function(t){return.01*t},a.ConvertCompressedPosition=function(t){return 1e-4*t},a.ConvertCompressedSimulationData=function(t){null!=t.v1x&&(t.m_vPosition={x:a.ConvertCompressedPosition(t.v1x),y:a.ConvertCompressedPosition(t.v1y)},t.m_fRotation=a.ConvertCompressedAngle(t.f1),t.m_bEnabled=1==t.b1,t.m_bCollider=1==t.b2,delete t.v1x,delete t.v1y,delete t.f1,delete t.b1,delete t.b2)},a.HexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}:cc.color(0,0,0)},a.ArraysEqual=function(t,e){if(!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!this.ArraysEqual(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},a.Swap=function(t,e,n){var i=t[e];t[e]=t[n],t[n]=i},a.SwapStringChars=function(t,e,n){return t.substr(0,e)+t[n]+t.substring(e+1,n)+t[e]+t.substr(n+1)},e.exports=a,cc._RFpop()},{Profiller:"Profiller",pako_min:"pako_min"}],okt:[function(t,e,n){"use strict";cc._RFpush(e,"bac36GZmotJzKTmadxgOoUm","okt");var i={};window.OKT_DEBUG=!1,null!=window.document&&window.document.getElementById("opts-debug-mode")&&(window.OKT_DEBUG=!0),i.log=function(){OKT_DEBUG&&console.log.apply(null,arguments)},i.error=function(){OKT_DEBUG&&console.error.apply(null,arguments)},i.warn=function(){OKT_DEBUG&&console.warn.apply(null,arguments)},i.Enum=function(t,e){null==e?(e=t,t=""):t+=".";for(var n in e)e[n]=t+n;var i=cc.Enum(e);return i},window.okt=i,e.exports=i,cc._RFpop()},{}],pako_min:[function(t,e,n){(function(i){"use strict";cc._RFpush(e,"e1845tSJbpEOa0PzuOs32Wa","pako_min"),!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,a.pako=t()}}(function(){return function e(n,i,a){function o(s,l){if(!i[s]){if(!n[s]){var c="function"==typeof t&&t;if(!l&&c)return c(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var e=n[s][1][t];return o(e?e:t)},h,h.exports,e,n,i,a)}return i[s].exports}for(var r="function"==typeof t&&t,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=l.assign({level:v,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==m)throw new Error(u[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var a;if(a="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=s.deflateSetDictionary(this.strm,a),n!==m)throw new Error(u[n]);this._dict_set=!0}}function a(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,a(t,e)}function r(t,e){return e=e||{},e.gzip=!0,a(t,e)}var s=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,p=0,f=4,m=0,g=1,_=2,v=-1,C=0,S=8;i.prototype.push=function(t,e){var n,i,a=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?f:p,"string"==typeof t?a.input=c.string2buf(t):"[object ArrayBuffer]"===d.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new l.Buf8(o),a.next_out=0,a.avail_out=o),n=s.deflate(a,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||i!==f&&i!==_)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(a.output,a.next_out))):this.onData(l.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==g);return i===f?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==_||(this.onEnd(m),a.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=i,n.deflate=a,n.deflateRaw=o,n.gzip=r},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new d,r.inflateGetHeader(this.strm,this.header)}function a(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,a(t,e)}var r=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),u=t("./zlib/messages"),h=t("./zlib/zstream"),d=t("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,a,o,u,h,d=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?d.input=l.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new s.Buf8(f),d.next_out=0,d.avail_out=f),n=r.inflate(d,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&m&&(h="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===p.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,h)),n===c.Z_BUF_ERROR&&g===!0&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==c.Z_STREAM_END&&(0!==d.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(a=l.utf8border(d.output,d.next_out),o=d.next_out-a,u=l.buf2string(d.output,a),d.next_out=o,d.avail_out=f-o,o&&s.arraySet(d.output,d.output,a,o,0),this.onData(u)):this.onData(s.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),d.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=i,n.inflate=a,n.inflateRaw=o,n.ungzip=a},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,i,a){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),a);for(var o=0;o<i;o++)t[a+o]=e[n+o]},flattenChunks:function(t){var e,n,i,a,o,r;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(r=new Uint8Array(i),a=0,e=0,n=t.length;e<n;e++)o=t[e],r.set(o,a),a+=o.length;return r}},o={arraySet:function(t,e,n,i,a){for(var o=0;o<i;o++)t[a+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],4:[function(t,e,n){function i(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var a=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var s=new a.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(t){var e,n,i,o,r,s=t.length,l=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new a.Buf8(l),r=0,o=0;r<l;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|63&n):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|63&n):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new a.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,a,o,r,l=e||t.length,c=new Array(2*l);for(a=0,n=0;n<l;)if(o=t[n++],o<128)c[a++]=o;else if(r=s[o],r>4)c[a++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&n<l;)o=o<<6|63&t[n++],r--;r>1?c[a++]=65533:o<65536?c[a++]=o:(o-=65536,c[a++]=55296|o>>10&1023,c[a++]=56320|1023&o)}return i(c,a)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},{"./common":3}],5:[function(t,e,n){function i(t,e,n,i){for(var a=65535&t|0,o=t>>>16&65535|0,r=0;0!==n;){r=n>2e3?2e3:n,n-=r;do a=a+e[i++]|0,o=o+a|0;while(--r);a%=65521,o%=65521}return a|o<<16|0}e.exports=i},{}],6:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,n){function i(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function a(t,e,n,i){var a=o,r=i+n;t^=-1;for(var s=i;s<r;s++)t=t>>>8^a[255&(t^e[s])];return t^-1}var o=i();e.exports=a},{}],8:[function(t,e,n){function i(t,e){return t.msg=M[e],e}function a(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(O.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){U._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,r(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,n,i){var a=t.avail_in;return a>i&&(a=i),0===a?0:(t.avail_in-=a,O.arraySet(e,t.input,t.next_in,a,n),1===t.state.wrap?t.adler=E(t.adler,e,a,n):2===t.state.wrap&&(t.adler=x(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)}function h(t,e){var n,i,a=t.max_chain_length,o=t.strstart,r=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-ht?t.strstart-(t.w_size-ht):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+ut,p=c[o+r-1],f=c[o+r];t.prev_length>=t.good_match&&(a>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,c[n+r]===f&&c[n+r-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(i=ut-(d-o),o=d-ut,i>r){if(t.match_start=e,r=i,i>=s)break;p=c[o+r-1],f=c[o+r]}}while((e=h[e&u])>l&&0!==--a);return r<=t.lookahead?r:t.lookahead}function d(t){var e,n,i,a,o,r=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-ht)){O.arraySet(t.window,t.window,r,r,0),t.match_start-=r,t.strstart-=r,t.block_start-=r,n=t.hash_size,e=n;do i=t.head[--e],t.head[e]=i>=r?i-r:0;while(--n);n=r,e=n;do i=t.prev[--e],t.prev[e]=i>=r?i-r:0;while(--n);a+=r}if(0===t.strm.avail_in)break;if(n=u(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=ct)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ct-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<ht&&0!==t.strm.avail_in)}function p(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(d(t),0===t.lookahead&&e===G)return St;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return St;if(t.strstart-t.block_start>=t.w_size-ht&&(s(t,!1),0===t.strm.avail_out))return St}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?bt:Tt):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?St:St}function f(t,e){for(var n,i;;){if(t.lookahead<ht){if(d(t),t.lookahead<ht&&e===G)return St;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ht&&(t.match_length=h(t,n)),t.match_length>=ct)if(i=U._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return St}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===B?(s(t,!0),0===t.strm.avail_out?bt:Tt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?St:yt}function m(t,e){for(var n,i,a;;){if(t.lookahead<ht){if(d(t),t.lookahead<ht&&e===G)return St;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ht&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===V||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-ct,i=U._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return St}else if(t.match_available){if(i=U._tr_tally(t,0,t.window[t.strstart-1]),i&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return St}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=U._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===B?(s(t,!0),0===t.strm.avail_out?bt:Tt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?St:yt}function g(t,e){for(var n,i,a,o,r=t.window;;){if(t.lookahead<=ut){if(d(t),t.lookahead<=ut&&e===G)return St;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(a=t.strstart-1,i=r[a],i===r[++a]&&i===r[++a]&&i===r[++a])){o=t.strstart+ut;do;while(i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&a<o);t.match_length=ut-(o-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(n=U._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return St}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?bt:Tt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?St:yt}function _(t,e){for(var n;;){if(0===t.lookahead&&(d(t),0===t.lookahead)){if(e===G)return St;break}if(t.match_length=0,n=U._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return St}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?bt:Tt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?St:yt}function v(t,e,n,i,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=a}function C(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=R[t.level].max_lazy,t.good_match=R[t.level].good_length,t.nice_match=R[t.level].nice_length,t.max_chain_length=R[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,
this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*st),this.dyn_dtree=new O.Buf16(2*(2*ot+1)),this.bl_tree=new O.Buf16(2*(2*rt+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(lt+1),this.heap=new O.Buf16(2*at+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*at+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=X,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?pt:vt,t.adler=2===e.wrap?0:1,e.last_flush=G,U._tr_init(e),N):i(t,z)}function b(t){var e=y(t);return e===N&&C(t.state),e}function T(t,e){return t&&t.state?2!==t.state.wrap?z:(t.state.gzhead=e,N):z}function P(t,e,n,a,o,r){if(!t)return z;var s=1;if(e===W&&(e=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),o<1||o>$||n!==Q||a<8||a>15||e<0||e>9||r<0||r>K)return i(t,z);8===a&&(a=9);var l=new S;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ct-1)/ct),l.window=new O.Buf8(2*l.w_size),l.head=new O.Buf16(l.hash_size),l.prev=new O.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new O.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=r,l.method=n,b(t)}function w(t,e){return P(t,e,Q,tt,et,Z)}function I(t,e){var n,s,u,h;if(!t||!t.state||e>D||e<0)return t?i(t,z):z;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===Ct&&e!==B)return i(t,0===t.avail_out?j:z);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===pt)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=x(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ft):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),l(s,Pt),s.status=vt);else{var d=Q+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=H||s.level<2?0:s.level<6?1:6===s.level?2:3,d|=p<<6,0!==s.strstart&&(d|=dt),d+=31-d%31,s.status=vt,c(s,d),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===ft)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=mt)}else s.status=mt;if(s.status===mt)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=gt)}else s.status=gt;if(s.status===gt)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(t.adler=x(t.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=_t)}else s.status=_t;if(s.status===_t&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&r(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=vt)):s.status=vt),0!==s.pending){if(r(t),0===t.avail_out)return s.last_flush=-1,N}else if(0===t.avail_in&&a(e)<=a(n)&&e!==B)return i(t,j);if(s.status===Ct&&0!==t.avail_in)return i(t,j);if(0!==t.avail_in||0!==s.lookahead||e!==G&&s.status!==Ct){var f=s.strategy===H?_(s,e):s.strategy===Y?g(s,e):R[s.level].func(s,e);if(f!==bt&&f!==Tt||(s.status=Ct),f===St||f===bt)return 0===t.avail_out&&(s.last_flush=-1),N;if(f===yt&&(e===F?U._tr_align(s):e!==D&&(U._tr_stored_block(s,0,0,!1),e===L&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),r(t),0===t.avail_out))return s.last_flush=-1,N}return e!==B?N:s.wrap<=0?J:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),r(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?N:J)}function A(t){var e;return t&&t.state?(e=t.state.status,e!==pt&&e!==ft&&e!==mt&&e!==gt&&e!==_t&&e!==vt&&e!==Ct?i(t,z):(t.state=null,e===vt?i(t,q):N)):z}function k(t,e){var n,i,a,r,s,l,c,u,h=e.length;if(!t||!t.state)return z;if(n=t.state,r=n.wrap,2===r||1===r&&n.status!==pt||n.lookahead)return z;for(1===r&&(t.adler=E(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===r&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new O.Buf8(n.w_size),O.arraySet(u,e,h-n.w_size,n.w_size,0),e=u,h=n.w_size),s=t.avail_in,l=t.next_in,c=t.input,t.avail_in=h,t.next_in=0,t.input=e,d(n);n.lookahead>=ct;){i=n.strstart,a=n.lookahead-(ct-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ct-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--a);n.strstart=i,n.lookahead=ct-1,d(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ct-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=s,n.wrap=r,N}var R,O=t("../utils/common"),U=t("./trees"),E=t("./adler32"),x=t("./crc32"),M=t("./messages"),G=0,F=1,L=3,B=4,D=5,N=0,J=1,z=-2,q=-3,j=-5,W=-1,V=1,H=2,Y=3,K=4,Z=0,X=2,Q=8,$=9,tt=15,et=8,nt=29,it=256,at=it+1+nt,ot=30,rt=19,st=2*at+1,lt=15,ct=3,ut=258,ht=ut+ct+1,dt=32,pt=42,ft=69,mt=73,gt=91,_t=103,vt=113,Ct=666,St=1,yt=2,bt=3,Tt=4,Pt=3;R=[new v(0,0,0,0,p),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,m),new v(8,16,32,32,m),new v(8,16,128,128,m),new v(8,32,128,256,m),new v(32,128,258,1024,m),new v(32,258,258,4096,m)],n.deflateInit=w,n.deflateInit2=P,n.deflateReset=b,n.deflateResetKeep=y,n.deflateSetHeader=T,n.deflate=I,n.deflateEnd=A,n.deflateSetDictionary=k,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,n){function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],10:[function(t,e,n){var i=30,a=12;e.exports=function(t,e){var n,o,r,s,l,c,u,h,d,p,f,m,g,_,v,C,S,y,b,T,P,w,I,A,k;n=t.state,o=t.next_in,A=t.input,r=o+(t.avail_in-5),s=t.next_out,k=t.output,l=s-(e-t.avail_out),c=s+(t.avail_out-257),u=n.dmax,h=n.wsize,d=n.whave,p=n.wnext,f=n.window,m=n.hold,g=n.bits,_=n.lencode,v=n.distcode,C=(1<<n.lenbits)-1,S=(1<<n.distbits)-1;t:do{g<15&&(m+=A[o++]<<g,g+=8,m+=A[o++]<<g,g+=8),y=_[m&C];e:for(;;){if(b=y>>>24,m>>>=b,g-=b,b=y>>>16&255,0===b)k[s++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=_[(65535&y)+(m&(1<<b)-1)];continue e}if(32&b){n.mode=a;break t}t.msg="invalid literal/length code",n.mode=i;break t}T=65535&y,b&=15,b&&(g<b&&(m+=A[o++]<<g,g+=8),T+=m&(1<<b)-1,m>>>=b,g-=b),g<15&&(m+=A[o++]<<g,g+=8,m+=A[o++]<<g,g+=8),y=v[m&S];n:for(;;){if(b=y>>>24,m>>>=b,g-=b,b=y>>>16&255,!(16&b)){if(0===(64&b)){y=v[(65535&y)+(m&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=i;break t}if(P=65535&y,b&=15,g<b&&(m+=A[o++]<<g,g+=8,g<b&&(m+=A[o++]<<g,g+=8)),P+=m&(1<<b)-1,P>u){t.msg="invalid distance too far back",n.mode=i;break t}if(m>>>=b,g-=b,b=s-l,P>b){if(b=P-b,b>d&&n.sane){t.msg="invalid distance too far back",n.mode=i;break t}if(w=0,I=f,0===p){if(w+=h-b,b<T){T-=b;do k[s++]=f[w++];while(--b);w=s-P,I=k}}else if(p<b){if(w+=h+p-b,b-=p,b<T){T-=b;do k[s++]=f[w++];while(--b);if(w=0,p<T){b=p,T-=b;do k[s++]=f[w++];while(--b);w=s-P,I=k}}}else if(w+=p-b,b<T){T-=b;do k[s++]=f[w++];while(--b);w=s-P,I=k}for(;T>2;)k[s++]=I[w++],k[s++]=I[w++],k[s++]=I[w++],T-=3;T&&(k[s++]=I[w++],T>1&&(k[s++]=I[w++]))}else{w=s-P;do k[s++]=k[w++],k[s++]=k[w++],k[s++]=k[w++],T-=3;while(T>2);T&&(k[s++]=k[w++],T>1&&(k[s++]=k[w++]))}break}}break}}while(o<r&&s<c);T=g>>3,o-=T,g-=T<<3,m&=(1<<g)-1,t.next_in=o,t.next_out=s,t.avail_in=o<r?5+(r-o):5-(o-r),t.avail_out=s<c?257+(c-s):257-(s-c),n.hold=m,n.bits=g}},{}],11:[function(t,e,n){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=L,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(mt),e.distcode=e.distdyn=new v.Buf32(gt),e.sane=1,e.back=-1,R):E}function r(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):E}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?E:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,r(t))):E}function l(t,e){var n,i;return t?(i=new a,t.state=i,i.window=null,n=s(t,e),n!==R&&(t.state=null),n):E}function c(t){return l(t,vt)}function u(t){if(Ct){var e;for(g=new v.Buf32(512),_=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(b(P,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;b(w,t.lens,0,32,_,0,t.work,{bits:5}),Ct=!1}t.lencode=g,t.lenbits=9,t.distcode=_,t.distbits=5}function h(t,e,n,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),i>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),v.arraySet(o.window,e,n-i,a,o.wnext),i-=a,i?(v.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}function d(t,e){var n,a,o,r,s,l,c,d,p,f,m,g,_,mt,gt,_t,vt,Ct,St,yt,bt,Tt,Pt,wt,It=0,At=new v.Buf8(4),kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return E;n=t.state,n.mode===Y&&(n.mode=K),s=t.next_out,o=t.output,c=t.avail_out,r=t.next_in,a=t.input,l=t.avail_in,d=n.hold,p=n.bits,f=l,m=c,Tt=R;t:for(;;)switch(n.mode){case L:if(0===n.wrap){n.mode=K;break}for(;p<16;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(2&n.wrap&&35615===d){n.check=0,At[0]=255&d,At[1]=d>>>8&255,n.check=S(n.check,At,2,0),d=0,p=0,n.mode=B;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=dt;break}if((15&d)!==F){t.msg="unknown compression method",n.mode=dt;break}if(d>>>=4,p-=4,bt=(15&d)+8,0===n.wbits)n.wbits=bt;else if(bt>n.wbits){t.msg="invalid window size",n.mode=dt;break}n.dmax=1<<bt,t.adler=n.check=1,n.mode=512&d?V:Y,d=0,p=0;break;case B:for(;p<16;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(n.flags=d,(255&n.flags)!==F){t.msg="unknown compression method",n.mode=dt;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=dt;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(At[0]=255&d,At[1]=d>>>8&255,n.check=S(n.check,At,2,0)),d=0,p=0,n.mode=D;case D:for(;p<32;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.head&&(n.head.time=d),512&n.flags&&(At[0]=255&d,At[1]=d>>>8&255,At[2]=d>>>16&255,At[3]=d>>>24&255,n.check=S(n.check,At,4,0)),d=0,p=0,n.mode=N;case N:for(;p<16;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(At[0]=255&d,At[1]=d>>>8&255,n.check=S(n.check,At,2,0)),d=0,p=0,n.mode=J;case J:if(1024&n.flags){for(;p<16;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(At[0]=255&d,At[1]=d>>>8&255,n.check=S(n.check,At,2,0)),d=0,p=0}else n.head&&(n.head.extra=null);n.mode=z;case z:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(bt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,a,r,g,bt)),512&n.flags&&(n.check=S(n.check,a,g,r)),l-=g,r+=g,n.length-=g),n.length))break t;n.length=0,n.mode=q;case q:if(2048&n.flags){if(0===l)break t;g=0;do bt=a[r+g++],n.head&&bt&&n.length<65536&&(n.head.name+=String.fromCharCode(bt));while(bt&&g<l);if(512&n.flags&&(n.check=S(n.check,a,g,r)),l-=g,r+=g,bt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===l)break t;g=0;do bt=a[r+g++],n.head&&bt&&n.length<65536&&(n.head.comment+=String.fromCharCode(bt));while(bt&&g<l);if(512&n.flags&&(n.check=S(n.check,a,g,r)),l-=g,r+=g,bt)break t}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;p<16;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(d!==(65535&n.check)){t.msg="header crc mismatch",n.mode=dt;break}d=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case V:for(;p<32;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}t.adler=n.check=i(d),d=0,p=0,n.mode=H;case H:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,n.hold=d,n.bits=p,U;t.adler=n.check=1,n.mode=Y;case Y:if(e===A||e===k)break t;case K:if(n.last){d>>>=7&p,p-=7&p,n.mode=ct;break}for(;p<3;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}switch(n.last=1&d,d>>>=1,p-=1,3&d){case 0:n.mode=Z;break;case 1:if(u(n),n.mode=nt,e===k){d>>>=2,p-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=dt}d>>>=2,p-=2;break;case Z:for(d>>>=7&p,p-=7&p;p<32;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if((65535&d)!==(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=dt;break}if(n.length=65535&d,d=0,p=0,n.mode=X,e===k)break t;case X:n.mode=Q;case Q:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break t;v.arraySet(o,a,r,g,s),l-=g,r+=g,c-=g,s+=g,n.length-=g;break}n.mode=Y;break;case $:for(;p<14;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(n.nlen=(31&d)+257,d>>>=5,p-=5,n.ndist=(31&d)+1,d>>>=5,p-=5,n.ncode=(15&d)+4,d>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=dt;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;p<3;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.lens[kt[n.have++]]=7&d,d>>>=3,p-=3}for(;n.have<19;)n.lens[kt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Pt={bits:n.lenbits},Tt=b(T,n.lens,0,19,n.lencode,0,n.work,Pt),n.lenbits=Pt.bits,Tt){t.msg="invalid code lengths set",n.mode=dt;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;It=n.lencode[d&(1<<n.lenbits)-1],gt=It>>>24,_t=It>>>16&255,vt=65535&It,!(gt<=p);){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(vt<16)d>>>=gt,p-=gt,n.lens[n.have++]=vt;else{if(16===vt){for(wt=gt+2;p<wt;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(d>>>=gt,p-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=dt;break}bt=n.lens[n.have-1],g=3+(3&d),d>>>=2,p-=2}else if(17===vt){for(wt=gt+3;p<wt;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}d>>>=gt,p-=gt,bt=0,g=3+(7&d),d>>>=3,p-=3}else{for(wt=gt+7;p<wt;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}d>>>=gt,p-=gt,bt=0,g=11+(127&d),d>>>=7,p-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=dt;break}for(;g--;)n.lens[n.have++]=bt}}if(n.mode===dt)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=dt;break}if(n.lenbits=9,Pt={bits:n.lenbits},Tt=b(P,n.lens,0,n.nlen,n.lencode,0,n.work,Pt),n.lenbits=Pt.bits,Tt){t.msg="invalid literal/lengths set",n.mode=dt;break}if(n.distbits=6,n.distcode=n.distdyn,Pt={bits:n.distbits},Tt=b(w,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Pt),n.distbits=Pt.bits,Tt){t.msg="invalid distances set",n.mode=dt;break}if(n.mode=nt,e===k)break t;case nt:n.mode=it;case it:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,n.hold=d,n.bits=p,y(t,m),s=t.next_out,o=t.output,c=t.avail_out,r=t.next_in,a=t.input,l=t.avail_in,d=n.hold,p=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;It=n.lencode[d&(1<<n.lenbits)-1],gt=It>>>24,_t=It>>>16&255,vt=65535&It,!(gt<=p);){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(_t&&0===(240&_t)){for(Ct=gt,St=_t,yt=vt;It=n.lencode[yt+((d&(1<<Ct+St)-1)>>Ct)],gt=It>>>24,_t=It>>>16&255,vt=65535&It,!(Ct+gt<=p);){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}d>>>=Ct,p-=Ct,n.back+=Ct}if(d>>>=gt,p-=gt,n.back+=gt,n.length=vt,0===_t){n.mode=lt;break}if(32&_t){n.back=-1,n.mode=Y;break}if(64&_t){t.msg="invalid literal/length code",n.mode=dt;break}n.extra=15&_t,n.mode=at;case at:if(n.extra){for(wt=n.extra;p<wt;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;It=n.distcode[d&(1<<n.distbits)-1],gt=It>>>24,_t=It>>>16&255,vt=65535&It,!(gt<=p);){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(0===(240&_t)){for(Ct=gt,St=_t,yt=vt;It=n.distcode[yt+((d&(1<<Ct+St)-1)>>Ct)],gt=It>>>24,_t=It>>>16&255,vt=65535&It,!(Ct+gt<=p);){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}d>>>=Ct,p-=Ct,n.back+=Ct}if(d>>>=gt,p-=gt,n.back+=gt,64&_t){t.msg="invalid distance code",n.mode=dt;break}n.offset=vt,n.extra=15&_t,n.mode=rt;case rt:if(n.extra){for(wt=n.extra;p<wt;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=dt;break}n.mode=st;case st:if(0===c)break t;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=dt;break}g>n.wnext?(g-=n.wnext,_=n.wsize-g):_=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,_=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do o[s++]=mt[_++];while(--g);0===n.length&&(n.mode=it);break;case lt:if(0===c)break t;o[s++]=n.length,c--,n.mode=it;break;case ct:if(n.wrap){for(;p<32;){if(0===l)break t;l--,d|=a[r++]<<p,p+=8}if(m-=c,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?S(n.check,o,m,s-m):C(n.check,o,m,s-m)),m=c,(n.flags?d:i(d))!==n.check){t.msg="incorrect data check",n.mode=dt;break}d=0,p=0}n.mode=ut;case ut:if(n.wrap&&n.flags){for(;p<32;){if(0===l)break t;l--,d+=a[r++]<<p,p+=8}if(d!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=dt;break}d=0,p=0}n.mode=ht;case ht:Tt=O;break t;case dt:Tt=x;break t;case pt:return M;case ft:default:return E}return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,n.hold=d,n.bits=p,(n.wsize||m!==t.avail_out&&n.mode<dt&&(n.mode<ct||e!==I))&&h(t,t.output,t.next_out,m-t.avail_out)?(n.mode=pt,M):(f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?S(n.check,o,m,t.next_out-m):C(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===nt||n.mode===X?256:0),(0===f&&0===m||e===I)&&Tt===R&&(Tt=G),Tt)}function p(t){if(!t||!t.state)return E;var e=t.state;return e.window&&(e.window=null),t.state=null,R}function f(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?E:(n.head=e,e.done=!1,R)):E}function m(t,e){var n,i,a,o=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==H?E:n.mode===H&&(i=1,i=C(i,e,o,0),i!==n.check)?x:(a=h(t,e,o,o))?(n.mode=pt,M):(n.havedict=1,R)):E}var g,_,v=t("../utils/common"),C=t("./adler32"),S=t("./crc32"),y=t("./inffast"),b=t("./inftrees"),T=0,P=1,w=2,I=4,A=5,k=6,R=0,O=1,U=2,E=-2,x=-3,M=-4,G=-5,F=8,L=1,B=2,D=3,N=4,J=5,z=6,q=7,j=8,W=9,V=10,H=11,Y=12,K=13,Z=14,X=15,Q=16,$=17,tt=18,et=19,nt=20,it=21,at=22,ot=23,rt=24,st=25,lt=26,ct=27,ut=28,ht=29,dt=30,pt=31,ft=32,mt=852,gt=592,_t=15,vt=_t,Ct=!0;n.inflateReset=r,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=l,n.inflate=d,n.inflateEnd=p,n.inflateGetHeader=f,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,n){var i=t("../utils/common"),a=15,o=852,r=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,f,m,g,_,v){var C,S,y,b,T,P,w,I,A,k=v.bits,R=0,O=0,U=0,E=0,x=0,M=0,G=0,F=0,L=0,B=0,D=null,N=0,J=new i.Buf16(a+1),z=new i.Buf16(a+1),q=null,j=0;for(R=0;R<=a;R++)J[R]=0;for(O=0;O<f;O++)J[e[n+O]]++;for(x=k,E=a;E>=1&&0===J[E];E--);if(x>E&&(x=E),0===E)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for(U=1;U<E&&0===J[U];U++);for(x<U&&(x=U),F=1,R=1;R<=a;R++)if(F<<=1,F-=J[R],F<0)return-1;if(F>0&&(t===s||1!==E))return-1;for(z[1]=0,R=1;R<a;R++)z[R+1]=z[R]+J[R];for(O=0;O<f;O++)0!==e[n+O]&&(_[z[e[n+O]]++]=O);if(t===s?(D=q=_,P=19):t===l?(D=u,N-=257,q=h,j-=257,P=256):(D=d,q=p,P=-1),B=0,O=0,R=U,T=g,M=x,G=0,y=-1,L=1<<x,b=L-1,t===l&&L>o||t===c&&L>r)return 1;for(var W=0;;){W++,w=R-G,_[O]<P?(I=0,A=_[O]):_[O]>P?(I=q[j+_[O]],A=D[N+_[O]]):(I=96,A=0),C=1<<R-G,S=1<<M,U=S;do S-=C,m[T+(B>>G)+S]=w<<24|I<<16|A|0;while(0!==S);for(C=1<<R-1;B&C;)C>>=1;if(0!==C?(B&=C-1,B+=C):B=0,O++,0===--J[R]){if(R===E)break;R=e[n+_[O]]}if(R>x&&(B&b)!==y){for(0===G&&(G=x),T+=U,M=R-G,F=1<<M;M+G<E&&(F-=J[M+G],!(F<=0));)M++,F<<=1;if(L+=1<<M,t===l&&L>o||t===c&&L>r)return 1;y=B&b,m[y]=x<<24|M<<16|T-g|0}}return 0!==B&&(m[T+B]=R-G<<24|64<<16|0),v.bits=x,0}},{"../utils/common":3}],13:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,n){function i(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t,e,n,i,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function r(t){return t<256?lt[t]:lt[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>K-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>K-t.bi_valid,t.bi_valid+=n-K):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){l(t,n[2*e],n[2*e+1])}function u(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function h(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function d(t,e){var n,i,a,o,r,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(o=0;o<=Y;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<H;n++)i=t.heap[n],o=l[2*l[2*i+1]+1]+1,o>f&&(o=f,m++),l[2*i+1]=o,i>c||(t.bl_count[o]++,r=0,i>=p&&(r=d[i-p]),s=l[2*i],t.opt_len+=s*(o+r),h&&(t.static_len+=s*(u[2*i+1]+r)));if(0!==m){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(i=t.bl_count[o];0!==i;)a=t.heap[--n],a>c||(l[2*a+1]!==o&&(t.opt_len+=(o-l[2*a+1])*l[2*a],l[2*a+1]=o),i--)}}function p(t,e,n){var i,a,o=new Array(Y+1),r=0;for(i=1;i<=Y;i++)o[i]=r=r+n[i-1]<<1;for(a=0;a<=e;a++){var s=t[2*a+1];0!==s&&(t[2*a]=u(o[s]++,s))}}function f(){var t,e,n,i,o,r=new Array(Y+1);for(n=0,i=0;i<z-1;i++)for(ut[i]=n,t=0;t<1<<et[i];t++)ct[n++]=i;for(ct[n-1]=i,o=0,i=0;i<16;i++)for(ht[i]=o,t=0;t<1<<nt[i];t++)lt[o++]=i;for(o>>=7;i<W;i++)for(ht[i]=o<<7,t=0;t<1<<nt[i]-7;t++)lt[256+o++]=i;for(e=0;e<=Y;e++)r[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,r[8]++;for(;t<=255;)rt[2*t+1]=9,t++,r[9]++;for(;t<=279;)rt[2*t+1]=7,t++,r[7]++;for(;t<=287;)rt[2*t+1]=8,t++,r[8]++;for(p(rt,j+1,r),t=0;t<W;t++)st[2*t+1]=5,st[2*t]=u(t,5);dt=new a(rt,et,q+1,j,Y),pt=new a(st,nt,0,W,Y),ft=new a(new Array(0),it,0,V,Z)}function m(t){var e;for(e=0;e<j;e++)t.dyn_ltree[2*e]=0;for(e=0;e<W;e++)t.dyn_dtree[2*e]=0;for(e=0;e<V;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*X]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function _(t,e,n,i){g(t),i&&(s(t,n),s(t,~n)),E.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function v(t,e,n,i){var a=2*e,o=2*n;return t[a]<t[o]||t[a]===t[o]&&i[e]<=i[n]}function C(t,e,n){for(var i=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&v(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!v(e,i,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=i}function S(t,e,n){var i,a,o,s,u=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],a=t.pending_buf[t.l_buf+u],u++,0===i?c(t,a,e):(o=ct[a],c(t,o+q+1,e),s=et[o],0!==s&&(a-=ut[o],l(t,a,s)),i--,o=r(i),c(t,o,n),s=nt[o],0!==s&&(i-=ht[o],l(t,i,s)));while(u<t.last_lit);c(t,X,e)}function y(t,e){var n,i,a,o=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=H,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=c<2?++c:0,o[2*a]=1,t.depth[a]=0,t.opt_len--,s&&(t.static_len-=r[2*a+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)C(t,o,n);a=l;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*a]=o[2*n]+o[2*i],t.depth[a]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=a,t.heap[1]=a++,C(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],d(t,e),p(o,c,t.bl_count)}function b(t,e,n){var i,a,o=-1,r=e[1],s=0,l=7,c=4;for(0===r&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)a=r,r=e[2*(i+1)+1],++s<l&&a===r||(s<c?t.bl_tree[2*a]+=s:0!==a?(a!==o&&t.bl_tree[2*a]++,t.bl_tree[2*Q]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,s=0,o=a,0===r?(l=138,c=3):a===r?(l=6,c=3):(l=7,c=4))}function T(t,e,n){var i,a,o=-1,r=e[1],s=0,u=7,h=4;for(0===r&&(u=138,h=3),i=0;i<=n;i++)if(a=r,r=e[2*(i+1)+1],!(++s<u&&a===r)){if(s<h){do c(t,a,t.bl_tree);while(0!==--s)}else 0!==a?(a!==o&&(c(t,a,t.bl_tree),s--),c(t,Q,t.bl_tree),l(t,s-3,2)):s<=10?(c(t,$,t.bl_tree),l(t,s-3,3)):(c(t,tt,t.bl_tree),l(t,s-11,7));s=0,o=a,0===r?(u=138,h=3):a===r?(u=6,h=3):(u=7,h=4)}}function P(t){var e;for(b(t,t.dyn_ltree,t.l_desc.max_code),b(t,t.dyn_dtree,t.d_desc.max_code),y(t,t.bl_desc),e=V-1;e>=3&&0===t.bl_tree[2*at[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function w(t,e,n,i){var a;for(l(t,e-257,5),l(t,n-1,5),l(t,i-4,4),a=0;a<i;a++)l(t,t.bl_tree[2*at[a]+1],3);T(t,t.dyn_ltree,e-1),T(t,t.dyn_dtree,n-1)}function I(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return M;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return G;for(e=32;e<q;e++)if(0!==t.dyn_ltree[2*e])return G;return M}function A(t){mt||(f(),mt=!0),t.l_desc=new o(t.dyn_ltree,dt),t.d_desc=new o(t.dyn_dtree,pt),t.bl_desc=new o(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,m(t)}function k(t,e,n,i){l(t,(L<<1)+(i?1:0),3),_(t,e,n,!0)}function R(t){l(t,B<<1,3),c(t,X,rt),h(t)}function O(t,e,n,i){var a,o,r=0;t.level>0?(t.strm.data_type===F&&(t.strm.data_type=I(t)),y(t,t.l_desc),y(t,t.d_desc),r=P(t),a=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=a&&(a=o)):a=o=n+5,n+4<=a&&e!==-1?k(t,e,n,i):t.strategy===x||o===a?(l(t,(B<<1)+(i?1:0),3),S(t,rt,st)):(l(t,(D<<1)+(i?1:0),3),w(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),S(t,t.dyn_ltree,t.dyn_dtree)),m(t),i&&g(t)}function U(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ct[n]+q+1)]++,t.dyn_dtree[2*r(e)]++),t.last_lit===t.lit_bufsize-1}var E=t("../utils/common"),x=4,M=0,G=1,F=2,L=0,B=1,D=2,N=3,J=258,z=29,q=256,j=q+1+z,W=30,V=19,H=2*j+1,Y=15,K=16,Z=7,X=256,Q=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,rt=new Array(2*(j+2));i(rt);var st=new Array(2*W);i(st);var lt=new Array(ot);i(lt);var ct=new Array(J-N+1);i(ct);var ut=new Array(z);i(ut);var ht=new Array(W);i(ht);var dt,pt,ft,mt=!1;n._tr_init=A,n._tr_stored_block=k,n._tr_flush_block=O,n._tr_tally=U,n._tr_align=R},{"../utils/common":3}],15:[function(t,e,n){function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],"/":[function(t,e,n){var i=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),r=t("./lib/zlib/constants"),s={};i(s,a,o,r),e.exports=s},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}),cc._RFpop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],polyglot:[function(t,e,n){(function(t){"use strict";cc._RFpush(e,"69decSgpRlE1rzEKp0RzG3V","polyglot"),function(t,i){"function"==typeof define&&define.amd?define([],function(){return i(t)}):"object"==typeof n?e.exports=i(t):t.Polyglot=i(t)}("undefined"!=typeof t?t:this,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||l}function n(t){var e,n,i,a={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(i in n)a[n[i]]=e}return a}function i(t){return u.call(t,f,"")}function a(t,e,n){var a,o,s;return null!=n&&t?(o=t.split(h),s=o[r(e,n)]||o[0],a=i(s)):a=t,a}function o(t){var e=n(p);return e[t]||e.en}function r(t,e){return d[o(t)](e)}function s(t,e){for(var n in e)if("_"!==n&&e.hasOwnProperty(n)){var i=e[n];"string"==typeof i&&(i=u.call(e[n],m,g)),t=u.call(t,new RegExp("<"+n+">","g"),i)}return t}function l(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function c(t){var e={};for(var n in t)e[n]=t[n];return e}var u=String.prototype.replace;e.VERSION="1.0.0",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==typeof n?this.extend(n,i):this.phrases[i]=n)},e.prototype.unset=function(t,e){var n;if("string"==typeof t)delete this.phrases[t];else for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==typeof n?this.unset(n,i):delete this.phrases[i])},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,i;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),i=t),"string"==typeof n&&(e=c(e),i=a(n,this.currentLocale,e.smart_count),i=s(i,e)),i},e.prototype.has=function(t){return t in this.phrases};var h="||||",d={chinese:function(t){return 0;
},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!==1||t%100===11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},f=/^\s+|\s+$/g,m=/\$/g,g="$$$$";return e}),cc._RFpop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"request-base":[function(t,e,n){"use strict";cc._RFpush(e,"7d2f4ELjOJFsJryrOFwx3cV","request-base");var i=t("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(t){return this._parser=t,this},n.serialize=function(t){return this._serializer=t,this},n.timeout=function(t){return this._timeout=t,this},n.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,i){n?e(n):t(i)})})}return this._fullfilledPromise.then(t,e)},n["catch"]=function(t){return this.then(void 0,t)},n.use=function(t){return t(this),this},n.get=function(t){return this._header[t.toLowerCase()]},n.getHeader=n.get,n.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(i(t)){for(var n in t)this.field(n,t[n]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return this._getFormData().append(t,e),this},n.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.withCredentials=function(){return this._withCredentials=!0,this},n.redirects=function(t){return this._maxRedirects=t,this},n.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n._isHost=function(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},n.send=function(t){var e=i(t),n=this._header["content-type"];if(e&&i(this._data))for(var a in t)this._data[a]=t[a];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},cc._RFpop()},{"./is-object":"is-object"}],request:[function(t,e,n){"use strict";function i(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}cc._RFpush(e,"4cfd4Fki/VB54n9XVDE7Ax0","request"),e.exports=i,cc._RFpop()},{}],require:[function(require,module,exports){"use strict";cc._RFpush(module,"21ad9W9dPhPyqH/dvVMwN/c","require");var requirejs,require,define;!function(global,setTimeout){function commentReplace(t,e){return e||""}function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var n;for(n=0;n<t.length&&(!t[n]||!e(t[n],n,t));n+=1);}}function eachReverse(t,e){if(t){var n;for(n=t.length-1;n>-1&&(!t[n]||!e(t[n],n,t));n-=1);}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var n;for(n in t)if(hasProp(t,n)&&e(t[n],n))break}function mixin(t,e,n,i){return e&&eachProp(e,function(e,a){!n&&hasProp(t,a)||(!i||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?t[a]=e:(t[a]||(t[a]={}),mixin(t[a],e,n,i)))}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,n,i){var a=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return a.requireType=t,a.requireModules=i,n&&(a.originalError=n),a}function newContext(t){function e(t){var e,n;for(e=0;e<t.length;e++)if(n=t[e],"."===n)t.splice(e,1),e-=1;else if(".."===n){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}function n(t,n,i){var a,o,r,s,l,c,u,h,d,p,f,m,g=n&&n.split("/"),_=T.map,v=_&&_["*"];if(t&&(t=t.split("/"),u=t.length-1,T.nodeIdCompat&&jsSuffixRegExp.test(t[u])&&(t[u]=t[u].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),t=m.concat(t)),e(t),t=t.join("/")),i&&_&&(g||v)){r=t.split("/");t:for(s=r.length;s>0;s-=1){if(c=r.slice(0,s).join("/"),g)for(l=g.length;l>0;l-=1)if(o=getOwn(_,g.slice(0,l).join("/")),o&&(o=getOwn(o,c))){h=o,d=s;break t}!p&&v&&getOwn(v,c)&&(p=getOwn(v,c),f=s)}!h&&p&&(h=p,d=f),h&&(r.splice(0,d,h),t=r.join("/"))}return a=getOwn(T.pkgs,t),a?a:t}function i(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===S.contextName)return e.parentNode.removeChild(e),!0})}function a(t){var e=getOwn(T.paths,t);if(e&&isArray(e)&&e.length>1)return e.shift(),S.require.undef(t),S.makeRequire(null,{skipMap:!0})([t]),!0}function o(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function r(t,e,i,a){var r,s,l,c,u=null,h=e?e.name:null,d=t,p=!0,f="";return t||(p=!1,t="_@r"+(U+=1)),c=o(t),u=c[0],t=c[1],u&&(u=n(u,h,a),s=getOwn(k,u)),t&&(u?f=s&&s.normalize?s.normalize(t,function(t){return n(t,h,a)}):t.indexOf("!")===-1?n(t,h,a):t:(f=n(t,h,a),c=o(f),u=c[0],f=c[1],i=!0,r=S.nameToUrl(f))),l=!u||s||i?"":"_unnormalized"+(E+=1),{prefix:u,name:f,parentMap:e,unnormalized:!!l,url:r,originalName:d,isDefine:p,id:(u?u+"!"+f:f)+l}}function s(t){var e=t.id,n=getOwn(P,e);return n||(n=P[e]=new S.Module(t)),n}function l(t,e,n){var i=t.id,a=getOwn(P,i);!hasProp(k,i)||a&&!a.defineEmitComplete?(a=s(t),a.error&&"error"===e?n(a.error):a.on(e,n)):"defined"===e&&n(k[i])}function c(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){var n=getOwn(P,e);n&&(n.error=t,n.events.error&&(i=!0,n.emit("error",t)))}),i||req.onError(t))}function u(){globalDefQueue.length&&(each(globalDefQueue,function(t){var e=t[0];"string"==typeof e&&(S.defQueueMap[e]=!0),A.push(t)}),globalDefQueue=[])}function h(t){delete P[t],delete w[t]}function d(t,e,n){var i=t.map.id;t.error?t.emit("error",t.error):(e[i]=!0,each(t.depMaps,function(i,a){var o=i.id,r=getOwn(P,o);!r||t.depMatched[a]||n[o]||(getOwn(e,o)?(t.defineDep(a,k[o]),t.check()):d(r,e,n))}),n[i]=!0)}function p(){var t,e,n=1e3*T.waitSeconds,o=n&&S.startTime+n<(new Date).getTime(),r=[],s=[],l=!1,u=!0;if(!v){if(v=!0,eachProp(w,function(t){var n=t.map,c=n.id;if(t.enabled&&(n.isDefine||s.push(t),!t.error))if(!t.inited&&o)a(c)?(e=!0,l=!0):(r.push(c),i(c));else if(!t.inited&&t.fetched&&n.isDefine&&(l=!0,!n.prefix))return u=!1}),o&&r.length)return t=makeError("timeout","Load timeout for modules: "+r,null,r),t.contextName=S.contextName,c(t);u&&each(s,function(t){d(t,{},{})}),o&&!e||!l||!isBrowser&&!isWebWorker||b||(b=setTimeout(function(){b=0,p()},50)),v=!1}}function f(t){hasProp(k,t[0])||s(r(t[0],null,!0)).init(t[1],t[2])}function m(t,e,n,i){t.detachEvent&&!isOpera?i&&t.detachEvent(i,e):t.removeEventListener(n,e,!1)}function g(t){var e=t.currentTarget||t.srcElement;return m(e,S.onScriptLoad,"load","onreadystatechange"),m(e,S.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function _(){var t;for(u();A.length;){if(t=A.shift(),null===t[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));f(t)}S.defQueueMap={}}var v,C,S,y,b,T={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},P={},w={},I={},A=[],k={},R={},O={},U=1,E=1;return y={require:function(t){return t.require?t.require:t.require=S.makeRequire(t.map)},exports:function(t){if(t.usingExports=!0,t.map.isDefine)return t.exports?k[t.map.id]=t.exports:t.exports=k[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(T.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}},C=function(t){this.events=getOwn(I,t.id)||{},this.map=t,this.shim=getOwn(T.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},C.prototype={init:function(t,e,n,i){i=i||{},this.inited||(this.factory=e,n?this.on("error",n):this.events.error&&(n=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,S.startTime=(new Date).getTime();var t=this.map;return this.shim?void S.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()})):t.prefix?this.callPlugin():this.load()}},load:function(){var t=this.map.url;R[t]||(R[t]=!0,S.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,i=this.depExports,a=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=S.execCb(n,o,i,a)}catch(r){t=r}else a=S.execCb(n,o,i,a);if(this.map.isDefine&&void 0===a&&(e=this.module,e?a=e.exports:this.usingExports&&(a=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",c(this.error=t)}else a=o;if(this.exports=a,this.map.isDefine&&!this.ignore&&(k[n]=a,req.onResourceLoad)){var s=[];each(this.depMaps,function(t){s.push(t.normalizedMap||t)}),req.onResourceLoad(S,this.map,s)}h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(S.defQueueMap,n)||this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,i=r(t.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var a,o,u,d=getOwn(O,this.map.id),p=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,m=S.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(t){return n(t,f,!0)})||""),o=r(t.prefix+"!"+p,this.map.parentMap),l(o,"defined",bind(this,function(t){this.map.normalizedMap=o,this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),u=getOwn(P,o.id),void(u&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(t){this.emit("error",t)})),u.enable()))):d?(this.map.url=S.nameToUrl(d),void this.load()):(a=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})}),a.error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(P,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&h(t.map.id)}),c(t)}),a.fromText=bind(this,function(n,i){var o=t.name,l=r(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),s(l),hasProp(T.config,e)&&(T.config[o]=T.config[e]);try{req.exec(n)}catch(h){return c(makeError("fromtexteval","fromText eval for "+e+" failed: "+h,h,[e]))}u&&(useInteractive=!0),this.depMaps.push(l),S.completeLoad(o),m([o],a)}),void i.load(t.name,m,a,T))})),S.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){w[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var n,i,a;if("string"==typeof t){if(t=r(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,a=getOwn(y,t.id))return void(this.depExports[e]=a(this));this.depCount+=1,l(t,"defined",bind(this,function(t){this.undefed||(this.defineDep(e,t),this.check())})),this.errback?l(t,"error",bind(this,this.errback)):this.events.error&&l(t,"error",bind(this,function(t){this.emit("error",t)}))}n=t.id,i=P[n],hasProp(y,n)||!i||i.enabled||S.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(P,t.id);e&&!e.enabled&&S.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var n=this.events[t];n||(n=this.events[t]=[]),n.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},S={config:T,contextName:t,registry:P,defined:k,urlFetched:R,defQueue:A,defQueueMap:{},Module:C,makeModuleMap:r,nextTick:req.nextTick,onError:c,configure:function(t){if(t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/"),"string"==typeof t.urlArgs){var e=t.urlArgs;t.urlArgs=function(t,n){return(n.indexOf("?")===-1?"?":"&")+e}}var n=T.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){i[e]?(T[e]||(T[e]={}),mixin(T[e],t,!0,!0)):T[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(O[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=S.makeShimExports(t)),n[e]=t}),T.shim=n),t.packages&&each(t.packages,function(t){var e,n;t="string"==typeof t?{name:t}:t,n=t.name,e=t.location,e&&(T.paths[n]=t.location),T.pkgs[n]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(P,function(t,e){t.inited||t.map.unnormalized||(t.map=r(e,null,!0))}),(t.deps||t.callback)&&S.require(t.deps||[],t.callback)},makeShimExports:function(t){function e(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}return e},makeRequire:function(e,a){function o(n,i,l){var u,h,d;return a.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):e&&hasProp(y,n)?y[n](P[e.id]):req.get?req.get(S,n,e,o):(h=r(n,e,!1,!0),u=h.id,hasProp(k,u)?k[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(_(),S.nextTick(function(){_(),d=s(r(null,e)),d.skipMap=a.skipMap,d.init(n,i,l,{enabled:!0}),p()}),o)}return a=a||{},mixin(o,{isBrowser:isBrowser,toUrl:function(t){var i,a=t.lastIndexOf("."),o=t.split("/")[0],r="."===o||".."===o;return a!==-1&&(!r||a>1)&&(i=t.substring(a,t.length),t=t.substring(0,a)),S.nameToUrl(n(t,e&&e.id,!0),i,!0)},defined:function(t){return hasProp(k,r(t,e,!1,!0).id)},specified:function(t){return t=r(t,e,!1,!0).id,hasProp(k,t)||hasProp(P,t)}}),e||(o.undef=function(t){u();var n=r(t,e,!0),a=getOwn(P,t);a.undefed=!0,i(t),delete k[t],delete R[n.url],delete I[t],eachReverse(A,function(e,n){e[0]===t&&A.splice(n,1)}),delete S.defQueueMap[t],a&&(a.events.defined&&(I[t]=a.events),h(t))}),o},enable:function(t){var e=getOwn(P,t.id);e&&s(t).enable()},completeLoad:function(t){var e,n,i,o=getOwn(T.shim,t)||{},r=o.exports;for(u();A.length;){if(n=A.shift(),null===n[0]){if(n[0]=t,e)break;e=!0}else n[0]===t&&(e=!0);f(n)}if(S.defQueueMap={},i=getOwn(P,t),!e&&!hasProp(k,t)&&i&&!i.inited){if(!(!T.enforceDefine||r&&getGlobal(r)))return a(t)?void 0:c(makeError("nodefine","No define call for "+t,null,[t]));f([t,o.deps||[],o.exportsFn])}p()},nameToUrl:function(t,e,n){var i,a,o,r,s,l,c,u=getOwn(T.pkgs,t);if(u&&(t=u),c=getOwn(O,t))return S.nameToUrl(c,e,n);if(req.jsExtRegExp.test(t))s=t+(e||"");else{for(i=T.paths,a=t.split("/"),o=a.length;o>0;o-=1)if(r=a.slice(0,o).join("/"),l=getOwn(i,r)){isArray(l)&&(l=l[0]),a.splice(0,o,l);break}s=a.join("/"),s+=e||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":T.baseUrl)+s}return T.urlArgs&&!/^blob\:/.test(s)?s+T.urlArgs(t,s):s},load:function(t,e){req.load(S,t,e)},execCb:function(t,e,n,i){return e.apply(i,n)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=g(t);S.completeLoad(e.id)}},onScriptError:function(t){var e=g(t);if(!a(e.id)){var n=[];return eachProp(P,function(t,i){0!==i.indexOf("_@r")&&each(t.depMaps,function(t){if(t.id===e.id)return n.push(i),!0})}),c(makeError("scripterror",'Script error for "'+e.id+(n.length?'", needed by: '+n.join(", "):'"'),t,[e.id]))}}},S.require=S.makeRequire(),S}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.2",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,n,i){var a,o,r=defContextName;return isArray(t)||"string"==typeof t||(o=t,isArray(e)?(t=e,e=n,n=i):t=[]),o&&o.context&&(r=o.context),a=getOwn(contexts,r),a||(a=contexts[r]=req.s.newContext(r)),o&&a.configure(o),a.require(t,e,n)},req.config=function(t){return req(t)},req.nextTick="undefined"!=typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t,e,n){var i=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=t.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(t,e,n){var i,a=t&&t.config||{};if(isBrowser)return i=req.createNode(a,e,n),i.setAttribute("data-requirecontext",t.contextName),i.setAttribute("data-requiremodule",e),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",t.onScriptLoad,!1),i.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",t.onScriptLoad)),i.src=n,a.onNodeCreated&&a.onNodeCreated(i,a,e,n),currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),t.completeLoad(e)}catch(o){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+n,o,[e]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){if(head||(head=t.parentNode),dataMain=t.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||mainScript.indexOf("!")!==-1||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(t,e,n){var i,a;"string"!=typeof t&&(n=e,e=t,t=null),isArray(e)||(n=e,e=null),!e&&isFunction(n)&&(e=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(t,n){e.push(n)}),e=(1===n.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(t||(t=i.getAttribute("data-requiremodule")),a=contexts[i.getAttribute("data-requirecontext")])),a?(a.defQueue.push([t,e,n]),a.defQueueMap[t]=!0):globalDefQueue.push([t,e,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),cc._RFpop()},{}],"state-machine-min":[function(t,e,n){"use strict";cc._RFpush(e,"575f82HTbtMjKgw6lY3v3Jv","state-machine-min"),function(){var t={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,n){var i="string"==typeof e.initial?{state:e.initial}:e.initial,a=e.terminal||e["final"],o=n||e.target||{},r=e.events||[],s=e.callbacks||{},l={},c={},u=function(e){var n=e.from instanceof Array?e.from:e.from?[e.from]:[t.WILDCARD];l[e.name]=l[e.name]||{};for(var i=0;i<n.length;i++)c[n[i]]=c[n[i]]||[],c[n[i]].push(e.name),l[e.name][n[i]]=e.to||n[i]};i&&(i.event=i.event||"startup",u({name:i.event,from:"none",to:i.state}));for(var h=0;h<r.length;h++)u(r[h]);for(var d in l)l.hasOwnProperty(d)&&(o[d]=t.buildEvent(d,l[d]));for(var d in s)s.hasOwnProperty(d)&&(o[d]=s[d]);return o.current="none",o.is=function(t){return t instanceof Array?t.indexOf(this.current)>=0:this.current===t},o.can=function(e){return!this.transition&&(l[e].hasOwnProperty(this.current)||l[e].hasOwnProperty(t.WILDCARD))},o.cannot=function(t){return!this.can(t)},o.transitions=function(){return c[this.current]},o.isFinished=function(){return this.is(a)},o.error=e.error||function(t,e,n,i,a,o,r){throw r||o},i&&!i.defer&&o[i.event](),o},doCallback:function(e,n,i,a,o,r){if(n)try{return n.apply(e,[i,a,o].concat(r))}catch(s){return e.error(i,a,o,r,t.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",s)}},beforeAnyEvent:function(e,n,i,a,o){return t.doCallback(e,e.onbeforeevent,n,i,a,o)},afterAnyEvent:function(e,n,i,a,o){return t.doCallback(e,e.onafterevent||e.onevent,n,i,a,o)},leaveAnyState:function(e,n,i,a,o){return t.doCallback(e,e.onleavestate,n,i,a,o)},enterAnyState:function(e,n,i,a,o){return t.doCallback(e,e.onenterstate||e.onstate,n,i,a,o)},changeState:function(e,n,i,a,o){return t.doCallback(e,e.onchangestate,n,i,a,o)},beforeThisEvent:function(e,n,i,a,o){return t.doCallback(e,e["onbefore"+n],n,i,a,o)},afterThisEvent:function(e,n,i,a,o){return t.doCallback(e,e["onafter"+n]||e["on"+n],n,i,a,o)},leaveThisState:function(e,n,i,a,o){return t.doCallback(e,e["onleave"+i],n,i,a,o)},enterThisState:function(e,n,i,a,o){return t.doCallback(e,e["onenter"+a]||e["on"+a],n,i,a,o)},beforeEvent:function(e,n,i,a,o){if(!1===t.beforeThisEvent(e,n,i,a,o)||!1===t.beforeAnyEvent(e,n,i,a,o))return!1},afterEvent:function(e,n,i,a,o){t.afterThisEvent(e,n,i,a,o),t.afterAnyEvent(e,n,i,a,o)},leaveState:function(e,n,i,a,o){var r=t.leaveThisState(e,n,i,a,o),s=t.leaveAnyState(e,n,i,a,o);return!1!==r&&!1!==s&&(t.ASYNC===r||t.ASYNC===s?t.ASYNC:void 0)},enterState:function(e,n,i,a,o){t.enterThisState(e,n,i,a,o),t.enterAnyState(e,n,i,a,o)},buildEvent:function(e,n){return function(){var i=this.current,a=n[i]||n[t.WILDCARD]||i,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,i,a,o,t.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,i,a,o,t.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===t.beforeEvent(this,e,i,a,o))return t.Result.CANCELLED;if(i===a)return t.afterEvent(this,e,i,a,o),t.Result.NOTRANSITION;var r=this;this.transition=function(){return r.transition=null,r.current=a,t.enterState(r,e,i,a,o),t.changeState(r,e,i,a,o),t.afterEvent(r,e,i,a,o),t.Result.SUCCEEDED},this.transition.cancel=function(){r.transition=null,t.afterEvent(r,e,i,a,o)};var s=t.leaveState(this,e,i,a,o);return!1===s?(this.transition=null,t.Result.CANCELLED):t.ASYNC===s?t.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=t),n.StateMachine=t):"function"==typeof define&&define.amd?define(function(e){return t}):"undefined"!=typeof window?window.StateMachine=t:"undefined"!=typeof self&&(self.StateMachine=t)}(),cc._RFpop()},{}],superagent:[function(t,e,n){(function(i){"use strict";cc._RFpush(e,"eee8dpvrcpGF6P1u2m78/5S","superagent"),function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,a.superagent=t()}}(function(){return function e(n,i,a){function o(s,l){if(!i[s]){if(!n[s]){var c="function"==typeof t&&t;if(!l&&c)return c(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var e=n[s][1][t];return o(e?e:t)},h,h.exports,e,n,i,a)}return i[s].exports}for(var r="function"==typeof t&&t,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(t,e,n){function i(t){return null!==t&&"object"==typeof t}e.exports=i},{}],2:[function(t,e,n){var i=t("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(t){return this._parser=t,this},n.serialize=function(t){return this._serializer=t,this},n.timeout=function(t){return this._timeout=t,this},n.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,i){n?e(n):t(i)})})}return this._fullfilledPromise.then(t,e)},n["catch"]=function(t){return this.then(void 0,t)},n.use=function(t){return t(this),this},n.get=function(t){return this._header[t.toLowerCase()]},n.getHeader=n.get,n.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(i(t)){for(var n in t)this.field(n,t[n]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return this._getFormData().append(t,e),this},n.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.withCredentials=function(){return this._withCredentials=!0,this},n.redirects=function(t){return this._maxRedirects=t,this},n.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n._isHost=function(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},n.send=function(t){var e=i(t),n=this._header["content-type"];if(e&&i(this._data))for(var a in t)this._data[a]=t[a];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)}},{"./is-object":1}],3:[function(t,e,n){function i(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}e.exports=i},{}],4:[function(t,e,n){function i(t){if(t)return a(t)}function a(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}"undefined"!=typeof e&&(e.exports=i),i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],5:[function(t,e,n){function i(){}function a(t){if(!_(t))return t;var e=[];for(var n in t)o(e,n,t[n]);return e.join("&")}function o(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(t,e,n)});else if(_(n))for(var i in n)o(t,e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function r(t){for(var e,n,i={},a=t.split("&"),o=0,r=a.length;o<r;++o)e=a[o],n=e.indexOf("="),n==-1?i[decodeURIComponent(e)]="":i[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return i}function s(t){var e,n,i,a,o=t.split(/\r?\n/),r={};o.pop();for(var s=0,l=o.length;s<l;++s)n=o[s],e=n.indexOf(":"),i=n.slice(0,e).toLowerCase(),a=C(n.slice(e+1)),r[i]=a;return r}function l(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function u(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),i=n.shift(),a=n.shift();return i&&a&&(t[i]=a),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=s(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(i){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=i,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}n.emit("response",e);var a;try{(e.status<200||e.status>=300)&&(a=new Error(e.statusText||"Unsuccessful HTTP response"),a.original=t,a.response=e,a.status=e.status)}catch(i){a=i}a?n.callback(a,e):n.callback(null,e)})}function p(t,e){var n=v("DELETE",t);return e&&n.end(e),n}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=this);var m=t("emitter"),g=t("./request-base"),_=t("./is-object"),v=e.exports=t("./request").bind(null,d);v.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}
try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only verison of superagent could not find XHR")};var C="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=a,v.parseString=r,v.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":r,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype._setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=u(e);for(var i in n)this[i]=n[i]},h.prototype._parseBody=function(t){var e=v.parse[this.type];return!e&&l(this.type)&&(e=v.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype._setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",a=new Error(i);return a.status=this.status,a.method=e,a.url=n,a},v.Response=h,m(d.prototype);for(var S in g)d.prototype[S]=g[S];d.prototype.type=function(t){return this.set("Content-Type",v.types[t]||t),this},d.prototype.responseType=function(t){return this._responseType=t,this},d.prototype.accept=function(t){return this.set("Accept",v.types[t]||t),this},d.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var i=btoa(t+":"+e);this.set("Authorization","Basic "+i);break;case"auto":this.username=t,this.password=e}return this},d.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},d.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},d.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype._timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype._appendQueryString=function(){var t=this._query.join("&");t&&(this.url+=~this.url.indexOf("?")?"&"+t:"?"+t)},d.prototype.end=function(t){var e=this,n=this.xhr=v.getXHR(),a=this._timeout,o=this._formData||this._data;this._callback=t||i,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(i){t=0}if(0==t){if(e.timedout)return e._timeoutError();if(e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{n.onprogress=r.bind(null,"download"),n.upload&&(n.upload.onprogress=r.bind(null,"upload"))}catch(s){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),this._appendQueryString(),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!this._isHost(o)){var c=this._header["content-type"],u=this._serializer||v.serialize[c?c.split(";")[0]:""];!u&&l(c)&&(u=v.serialize["application/json"]),u&&(o=u(o))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof o?o:null),this},v.Request=d,v.get=function(t,e,n){var i=v("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},v.head=function(t,e,n){var i=v("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.options=function(t,e,n){var i=v("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.del=p,v["delete"]=p,v.patch=function(t,e,n){var i=v("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.post=function(t,e,n){var i=v("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},v.put=function(t,e,n){var i=v("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}},{"./is-object":1,"./request":3,"./request-base":2,emitter:4}]},{},[5])(5)}),cc._RFpop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-object":"is-object","./request":"request","./request-base":"request-base",emitter:"emitter"}]},{},["PlayPhGameUser","TabGroup","AtlasResources","ShakeComp","ToggleButton","DebugApi","ToggleGroup","SceneSpriteLight","GameJackpot","PPClientAPIManager","UITournament","PPStartSpin","TransactionManager","AudioSourceManager","MoveSinComp","LogMe","lokaki_data","PPSpinner","PlayOnSpin","UIIntroAnimation","UIChatLayout","CardUtility","require","GameStResults","OktTriggerManager_","PlayPhApi","PrefabInstantiator","UITutorialTimeout","UserApi","TransactionApi","UIGroupFilter","TournamentApi","CardDefs","Mathf","InstantiateSlots","UITriggers","GameUserInventory","PlayPhClientAPIManager","Error","Profiller","SFSChat","UITutorialShift","request","ClientAPIManager","UIBaseAnimated","UISpinSlot","is-object","state-machine-min","CachedResource","AudioTriggers","PlayPhGameUserInventory","emitter","PPGetApi","UICardResults","UIPopup","TrailComponent","GameStDropCards","UIChooseCard","GameStFinish","PlayOnFinishSpin","polyglot","SimulationInitializer","PPAvailableSpinner","UITapToPlay","OktTriggerManagerTest","UIManager","JackpotButton","PlayPhApiApi","UITutorialSlideShow","request-base","PPPostApi","ParticleClonerComp","RealTimeRotation","GameTransaction","DisableOnSpin","UIBase","InventoryManager","client","CardSlotModel","CardsJsonData","GameUserInventoryList","PPCompleteSpin","UIFinish","PlayPhPutSimulationResponse","GameUser","UIPrize","UIChangeOnGameMode","InventoryApi","PlayPhCardUsed","RotateComp","UIResults","SpinButtonEffect","ButtonHelp","SimulationOptions","GameFSM","PPCard","CardsFactory","DebugUtil","OktTriggerManager","LabelColorChangerComp","UITutorialMessage","CardComponent","CustomAction","ApiClient","BaseInteraction","ClientApiTest","Lokaki","UILoading","UIOktLabel","BallSimulationScene","BlinkComp","JackpotSceneBase","StartScript","okt","StringUtil","UIOktButton","index","GameSimulation","RouletteEffects","PrintInfos","DontDestroyOnLoad","Events","PlayPhSimulation","GameStIntroAnimation","TournamentContent","UITutorialTimeout_Spin","GameTriggers","PlayPhSimulationsPutParam","GameTournament","BGChangerComp","SpinnerScene","GameStPullData","UICardsLayoultView","SFSChatView","PlayPhGetUserSimulationResponse","GameStGameplay","SFSChatController","OnDestroyLog","UITutorialTimeout_BigJackpot","mJackpotUtils","PlaySounder","UIChooseCardSelectedBG","PlatformUtil","pako_min","TemporaryInitializer","JackpotApi","UILose","GameStSetupGame","UICardsContent","PrefabClone","LightArrayAnimation","Roulette","GameStLoadContent","superagent","Api","UIToggleShow","UITutorialTimeout_MiniJackpot","UserDataManager","UICardInfo","SimulationApi","UICard","UISlot","GameStStart","UIGenericPopup","FlagUtility","PlayPhGameJackpot"]);